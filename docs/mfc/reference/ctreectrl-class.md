---
title: Klasa CTreeCtrl
ms.date: 11/04/2016
f1_keywords:
- CTreeCtrl
- AFXCMN/CTreeCtrl
- AFXCMN/CTreeCtrl::CTreeCtrl
- AFXCMN/CTreeCtrl::Create
- AFXCMN/CTreeCtrl::CreateDragImage
- AFXCMN/CTreeCtrl::CreateEx
- AFXCMN/CTreeCtrl::DeleteAllItems
- AFXCMN/CTreeCtrl::DeleteItem
- AFXCMN/CTreeCtrl::EditLabel
- AFXCMN/CTreeCtrl::EndEditLabelNow
- AFXCMN/CTreeCtrl::EnsureVisible
- AFXCMN/CTreeCtrl::Expand
- AFXCMN/CTreeCtrl::GetBkColor
- AFXCMN/CTreeCtrl::GetCheck
- AFXCMN/CTreeCtrl::GetChildItem
- AFXCMN/CTreeCtrl::GetCount
- AFXCMN/CTreeCtrl::GetDropHilightItem
- AFXCMN/CTreeCtrl::GetEditControl
- AFXCMN/CTreeCtrl::GetExtendedStyle
- AFXCMN/CTreeCtrl::GetFirstVisibleItem
- AFXCMN/CTreeCtrl::GetImageList
- AFXCMN/CTreeCtrl::GetIndent
- AFXCMN/CTreeCtrl::GetInsertMarkColor
- AFXCMN/CTreeCtrl::GetItem
- AFXCMN/CTreeCtrl::GetItemData
- AFXCMN/CTreeCtrl::GetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::GetItemHeight
- AFXCMN/CTreeCtrl::GetItemImage
- AFXCMN/CTreeCtrl::GetItemPartRect
- AFXCMN/CTreeCtrl::GetItemRect
- AFXCMN/CTreeCtrl::GetItemState
- AFXCMN/CTreeCtrl::GetItemStateEx
- AFXCMN/CTreeCtrl::GetItemText
- AFXCMN/CTreeCtrl::GetLastVisibleItem
- AFXCMN/CTreeCtrl::GetLineColor
- AFXCMN/CTreeCtrl::GetNextItem
- AFXCMN/CTreeCtrl::GetNextSiblingItem
- AFXCMN/CTreeCtrl::GetNextVisibleItem
- AFXCMN/CTreeCtrl::GetParentItem
- AFXCMN/CTreeCtrl::GetPrevSiblingItem
- AFXCMN/CTreeCtrl::GetPrevVisibleItem
- AFXCMN/CTreeCtrl::GetRootItem
- AFXCMN/CTreeCtrl::GetScrollTime
- AFXCMN/CTreeCtrl::GetSelectedCount
- AFXCMN/CTreeCtrl::GetSelectedItem
- AFXCMN/CTreeCtrl::GetTextColor
- AFXCMN/CTreeCtrl::GetToolTips
- AFXCMN/CTreeCtrl::GetVisibleCount
- AFXCMN/CTreeCtrl::HitTest
- AFXCMN/CTreeCtrl::InsertItem
- AFXCMN/CTreeCtrl::ItemHasChildren
- AFXCMN/CTreeCtrl::MapAccIdToItem
- AFXCMN/CTreeCtrl::MapItemToAccID
- AFXCMN/CTreeCtrl::Select
- AFXCMN/CTreeCtrl::SelectDropTarget
- AFXCMN/CTreeCtrl::SelectItem
- AFXCMN/CTreeCtrl::SelectSetFirstVisible
- AFXCMN/CTreeCtrl::SetAutoscrollInfo
- AFXCMN/CTreeCtrl::SetBkColor
- AFXCMN/CTreeCtrl::SetCheck
- AFXCMN/CTreeCtrl::SetExtendedStyle
- AFXCMN/CTreeCtrl::SetImageList
- AFXCMN/CTreeCtrl::SetIndent
- AFXCMN/CTreeCtrl::SetInsertMark
- AFXCMN/CTreeCtrl::SetInsertMarkColor
- AFXCMN/CTreeCtrl::SetItem
- AFXCMN/CTreeCtrl::SetItemData
- AFXCMN/CTreeCtrl::SetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::SetItemHeight
- AFXCMN/CTreeCtrl::SetItemImage
- AFXCMN/CTreeCtrl::SetItemState
- AFXCMN/CTreeCtrl::SetItemStateEx
- AFXCMN/CTreeCtrl::SetItemText
- AFXCMN/CTreeCtrl::SetLineColor
- AFXCMN/CTreeCtrl::SetScrollTime
- AFXCMN/CTreeCtrl::SetTextColor
- AFXCMN/CTreeCtrl::SetToolTips
- AFXCMN/CTreeCtrl::ShowInfoTip
- AFXCMN/CTreeCtrl::SortChildren
- AFXCMN/CTreeCtrl::SortChildrenCB
helpviewer_keywords:
- CTreeCtrl [MFC], CTreeCtrl
- CTreeCtrl [MFC], Create
- CTreeCtrl [MFC], CreateDragImage
- CTreeCtrl [MFC], CreateEx
- CTreeCtrl [MFC], DeleteAllItems
- CTreeCtrl [MFC], DeleteItem
- CTreeCtrl [MFC], EditLabel
- CTreeCtrl [MFC], EndEditLabelNow
- CTreeCtrl [MFC], EnsureVisible
- CTreeCtrl [MFC], Expand
- CTreeCtrl [MFC], GetBkColor
- CTreeCtrl [MFC], GetCheck
- CTreeCtrl [MFC], GetChildItem
- CTreeCtrl [MFC], GetCount
- CTreeCtrl [MFC], GetDropHilightItem
- CTreeCtrl [MFC], GetEditControl
- CTreeCtrl [MFC], GetExtendedStyle
- CTreeCtrl [MFC], GetFirstVisibleItem
- CTreeCtrl [MFC], GetImageList
- CTreeCtrl [MFC], GetIndent
- CTreeCtrl [MFC], GetInsertMarkColor
- CTreeCtrl [MFC], GetItem
- CTreeCtrl [MFC], GetItemData
- CTreeCtrl [MFC], GetItemExpandedImageIndex
- CTreeCtrl [MFC], GetItemHeight
- CTreeCtrl [MFC], GetItemImage
- CTreeCtrl [MFC], GetItemPartRect
- CTreeCtrl [MFC], GetItemRect
- CTreeCtrl [MFC], GetItemState
- CTreeCtrl [MFC], GetItemStateEx
- CTreeCtrl [MFC], GetItemText
- CTreeCtrl [MFC], GetLastVisibleItem
- CTreeCtrl [MFC], GetLineColor
- CTreeCtrl [MFC], GetNextItem
- CTreeCtrl [MFC], GetNextSiblingItem
- CTreeCtrl [MFC], GetNextVisibleItem
- CTreeCtrl [MFC], GetParentItem
- CTreeCtrl [MFC], GetPrevSiblingItem
- CTreeCtrl [MFC], GetPrevVisibleItem
- CTreeCtrl [MFC], GetRootItem
- CTreeCtrl [MFC], GetScrollTime
- CTreeCtrl [MFC], GetSelectedCount
- CTreeCtrl [MFC], GetSelectedItem
- CTreeCtrl [MFC], GetTextColor
- CTreeCtrl [MFC], GetToolTips
- CTreeCtrl [MFC], GetVisibleCount
- CTreeCtrl [MFC], HitTest
- CTreeCtrl [MFC], InsertItem
- CTreeCtrl [MFC], ItemHasChildren
- CTreeCtrl [MFC], MapAccIdToItem
- CTreeCtrl [MFC], MapItemToAccID
- CTreeCtrl [MFC], Select
- CTreeCtrl [MFC], SelectDropTarget
- CTreeCtrl [MFC], SelectItem
- CTreeCtrl [MFC], SelectSetFirstVisible
- CTreeCtrl [MFC], SetAutoscrollInfo
- CTreeCtrl [MFC], SetBkColor
- CTreeCtrl [MFC], SetCheck
- CTreeCtrl [MFC], SetExtendedStyle
- CTreeCtrl [MFC], SetImageList
- CTreeCtrl [MFC], SetIndent
- CTreeCtrl [MFC], SetInsertMark
- CTreeCtrl [MFC], SetInsertMarkColor
- CTreeCtrl [MFC], SetItem
- CTreeCtrl [MFC], SetItemData
- CTreeCtrl [MFC], SetItemExpandedImageIndex
- CTreeCtrl [MFC], SetItemHeight
- CTreeCtrl [MFC], SetItemImage
- CTreeCtrl [MFC], SetItemState
- CTreeCtrl [MFC], SetItemStateEx
- CTreeCtrl [MFC], SetItemText
- CTreeCtrl [MFC], SetLineColor
- CTreeCtrl [MFC], SetScrollTime
- CTreeCtrl [MFC], SetTextColor
- CTreeCtrl [MFC], SetToolTips
- CTreeCtrl [MFC], ShowInfoTip
- CTreeCtrl [MFC], SortChildren
- CTreeCtrl [MFC], SortChildrenCB
ms.assetid: 96e20031-6161-4143-8c12-8d1816c66d90
ms.openlocfilehash: 6a824aceae39d5aa6685176354c48a9457a40e9e
ms.sourcegitcommit: ec6dd97ef3d10b44e0fedaa8e53f41696f49ac7b
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/25/2020
ms.locfileid: "88837622"
---
# <a name="ctreectrl-class"></a>Klasa CTreeCtrl

Oferuje funkcje formantu typowego widoku drzewa systemu Windows.

## <a name="syntax"></a>Składnia

```
class CTreeCtrl : public CWnd
```

## <a name="members"></a>Elementy członkowskie

### <a name="public-constructors"></a>Konstruktory publiczne

|Nazwa|Opis|
|----------|-----------------|
|[CTreeCtrl:: CTreeCtrl](#ctreectrl)|Konstruuje `CTreeCtrl` obiekt.|

### <a name="public-methods"></a>Metody publiczne

|Nazwa|Opis|
|----------|-----------------|
|[CTreeCtrl:: Create](#create)|Tworzy formant widoku drzewa i dołącza go do `CTreeCtrl` obiektu.|
|[CTreeCtrl:: CreateDragImage](#createdragimage)|Tworzy mapę bitową przeciąganą dla określonego elementu widoku drzewa.|
|[CTreeCtrl:: CreateEx](#createex)|Tworzy formant drzewa z określonymi stylami rozszerzonymi systemu Windows i dołącza go do `CTreeCtrl` obiektu.|
|[CTreeCtrl::D eleteAllItems](#deleteallitems)|Usuwa wszystkie elementy w kontrolce widoku drzewa.|
|[CTreeCtrl::D eleteItem](#deleteitem)|Usuwa nowy element w kontrolce widoku drzewa.|
|[CTreeCtrl:: EditLabel](#editlabel)|Edytuje określony element widoku drzewa w miejscu.|
|[CTreeCtrl:: EndEditLabelNow](#endeditlabelnow)|Anuluje operację edycji na etykiecie elementu widoku drzewa w bieżącym formancie widoku drzewa.|
|[CTreeCtrl:: EnsureVisible](#ensurevisible)|Zapewnia, że element widoku drzewa jest widoczny w kontrolce widoku drzewa.|
|[CTreeCtrl:: expand](#expand)|Rozwija lub zwija elementy podrzędne określonego elementu widoku drzewa.|
|[CTreeCtrl:: GetBkColor](#getbkcolor)|Pobiera bieżący kolor tła kontrolki.|
|[CTreeCtrl:: getcheck](#getcheck)|Pobiera stan zaznaczenia elementu kontrolki drzewa.|
|[CTreeCtrl:: GetChildItem](#getchilditem)|Pobiera element podrzędny określonego elementu widoku drzewa.|
|[CTreeCtrl:: GetCount](#getcount)|Pobiera liczbę elementów drzewa skojarzonych z kontrolką widoku drzewa.|
|[CTreeCtrl:: GetDropHilightItem](#getdrophilightitem)|Pobiera obiekt docelowy operacji przeciągania i upuszczania.|
|[CTreeCtrl:: GetEditControl](#geteditcontrol)|Pobiera uchwyt kontrolki edycji służący do edytowania określonego elementu widoku drzewa.|
|[CTreeCtrl:: getextendeds](#getextendedstyle)|Pobiera rozszerzone style używane przez bieżącą kontrolkę widoku drzewa.|
|[CTreeCtrl:: GetFirstVisibleItem](#getfirstvisibleitem)|Pobiera pierwszy widoczny element określonego elementu widoku drzewa.|
|[CTreeCtrl:: GetImageList](#getimagelist)|Pobiera uchwyt listy obrazów skojarzony z kontrolką widoku drzewa.|
|[CTreeCtrl:: getwcięcie](#getindent)|Pobiera przesunięcie (w pikselach) elementu widoku drzewa z jego elementu nadrzędnego.|
|[CTreeCtrl:: GetInsertMarkColor](#getinsertmarkcolor)|Pobiera kolor używany do rysowania znacznika wstawiania dla widoku drzewa.|
|[CTreeCtrl:: GetItem](#getitem)|Pobiera atrybuty określonego elementu widoku drzewa.|
|[CTreeCtrl:: GetItemData](#getitemdata)|Zwraca wartość specyficzną dla aplikacji skojarzoną z elementem.|
|[CTreeCtrl:: GetItemExpandedImageIndex](#getitemexpandedimageindex)|Pobiera indeks obrazu do wyświetlenia, gdy określony element kontrolki widoku drzewa jest w stanie rozwiniętym.|
|[CTreeCtrl:: GetItemHeight](#getitemheight)|Pobiera bieżącą wysokość elementów widoku drzewa.|
|[CTreeCtrl:: GetItemImage](#getitemimage)|Pobiera obrazy skojarzone z elementem.|
|[CTreeCtrl:: GetItemPartRect](#getitempartrect)|Pobiera prostokąt związany z określoną częścią określonego elementu w bieżącym formancie widoku drzewa.|
|[CTreeCtrl:: GetItemRect](#getitemrect)|Pobiera prostokąt ograniczenia elementu widoku drzewa.|
|[CTreeCtrl:: GetItemState](#getitemstate)|Zwraca stan elementu.|
|[CTreeCtrl:: GetItemStateEx](#getitemstateex)|Pobiera rozszerzony stan określonego elementu w bieżącym formancie widoku drzewa.|
|[CTreeCtrl:: GetItemText](#getitemtext)|Zwraca tekst elementu.|
|[CTreeCtrl:: GetLastVisibleItem](#getlastvisibleitem)|Pobiera ostatni rozwinięty element w bieżącym formancie widoku drzewa.|
|[CTreeCtrl:: GetLineColor](#getlinecolor)|Pobiera bieżący kolor linii kontrolki widoku drzewa.|
|[CTreeCtrl:: GetNextItem](#getnextitem)|Pobiera następny element widoku drzewa, który jest zgodny z określoną relacją.|
|[CTreeCtrl:: GetNextSiblingItem](#getnextsiblingitem)|Pobiera następny element równorzędny określonego elementu widoku drzewa.|
|[CTreeCtrl:: GetNextVisibleItem](#getnextvisibleitem)|Pobiera następny widoczny element określonego elementu widoku drzewa.|
|[CTreeCtrl:: GetParentItem](#getparentitem)|Pobiera element nadrzędny określonego elementu widoku drzewa.|
|[CTreeCtrl:: GetPrevSiblingItem](#getprevsiblingitem)|Pobiera poprzedni element równorzędny określonego elementu widoku drzewa.|
|[CTreeCtrl:: GetPrevVisibleItem](#getprevvisibleitem)|Pobiera poprzedni widoczny element widoku drzewa.|
|[CTreeCtrl:: GetRootItem](#getrootitem)|Pobiera katalog główny określonego elementu widoku drzewa.|
|[CTreeCtrl:: GetScrollTime](#getscrolltime)|Pobiera maksymalny czas przewijania kontrolki widoku drzewa.|
|[CTreeCtrl:: GetSelectedCount](#getselectedcount)|Pobiera liczbę wybranych elementów w bieżącym formancie widoku drzewa.|
|[CTreeCtrl:: GetSelectedItem](#getselecteditem)|Pobiera aktualnie wybrany element widoku drzewa.|
|[CTreeCtrl:: GetTextColor](#gettextcolor)|Pobiera bieżący kolor tekstu formantu.|
|[CTreeCtrl:: GetToolTips](#gettooltips)|Pobiera uchwyt do kontrolki podrzędnej etykietki narzędzia używanej przez kontrolkę widok drzewa.|
|[CTreeCtrl:: GetVisibleCount](#getvisiblecount)|Pobiera liczbę widocznych elementów drzewa skojarzonych z kontrolką widoku drzewa.|
|[CTreeCtrl:: HitTest](#hittest)|Zwraca bieżącą pozycję kursora powiązanego z `CTreeCtrl` obiektem.|
|[CTreeCtrl:: InsertItem](#insertitem)|Wstawia nowy element w kontrolce widoku drzewa.|
|[CTreeCtrl:: ItemHasChildren](#itemhaschildren)|Zwraca wartość różną od zera, jeśli określony element ma elementy podrzędne.|
|[CTreeCtrl:: MapAccIdToItem](#mapaccidtoitem)|Mapuje określony identyfikator dostępności do dojścia do elementu widoku drzewa w bieżącym formancie widoku drzewa.|
|[CTreeCtrl:: MapItemToAccID](#mapitemtoaccid)|Mapuje określone dojście do elementu widoku drzewa w bieżącym formancie widoku drzewa na identyfikator dostępności.|
|[CTreeCtrl:: SELECT](#select)|Zaznacza, przewija do widoku lub ponownie Rysuje określony element widoku drzewa.|
|[CTreeCtrl:: SelectDropTarget](#selectdroptarget)|Ponownie rysuje element drzewa jako element docelowy operacji przeciągania i upuszczania.|
|[CTreeCtrl:: SelectItem](#selectitem)|Wybiera określony element widoku drzewa.|
|[CTreeCtrl:: SelectSetFirstVisible](#selectsetfirstvisible)|Wybiera wybrany element widoku drzewa jako pierwszy widoczny element.|
|[CTreeCtrl:: SetAutoscrollInfo](#setautoscrollinfo)|Ustawia współczynnik autoprzewijania bieżącego formantu widoku drzewa.|
|[CTreeCtrl:: SetBkColor](#setbkcolor)|Ustawia kolor tła kontrolki.|
|[CTreeCtrl:: SetCheck](#setcheck)|Ustawia stan zaznaczenia elementu kontrolki drzewa.|
|[CTreeCtrl:: setextended](#setextendedstyle)|Ustawia rozszerzone style dla bieżącego formantu widoku drzewa.|
|[CTreeCtrl:: SetImageList](#setimagelist)|Ustawia uchwyt listy obrazów skojarzony z kontrolką widoku drzewa.|
|[CTreeCtrl:: setwcięcie](#setindent)|Ustawia przesunięcie (w pikselach) elementu widoku drzewa od jego elementu nadrzędnego.|
|[CTreeCtrl:: SetInsertMark](#setinsertmark)|Ustawia znacznik wstawiania w kontrolce widoku drzewa.|
|[CTreeCtrl:: SetInsertMarkColor](#setinsertmarkcolor)|Ustawia kolor używany do rysowania znacznika wstawiania dla widoku drzewa.|
|[CTreeCtrl:: SetItem](#setitem)|Ustawia atrybuty określonego elementu widoku drzewa.|
|[CTreeCtrl:: SetItemData](#setitemdata)|Ustawia wartość specyficzną dla aplikacji skojarzoną z elementem.|
|[CTreeCtrl:: SetItemExpandedImageIndex](#setitemexpandedimageindex)|Ustawia indeks obrazu, który ma być wyświetlany, gdy określony element kontrolki widoku drzewa jest w stanie rozwiniętym.|
|[CTreeCtrl:: SetItemHeight](#setitemheight)|Ustawia wysokość elementów widoku drzewa.|
|[CTreeCtrl:: SetItemImage](#setitemimage)|Kojarzy obrazy z elementem.|
|[CTreeCtrl:: SetItemState](#setitemstate)|Ustawia stan elementu.|
|[CTreeCtrl:: SetItemStateEx](#setitemstateex)|Ustawia rozszerzony stan określonego elementu w bieżącym formancie widoku drzewa.|
|[CTreeCtrl:: SetItemText](#setitemtext)|Ustawia tekst elementu.|
|[CTreeCtrl:: SetLineColor](#setlinecolor)|Ustawia bieżący kolor linii dla kontrolki widoku drzewa.|
|[CTreeCtrl:: SetScrollTime](#setscrolltime)|Ustawia maksymalny czas przewijania kontrolki widoku drzewa.|
|[CTreeCtrl:: SetTextColor](#settextcolor)|Ustawia kolor tekstu formantu.|
|[CTreeCtrl:: setetykietki narzędzi](#settooltips)|Ustawia kontrolkę potomne etykietki narzędzia kontrolki widoku drzewa.|
|[CTreeCtrl:: ShowInfoTip](#showinfotip)|Wyświetla Porada dla określonego elementu w bieżącym formancie widoku drzewa.|
|[CTreeCtrl:: SortChildren](#sortchildren)|Sortuje elementy podrzędne danego elementu nadrzędnego.|
|[CTreeCtrl:: SortChildrenCB](#sortchildrencb)|Sortuje elementy podrzędne danego elementu nadrzędnego przy użyciu zdefiniowanej przez aplikację funkcji sortowania.|

## <a name="remarks"></a>Uwagi

"Formant widoku drzewa" to okno, które wyświetla hierarchiczną listę elementów, takich jak nagłówki w dokumencie, wpisy w indeksie lub pliki i katalogi na dysku. Każdy element składa się z etykiety i opcjonalnego obrazu mapy bitowej, a każdy element może mieć listę powiązanych elementów. Klikając element, użytkownik może rozwinąć i zwinąć skojarzoną listę podelementów.

Ten formant (i w związku z tym `CTreeCtrl` Klasa) jest dostępny tylko dla programów uruchomionych w systemach windows 98 i Windows NT w wersji 4 i nowszych.

Aby uzyskać więcej informacji na temat korzystania z programu `CTreeCtrl` , zobacz:

- [Formanty](../../mfc/controls-mfc.md)

- [Korzystanie z CTreeCtrl](../../mfc/using-ctreectrl.md)

- [Odwołanie do kontrolki widoku drzewa](/windows/win32/Controls/tree-view-control-reference) w Windows SDK.

## <a name="inheritance-hierarchy"></a>Hierarchia dziedziczenia

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CTreeCtrl`

## <a name="requirements"></a>Wymagania

**Nagłówek:** afxcmn. h

## <a name="ctreectrlcreate"></a><a name="create"></a> CTreeCtrl:: Create

Jeśli określisz formant drzewa w szablonie okna dialogowego lub jeśli używasz [CTreeView](../../mfc/reference/ctreeview-class.md), formant drzewa jest tworzony automatycznie podczas tworzenia okna dialogowego lub widoku.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parametry

*dwStyle*<br/>
Określa styl kontrolki widoku drzewa. Zastosuj style okna, opisane w [polu Wypełnij i](/windows/win32/api/winuser/nf-winuser-createwindoww)dowolna kombinacja [stylów kontrolek widoku drzewa](/windows/win32/Controls/tree-view-control-window-styles) zgodnie z opisem w Windows SDK.

*cinania*<br/>
Określa rozmiar i położenie kontrolki widoku drzewa. Może to być obiekt [CRect](../../atl-mfc-shared/reference/crect-class.md) [lub struktura.](/windows/win32/api/windef/ns-windef-rect)

*pParentWnd*<br/>
Określa okno nadrzędne kontrolki widok drzewa, zazwyczaj a `CDialog` . Nie może mieć wartości NULL.

*nID*<br/>
Określa identyfikator kontrolki widoku drzewa.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli Inicjalizacja zakończyła się pomyślnie; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Jeśli chcesz utworzyć formant drzewa jako okno podrzędne innego okna, użyj `Create` funkcji składowej. Jeśli tworzysz kontrolkę drzewa przy użyciu `Create` , musisz przekazać ją WS_VISIBLE, oprócz innych stylów widoku drzewa.

Tworzysz `CTreeCtrl` dwa kroki. Najpierw Wywołaj konstruktora, a następnie Wywołaj `Create` , który tworzy formant widoku drzewa i dołącza go do `CTreeCtrl` obiektu.

Aby utworzyć kontrolkę drzewa z rozszerzonymi stylami okien, wywołaj [CreateEx](#createex) zamiast `Create` .

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_1.cpp)]

## <a name="ctreectrlcreateex"></a><a name="createex"></a> CTreeCtrl:: CreateEx

Wywołaj tę funkcję, aby utworzyć kontrolkę (okno podrzędne) i skojarzyć ją z `CTreeCtrl` obiektem.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parametry

*dwExStyle*<br/>
Określa rozszerzony styl formantu, który jest tworzony. Aby zapoznać się z listą rozszerzonych stylów systemu Windows, zobacz *dwExStyle* parametru [elementu CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) w Windows SDK.

*dwStyle*<br/>
Określa styl kontrolki widoku drzewa. Zastosuj style okna, opisane w [polu Wypełnij i](/windows/win32/api/winuser/nf-winuser-createwindoww)dowolna kombinacja [stylów kontrolek widoku drzewa](/windows/win32/Controls/tree-view-control-window-styles) zgodnie z opisem w Windows SDK.

*cinania*<br/>
Odwołanie do struktury [Rect](/windows/win32/api/windef/ns-windef-rect) opisujące rozmiar i położenie okna, które ma zostać utworzone, we współrzędnych klienta *pParentWnd*.

*pParentWnd*<br/>
Wskaźnik do okna, które jest elementem nadrzędnym formantu.

*nID*<br/>
Identyfikator okna podrzędnego kontrolki.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli w przeciwnym razie określono wartość 0.

### <a name="remarks"></a>Uwagi

Użyj `CreateEx` zamiast [tworzenia](#create) , aby zastosować rozszerzone style systemu Windows, które są określone przez **WS_EX_** przedniej stylu rozszerzonego systemu Windows.

## <a name="ctreectrlcreatedragimage"></a><a name="createdragimage"></a> CTreeCtrl:: CreateDragImage

Wywołaj tę funkcję, aby utworzyć mapę bitową dla danego elementu w kontrolce widok drzewa, Utwórz listę obrazów dla mapy bitowej i Dodaj mapę bitową do listy obraz.

```
CImageList* CreateDragImage(HTREEITEM hItem);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa do przeprzeciągania.

### <a name="return-value"></a>Wartość zwracana

Wskaźnik na listę obrazów, do której dodano mapę bitową w przeciwnym razie wartość NULL.

### <a name="remarks"></a>Uwagi

Aplikacja używa funkcji listy obrazów do wyświetlania obrazu, gdy element jest przeciągany.

`CImageList`Obiekt jest trwały i należy go usunąć po zakończeniu. Na przykład:

[!code-cpp[NVC_MFC_CTreeCtrl#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_2.cpp)]

## <a name="ctreectrlctreectrl"></a><a name="ctreectrl"></a> CTreeCtrl:: CTreeCtrl

Konstruuje `CTreeCtrl` obiekt.

```
CTreeCtrl();
```

## <a name="ctreectrldeleteallitems"></a><a name="deleteallitems"></a> CTreeCtrl::D eleteAllItems

Wywołaj tę funkcję, aby usunąć wszystkie elementy z kontrolki widoku drzewa.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_3.cpp)]

## <a name="ctreectrldeleteitem"></a><a name="deleteitem"></a> CTreeCtrl::D eleteItem

Wywołaj tę funkcję, aby usunąć element z kontrolki widoku drzewa.

```
BOOL DeleteItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa do usunięcia. Jeśli *hitem* ma wartość TVI_ROOT, wszystkie elementy są usuwane z kontrolki widoku drzewa.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_4.cpp)]

## <a name="ctreectrleditlabel"></a><a name="editlabel"></a> CTreeCtrl:: EditLabel

Wywołaj tę funkcję, aby rozpocząć edycję tekstu określonego elementu w miejscu.

```
CEdit* EditLabel(HTREEITEM hItem);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa do edycji.

### <a name="return-value"></a>Wartość zwracana

Jeśli to się powiedzie, wskaźnik do `CEdit` obiektu, który jest używany do edytowania tekstu elementu; w przeciwnym razie wartość null.

### <a name="remarks"></a>Uwagi

Edycja jest realizowana poprzez zastąpienie tekstu elementu jednowierszową kontrolką edycji zawierającą tekst.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_5.cpp)]

## <a name="ctreectrlendeditlabelnow"></a><a name="endeditlabelnow"></a> CTreeCtrl:: EndEditLabelNow

Kończy operację edycji na etykiecie elementu widoku drzewa w bieżącym formancie widoku drzewa.

```
BOOL EndEditLabelNow(BOOL fCancelWithoutSave);
```

### <a name="parameters"></a>Parametry

*fCancelWithoutSave*\
podczas Wartość TRUE powoduje odrzucenie zmian w elemencie widoku drzewa przed zakończeniem operacji edycji lub wartość FALSE, aby zapisać zmiany w elemencie widoku drzewa przed zakończeniem operacji.

### <a name="return-value"></a>Wartość zwracana

PRAWDA, jeśli ta metoda zakończyła się pomyślnie; w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

Ta metoda wysyła komunikat [TVM_ENDEDITLABELNOW](/windows/win32/Controls/tvm-endeditlabelnow) , który jest opisany w Windows SDK.

## <a name="ctreectrlensurevisible"></a><a name="ensurevisible"></a> CTreeCtrl:: EnsureVisible

Wywołaj tę funkcję, aby upewnić się, że element widoku drzewa jest widoczny.

```
BOOL EnsureVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa, który jest widoczny.

### <a name="return-value"></a>Wartość zwracana

Zwraca wartość PRAWDA, jeśli system przewinie elementy w kontrolce widok drzewa, aby upewnić się, że określony element jest widoczny. W przeciwnym razie zwracaną wartością jest FALSE.

### <a name="remarks"></a>Uwagi

W razie potrzeby Funkcja rozszerza element nadrzędny lub przewija kontrolkę widok drzewa, aby element był widoczny.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_6.cpp)]

## <a name="ctreectrlexpand"></a><a name="expand"></a> CTreeCtrl:: expand

Wywołaj tę funkcję, aby rozwinąć lub zwinąć listę elementów podrzędnych, jeśli istnieje, skojarzonych z danym elementem nadrzędnym.

```
BOOL Expand(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Dojście rozwiniętego elementu drzewa.

*nCode*<br/>
Flaga wskazująca typ akcji, która ma zostać wykonana. Ta flaga może mieć jedną z następujących wartości:

- TVE_COLLAPSE zwija listę.

- TVE_COLLAPSERESET zwija listę i usuwa elementy podrzędne. Flaga stanu TVIS_EXPANDEDONCE jest resetowana. Ta flaga musi być używana z flagą TVE_COLLAPSE.

- TVE_EXPAND rozszerza listę.

- TVE_TOGGLE zwija listę, jeśli jest aktualnie rozwinięta lub rozwijana, jeśli jest obecnie zwinięty.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: EnsureVisible](#ensurevisible).

## <a name="ctreectrlgetbkcolor"></a><a name="getbkcolor"></a> CTreeCtrl:: GetBkColor

Ta funkcja członkowska implementuje zachowanie [TVM_GETBKCOLOR](/windows/win32/Controls/tvm-getbkcolor)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Wartość zwracana

Wartość COLORREF, która reprezentuje bieżący kolor tła okna dla kontrolki. Jeśli ta wartość to-1, formant używa koloru okna systemowego. W takim przypadku można użyć, `::GetSysColor(COLOR_WINDOW)` Aby uzyskać bieżący kolor systemu używany przez formant.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: SetTextColor](#settextcolor).

## <a name="ctreectrlgetcheck"></a><a name="getcheck"></a> CTreeCtrl:: getcheck

Wywołaj tę funkcję elementu członkowskiego, aby pobrać stan zaznaczenia elementu.

```
BOOL GetCheck(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
HTREEITEM, na który mają zostać odebrane informacje o stanie.

### <a name="return-value"></a>Wartość zwracana

Różne od zera, jeśli zaznaczony jest element kontrolki drzewa; w przeciwnym razie 0.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: SetCheck](#setcheck).

## <a name="ctreectrlgetchilditem"></a><a name="getchilditem"></a> CTreeCtrl:: GetChildItem

Wywołaj tę funkcję, aby pobrać element widoku drzewa, który jest elementem podrzędnym elementu określonego przez *hItem*.

```
HTREEITEM GetChildItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

### <a name="return-value"></a>Wartość zwracana

Uchwyt elementu podrzędnego, jeśli powodzenie; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_7.cpp)]

## <a name="ctreectrlgetcount"></a><a name="getcount"></a> CTreeCtrl:: GetCount

Wywołaj tę funkcję, aby pobrać liczbę elementów w kontrolce widoku drzewa.

```
UINT GetCount() const;
```

### <a name="return-value"></a>Wartość zwracana

Liczba elementów w kontrolce widoku drzewa.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_8.cpp)]

## <a name="ctreectrlgetdrophilightitem"></a><a name="getdrophilightitem"></a> CTreeCtrl:: GetDropHilightItem

Wywołaj tę funkcję, aby pobrać element, który jest elementem docelowym operacji przeciągania i upuszczania.

```
HTREEITEM GetDropHilightItem() const;
```

### <a name="return-value"></a>Wartość zwracana

Dojście elementu zostało usunięte w przypadku powodzenia; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

## <a name="ctreectrlgeteditcontrol"></a><a name="geteditcontrol"></a> CTreeCtrl:: GetEditControl

Wywołaj tę funkcję, aby pobrać uchwyt kontrolki edycji służący do edytowania tekstu elementu widoku drzewa.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do kontrolki edycji służący do edytowania tekstu elementu, jeśli się to powiedzie; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#10](../../mfc/reference/codesnippet/cpp/ctreectrl-class_10.cpp)]

## <a name="ctreectrlgetextendedstyle"></a><a name="getextendedstyle"></a> CTreeCtrl:: getextendeds

Pobiera rozszerzone style używane przez bieżącą kontrolkę widoku drzewa.

```
DWORD GetExtendedStyle() const;
```

### <a name="return-value"></a>Wartość zwracana

Wartość, która zawiera kombinację bitową (lub) bieżącego formantu widoku drzewa. Aby uzyskać więcej informacji, zobacz [Style rozszerzone kontrolki widoku drzewa](/windows/win32/Controls/tree-view-control-window-extended-styles).

### <a name="remarks"></a>Uwagi

Ta metoda wysyła komunikat [TVM_GETEXTENDEDSTYLE](/windows/win32/Controls/tvm-getextendedstyle) , który jest opisany w Windows SDK.

## <a name="ctreectrlgetfirstvisibleitem"></a><a name="getfirstvisibleitem"></a> CTreeCtrl:: GetFirstVisibleItem

Wywołaj tę funkcję, aby pobrać pierwszy widoczny element kontrolki widoku drzewa.

```
HTREEITEM GetFirstVisibleItem() const;
```

### <a name="return-value"></a>Wartość zwracana

Uchwyt pierwszego widocznego elementu; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: SetCheck](#setcheck).

## <a name="ctreectrlgetimagelist"></a><a name="getimagelist"></a> CTreeCtrl:: GetImageList

Wywołaj tę funkcję, aby pobrać uchwyt listy obrazów normalnych lub stanu skojarzonych z kontrolką widoku drzewa.

```
CImageList* GetImageList(UINT nImageList) const;
```

### <a name="parameters"></a>Parametry

*nImageList*<br/>
Typ listy obrazów do pobrania. Lista obrazów może być jedną z następujących wartości:

- TVSIL_NORMAL pobiera listę zwykłych obrazów, która zawiera wybrane i niewybrane obrazy dla elementu widoku drzewa.

- TVSIL_STATE pobiera listę obrazów stanu, która zawiera obrazy dla elementów widoku drzewa, które znajdują się w stanie zdefiniowanym przez użytkownika.

### <a name="return-value"></a>Wartość zwracana

Wskaźnik na listę obrazów kontrolki, jeśli powodzenie; w przeciwnym razie wartość NULL.

### <a name="remarks"></a>Uwagi

Każdy element kontrolki widoku drzewa może mieć skojarzoną parę obrazów mapy bitowej. Po wybraniu elementu jest wyświetlany jeden obraz, a drugi jest wyświetlany, gdy element nie jest zaznaczony. Na przykład element może wyświetlić otwarty folder, gdy jest zaznaczony, i folder zamknięty, gdy nie jest zaznaczony.

Aby uzyskać więcej informacji na temat list obrazów, zobacz Klasa [Korzystanie CImageList](../../mfc/reference/cimagelist-class.md) .

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#11](../../mfc/reference/codesnippet/cpp/ctreectrl-class_11.cpp)]

## <a name="ctreectrlgetindent"></a><a name="getindent"></a> CTreeCtrl:: getwcięcie

Wywołaj tę funkcję, aby pobrać wartość (w pikselach), dla których elementy podrzędne są wcięte względem ich elementów nadrzędnych.

```
UINT GetIndent() const;
```

### <a name="return-value"></a>Wartość zwracana

Wielkość wcięć mierzona w pikselach.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#12](../../mfc/reference/codesnippet/cpp/ctreectrl-class_12.cpp)]

## <a name="ctreectrlgetinsertmarkcolor"></a><a name="getinsertmarkcolor"></a> CTreeCtrl:: GetInsertMarkColor

Ta funkcja członkowska implementuje zachowanie [TVM_GETINSERTMARKCOLOR](/windows/win32/Controls/tvm-getinsertmarkcolor)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Wartość zwracana

Wartość COLORREF, która zawiera bieżący kolor znacznika wstawiania.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#13](../../mfc/reference/codesnippet/cpp/ctreectrl-class_13.cpp)]

## <a name="ctreectrlgetitem"></a><a name="getitem"></a> CTreeCtrl:: GetItem

Wywołaj tę funkcję, aby pobrać atrybuty określonego elementu widoku drzewa.

```
BOOL GetItem(TVITEM* pItem) const;
```

### <a name="parameters"></a>Parametry

*pItem*<br/>
Wskaźnik do struktury [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) , zgodnie z opisem w Windows SDK.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl::D eleteitem](#deleteitem).

## <a name="ctreectrlgetitemdata"></a><a name="getitemdata"></a> CTreeCtrl:: GetItemData

Wywołaj tę funkcję, aby pobrać wartość specyficzną dla aplikacji skojarzoną z określonym elementem.

```
DWORD_PTR GetItemData(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu, którego dane mają zostać pobrane.

### <a name="return-value"></a>Wartość zwracana

Wartość specyficzna dla aplikacji o rozmiarze wskaźnika skojarzona z elementem określonym przez *hItem*.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#14](../../mfc/reference/codesnippet/cpp/ctreectrl-class_14.cpp)]

## <a name="ctreectrlgetitemexpandedimageindex"></a><a name="getitemexpandedimageindex"></a> CTreeCtrl:: GetItemExpandedImageIndex

Pobiera indeks obrazu do wyświetlenia, gdy określony element kontrolki widoku drzewa jest w stanie rozwiniętym.

```
int GetItemExpandedImageIndex(HTREEITEM hItem)const;
```

### <a name="parameters"></a>Parametry

*hItem*\
podczas Dojście do elementu kontrolki widoku drzewa.

### <a name="return-value"></a>Wartość zwracana

Indeks obrazu do wyświetlenia, gdy określony element jest w stanie rozwiniętym.

### <a name="remarks"></a>Uwagi

Ta metoda wysyła komunikat [TVM_GETITEM](/windows/win32/Controls/tvm-getitem) , który jest opisany w Windows SDK. Ten komunikat zwraca strukturę [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) , która opisuje element kontrolki widoku drzewa, a następnie ta metoda pobiera `iExpandedImage` element członkowski z tej struktury.

## <a name="ctreectrlgetitemheight"></a><a name="getitemheight"></a> CTreeCtrl:: GetItemHeight

Ta funkcja członkowska implementuje zachowanie [TVM_GETITEMHEIGHT](/windows/win32/Controls/tvm-getitemheight)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
SHORT GetItemHeight() const;
```

### <a name="return-value"></a>Wartość zwracana

Wysokość elementu (w pikselach).

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#15](../../mfc/reference/codesnippet/cpp/ctreectrl-class_15.cpp)]

## <a name="ctreectrlgetitemimage"></a><a name="getitemimage"></a> CTreeCtrl:: GetItemImage

Każdy element kontrolki widoku drzewa może mieć skojarzoną parę obrazów mapy bitowej.

```
BOOL GetItemImage(
    HTREEITEM hItem,
    int& nImage,
    int& nSelectedImage) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu, którego obraz ma zostać pobrany.

*Nokreślono*<br/>
Liczba całkowita, która odbiera indeks obrazu elementu na liście obrazów kontrolki widoku drzewa.

*nSelectedImage*<br/>
Liczba całkowita, która odbiera indeks zaznaczonego obrazu elementu na liście obrazów kontrolki widoku drzewa.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Obrazy są wyświetlane po lewej stronie etykiety elementu. Po wybraniu elementu jest wyświetlany jeden obraz, a drugi jest wyświetlany, gdy element nie jest zaznaczony. Na przykład element może wyświetlić otwarty folder, gdy jest zaznaczony, i folder zamknięty, gdy nie jest zaznaczony.

Wywołaj tę funkcję, aby pobrać indeks obrazu elementu i jego zaznaczonego obrazu z listy obrazów kontrolki widoku drzewa.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#16](../../mfc/reference/codesnippet/cpp/ctreectrl-class_16.cpp)]

## <a name="ctreectrlgetitempartrect"></a><a name="getitempartrect"></a> CTreeCtrl:: GetItemPartRect

Pobiera prostokąt związany z określoną częścią określonego elementu w bieżącym formancie widoku drzewa.

```
BOOL GetItemPartRect(
    HTREEITEM hItem,
    int nPart,
    LPRECT lpRect)const;
```

### <a name="parameters"></a>Parametry

*hItem*\
podczas Dojście do elementu kontrolki widoku drzewa.

*nPart*\
podczas Identyfikator części. Musi być ustawiony na TVGIPR_BUTTON.

*lpRect*\
określoną Wskaźnik do struktury [prostokąta](/windows/win32/api/windef/ns-windef-rect) . Jeśli ta metoda zakończy się pomyślnie, struktura otrzymuje współrzędne prostokąta części określonej przez *hItem* i *nPart*.

### <a name="return-value"></a>Wartość zwracana

PRAWDA, jeśli ta metoda zakończyła się pomyślnie; w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

Każdy element formantu drzewa jest związany z prostokątem grafiki. Za każdym razem, gdy zostanie kliknięty punkt w tym prostokącie, element zostanie wyświetlony jako *trafi*. Ta metoda zwraca największy prostokąt, tak że po kliknięciu punktu w prostokącie zostanie trafiony element identyfikowany przez parametr *hItem* .

Ta metoda wysyła komunikat TVM_GETITEMPARTRECT, który jest opisany w Windows SDK. Aby uzyskać więcej informacji, zobacz makro [TreeView_GetItemPartRect](/windows/win32/api/commctrl/nf-commctrl-treeview_getitempartrect) .

### <a name="example"></a>Przykład

Poniższy przykład kodu definiuje zmienną, `m_treeCtrl` , która jest używana do uzyskiwania dostępu do bieżącego formantu widoku drzewa. Przykład kodu definiuje również liczbę całkowitą bez znaku i kilka zmiennych HTREEITEM. Te zmienne są używane w następnym przykładzie.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Przykład

Poniższy przykład kodu używa identyfikatora dostępności i metody [CTreeCtrl:: MapAccIdToItem](#mapaccidtoitem) , aby pobrać uchwyt do głównego elementu widoku drzewa. Następnie w przykładzie używane jest dojście i Metoda [CTreeCtrl:: GetItemPartRect](#getitempartrect) , aby narysować prostokąt 3W wokół tego elementu. W poprzedniej sekcji przykładu kodu, który nie jest wyświetlany, został utworzony widok drzewa, który składa się z węzła głównego kraju/regionu dla Stany Zjednoczone, podwęzłów dla Stanów Pensylwania i Waszyngton oraz elementów drzewa dla miejscowości w tych Stanach. Użyto metody [CTreeCtrl:: MapItemToAccID](#mapitemtoaccid) , aby skojarzyć element widoku drzewa głównego z identyfikatorem dostępności.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

## <a name="ctreectrlgetitemrect"></a><a name="getitemrect"></a> CTreeCtrl:: GetItemRect

Wywołaj tę funkcję, aby pobrać prostokąt związany z *hItem* i określić, czy jest on widoczny, czy nie.

```
BOOL GetItemRect(
    HTREEITEM hItem,
    LPRECT lpRect,
    BOOL bTextOnly) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu kontrolki widoku drzewa.

*lpRect*<br/>
Wskaźnik do struktury [Rect](/windows/win32/api/windef/ns-windef-rect) , która otrzymuje prostokąt powiązany. Współrzędne są względne w lewym górnym rogu kontrolki widoku drzewa.

*bTextOnly*<br/>
Jeśli ten parametr ma wartość różną od zera, prostokąt ograniczający zawiera tylko tekst elementu. W przeciwnym razie zawiera cały wiersz, który zajmuje element w kontrolce widok drzewa.

### <a name="return-value"></a>Wartość zwracana

Różne od zera, jeśli element jest widoczny, z prostokątem ograniczonym zawartym w *lpRect*. W przeciwnym razie 0 z *lpRect* niezainicjowane.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#17](../../mfc/reference/codesnippet/cpp/ctreectrl-class_19.cpp)]

## <a name="ctreectrlgetitemstate"></a><a name="getitemstate"></a> CTreeCtrl:: GetItemState

Zwraca stan elementu określonego przez *hItem*.

```
UINT GetItemState(
    HTREEITEM hItem,
    UINT nStateMask) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu, którego stan ma zostać pobrany.

*nStateMask*<br/>
Maska wskazująca co najmniej jeden stan do pobrania. Aby uzyskać więcej informacji na temat możliwych wartości dla *nStateMask*, zobacz Omówienie `state` `stateMask` elementów członkowskich struktury [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) w Windows SDK.

### <a name="return-value"></a>Wartość zwracana

Element UINT, który przechowuje bitowe lub wartości określone przez nStateMask. Aby uzyskać informacje dotyczące możliwych wartości, zobacz [CTreeCtrl:: GetItem](#getitem). Aby znaleźć wartość dla określonego stanu, należy wykonać operacje bitowe i wartości stanu oraz wartości zwracanej, jak pokazano w poniższym przykładzie.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#18](../../mfc/reference/codesnippet/cpp/ctreectrl-class_20.cpp)]

## <a name="ctreectrlgetitemstateex"></a><a name="getitemstateex"></a> CTreeCtrl:: GetItemStateEx

Pobiera rozszerzony stan określonego elementu w bieżącym formancie widoku drzewa.

```
UINT GetItemStateEx(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*\
podczas Dojście do elementu kontrolki widoku drzewa.

### <a name="return-value"></a>Wartość zwracana

Rozszerzony stan elementu. Aby uzyskać więcej informacji, zobacz `uStateEx` element członkowski struktury [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .

### <a name="remarks"></a>Uwagi

Ta metoda wysyła komunikat [TVM_GETITEM](/windows/win32/Controls/tvm-getitem) , który jest opisany w Windows SDK. Ten komunikat zwraca strukturę [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) , która opisuje element kontrolki widoku drzewa, a ta metoda pobiera `uStateEx` element członkowski z tej struktury.

## <a name="ctreectrlgetitemtext"></a><a name="getitemtext"></a> CTreeCtrl:: GetItemText

Zwraca tekst elementu określonego przez *hItem*.

```
CString GetItemText(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu, którego tekst ma zostać pobrany.

### <a name="return-value"></a>Wartość zwracana

`CString`Obiekt zawierający tekst elementu.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: GetNextItem](#getnextitem).

## <a name="ctreectrlgetlastvisibleitem"></a><a name="getlastvisibleitem"></a> CTreeCtrl:: GetLastVisibleItem

Pobiera ostatni nierozwinięty węzeł w bieżącym formancie widoku drzewa.

```
HTREEITEM GetLastVisibleItem() const;
```

### <a name="return-value"></a>Wartość zwracana

Dojście do ostatniego nierozwiniętego węzła, jeśli metoda zakończy się pomyślnie. w przeciwnym razie wartość NULL.

### <a name="remarks"></a>Uwagi

Ta metoda wysyła komunikat [TVM_GETNEXTITEM](/windows/win32/Controls/tvm-getnextitem) , który jest opisany w Windows SDK. Aby uzyskać więcej informacji, zobacz flagę TVGN_LASTVISIBLE w parametrze *flagi* tego komunikatu.

### <a name="example"></a>Przykład

Poniższy przykład kodu definiuje zmienną, `m_treeCtrl` , która jest używana do uzyskiwania dostępu do bieżącego formantu widoku drzewa. Przykład kodu definiuje również liczbę całkowitą bez znaku i kilka zmiennych HTREEITEM. W następnym przykładzie użyto co najmniej jednej z tych zmiennych.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Przykład

Poniższy przykład kodu pobiera dojście do ostatniego nierozwiniętego węzła widoku drzewa, a następnie rysuje prostokąt 3W wokół tego elementu. W poprzedniej sekcji przykładu kodu, który nie jest wyświetlany, został utworzony widok drzewa, który składa się z węzła głównego kraju/regionu dla Stany Zjednoczone, podwęzłów dla Stanów Pensylwania i Waszyngton oraz elementów drzewa dla miejscowości w tych Stanach.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_21.cpp)]

## <a name="ctreectrlgetlinecolor"></a><a name="getlinecolor"></a> CTreeCtrl:: GetLineColor

Ta funkcja członkowska implementuje zachowanie [TVM_GETLINECOLOR](/windows/win32/Controls/tvm-getlinecolor)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
COLORREF GetLineColor() const;
```

### <a name="return-value"></a>Wartość zwracana

Kolor bieżącego wiersza.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#19](../../mfc/reference/codesnippet/cpp/ctreectrl-class_22.cpp)]

## <a name="ctreectrlgetnextitem"></a><a name="getnextitem"></a> CTreeCtrl:: GetNextItem

Wywołaj tę funkcję, aby pobrać element widoku drzewa z określoną relacją wskazywaną przez parametr *nCode* do *hItem*.

```
HTREEITEM GetNextItem(
    HTREEITEM hItem,
    UINT nCode) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

*nCode*<br/>
Flaga wskazująca typ relacji do *hItem*. Ta flaga może być jedną z następujących wartości:

- TVGN_CARET pobiera aktualnie wybrany element.

- TVGN_CHILD Pobiera pierwszy element podrzędny elementu określonego przez parametr *hItem* .

- TVGN_DROPHILITE Pobiera element, który jest elementem docelowym operacji przeciągania i upuszczania.

- TVGN_FIRSTVISIBLE Pobiera pierwszy widoczny element.

- TVGN_LASTVISIBLE Pobiera ostatnio rozwinięty element drzewa. Nie spowoduje to pobrania ostatniego elementu widocznego w oknie widoku drzewa.

- TVGN_NEXT pobiera następny element równorzędny.

- TVGN_NEXTVISIBLE pobiera następny widoczny element, który następuje po określonym elemencie.

- TVGN_PARENT Pobiera element nadrzędny określonego elementu.

- TVGN_PREVIOUS pobiera poprzedni element równorzędny.

- TVGN_PREVIOUSVISIBLE Pobiera pierwszy widoczny element poprzedzający określony element.

- TVGN_ROOT Pobiera pierwszy element podrzędny elementu głównego, którego częścią jest określony element.

### <a name="return-value"></a>Wartość zwracana

Uchwyt następnego elementu, jeśli powodzenie; w przeciwnym razie wartość NULL.

### <a name="remarks"></a>Uwagi

Ta funkcja zwróci wartość NULL, jeśli pobierany element jest węzłem głównym drzewa. Na przykład jeśli ten komunikat jest używany z flagą TVGN_PARENT na elemencie podrzędnym pierwszego poziomu węzła głównego widoku drzewa, komunikat zwróci wartość NULL.

### <a name="example"></a>Przykład

Aby zapoznać się z przykładem użycia `GetNextItem` w pętli, zobacz [CTreeCtrl::D eleteitem](#deleteitem).

[!code-cpp[NVC_MFC_CTreeCtrl#20](../../mfc/reference/codesnippet/cpp/ctreectrl-class_23.cpp)]

## <a name="ctreectrlgetnextsiblingitem"></a><a name="getnextsiblingitem"></a> CTreeCtrl:: GetNextSiblingItem

Wywołaj tę funkcję, aby pobrać następny element równorzędny *hItem*.

```
HTREEITEM GetNextSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

### <a name="return-value"></a>Wartość zwracana

Uchwyt następnego elementu równorzędnego; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#21](../../mfc/reference/codesnippet/cpp/ctreectrl-class_24.cpp)]

## <a name="ctreectrlgetnextvisibleitem"></a><a name="getnextvisibleitem"></a> CTreeCtrl:: GetNextVisibleItem

Wywołaj tę funkcję, aby pobrać następny widoczny element *hItem*.

```
HTREEITEM GetNextVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

### <a name="return-value"></a>Wartość zwracana

Uchwyt następnego widocznego elementu; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: SetCheck](#setcheck).

## <a name="ctreectrlgetparentitem"></a><a name="getparentitem"></a> CTreeCtrl:: GetParentItem

Wywołaj tę funkcję, aby pobrać element nadrzędny elementu *hItem*.

```
HTREEITEM GetParentItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

### <a name="return-value"></a>Wartość zwracana

Uchwyt elementu nadrzędnego; w przeciwnym razie wartość NULL.

### <a name="remarks"></a>Uwagi

Ta funkcja zwróci wartość NULL, jeśli element nadrzędny określonego elementu jest węzłem głównym drzewa.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: EnsureVisible](#ensurevisible).

## <a name="ctreectrlgetprevsiblingitem"></a><a name="getprevsiblingitem"></a> CTreeCtrl:: GetPrevSiblingItem

Wywołaj tę funkcję, aby pobrać poprzedni element równorzędny *hItem*.

```
HTREEITEM GetPrevSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

### <a name="return-value"></a>Wartość zwracana

Uchwyt poprzedniego elementu równorzędnego; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#22](../../mfc/reference/codesnippet/cpp/ctreectrl-class_25.cpp)]

## <a name="ctreectrlgetprevvisibleitem"></a><a name="getprevvisibleitem"></a> CTreeCtrl:: GetPrevVisibleItem

Wywołaj tę funkcję, aby pobrać poprzedni widoczny element *hItem*.

```
HTREEITEM GetPrevVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

### <a name="return-value"></a>Wartość zwracana

Uchwyt poprzedniego widocznego elementu; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#23](../../mfc/reference/codesnippet/cpp/ctreectrl-class_26.cpp)]

## <a name="ctreectrlgetrootitem"></a><a name="getrootitem"></a> CTreeCtrl:: GetRootItem

Wywołaj tę funkcję, aby pobrać element główny kontrolki widoku drzewa.

```
HTREEITEM GetRootItem() const;
```

### <a name="return-value"></a>Wartość zwracana

Uchwyt elementu głównego; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: EditLabel](#editlabel).

## <a name="ctreectrlgetscrolltime"></a><a name="getscrolltime"></a> CTreeCtrl:: GetScrollTime

Wywołaj tę funkcję elementu członkowskiego, aby uzyskać maksymalny czas przewijania kontrolki widoku drzewa.

```
UINT GetScrollTime() const;
```

### <a name="return-value"></a>Wartość zwracana

Maksymalny czas przewijania (w milisekundach).

### <a name="remarks"></a>Uwagi

Ta funkcja członkowska implementuje zachowanie [TVM_GETSCROLLTIME](/windows/win32/Controls/tvm-getscrolltime)komunikatu Win32, zgodnie z opisem w Windows SDK.

## <a name="ctreectrlgetselectedcount"></a><a name="getselectedcount"></a> CTreeCtrl:: GetSelectedCount

Pobiera liczbę wybranych elementów w bieżącym formancie widoku drzewa.

```
UINT GetSelectedCount();
```

### <a name="return-value"></a>Wartość zwracana

Liczba wybranych elementów.

### <a name="remarks"></a>Uwagi

Ta metoda wysyła komunikat [TVM_GETSELECTEDCOUNT](/windows/win32/Controls/tvm-getselectedcount) , który jest opisany w Windows SDK.

## <a name="ctreectrlgetselecteditem"></a><a name="getselecteditem"></a> CTreeCtrl:: GetSelectedItem

Wywołaj tę funkcję, aby pobrać aktualnie wybrany element kontrolki widok drzewa.

```
HTREEITEM GetSelectedItem() const;
```

### <a name="return-value"></a>Wartość zwracana

Uchwyt wybranego elementu; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#24](../../mfc/reference/codesnippet/cpp/ctreectrl-class_27.cpp)]

## <a name="ctreectrlgettextcolor"></a><a name="gettextcolor"></a> CTreeCtrl:: GetTextColor

Ta funkcja członkowska implementuje zachowanie [TVM_GETTEXTCOLOR](/windows/win32/Controls/tvm-gettextcolor)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Wartość zwracana

Wartość COLORREF, która reprezentuje bieżący kolor tekstu. Jeśli ta wartość to-1, formant używa koloru systemu dla koloru tekstu.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: SetTextColor](#settextcolor).

## <a name="ctreectrlgettooltips"></a><a name="gettooltips"></a> CTreeCtrl:: GetToolTips

Ta funkcja członkowska implementuje zachowanie [TVM_GETTOOLTIPS](/windows/win32/Controls/tvm-gettooltips)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do obiektu [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) , który ma być używany przez formant drzewa. Jeśli funkcja [Create](#create) member używa stylu TVS_NOTOOLTIPS, nie są używane żadne etykietki narzędzi i zwracana jest wartość null.

### <a name="remarks"></a>Uwagi

Implementacja MFC `GetToolTips` zwraca `CToolTipCtrl` obiekt, który jest używany przez formant drzewa zamiast uchwytu do kontrolki ToolTip.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#25](../../mfc/reference/codesnippet/cpp/ctreectrl-class_28.cpp)]

## <a name="ctreectrlgetvisiblecount"></a><a name="getvisiblecount"></a> CTreeCtrl:: GetVisibleCount

Wywołaj tę funkcję, aby pobrać liczbę widocznych elementów w kontrolce widok drzewa.

```
UINT GetVisibleCount() const;
```

### <a name="return-value"></a>Wartość zwracana

Liczba widocznych elementów w kontrolce widok drzewa; w przeciwnym razie-1.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: SetCheck](#setcheck).

## <a name="ctreectrlhittest"></a><a name="hittest"></a> CTreeCtrl:: HitTest

Wywołaj tę funkcję, aby określić lokalizację określonego punktu względem obszaru klienckiego kontrolki widoku drzewa.

```
HTREEITEM HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;

HTREEITEM HitTest(TVHITTESTINFO* pHitTestInfo) const;
```

### <a name="parameters"></a>Parametry

*zmiennoprzecinkow*<br/>
Współrzędne klienta punktu do przetestowania.

*pFlags*<br/>
Wskaźnik na liczbę całkowitą, która odbiera informacje o wynikach testu trafień. Może to być co najmniej jedna z wartości wymienionych poniżej `flags` elementu członkowskiego w sekcji uwagi.

*pHitTestInfo*<br/>
Adres struktury [TVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-tvhittestinfo) , która zawiera pozycję do testu trafień i otrzymuje informacje na temat wyników testu trafień.

### <a name="return-value"></a>Wartość zwracana

Uchwyt elementu widoku drzewa, który zajmuje określony punkt lub wartość NULL, jeśli żaden element nie zajmuje punktu.

### <a name="remarks"></a>Uwagi

Gdy ta funkcja jest wywoływana, parametr *pt* określa współrzędne punktu do przetestowania. Funkcja zwraca uchwyt elementu w określonym punkcie lub wartość NULL, jeśli żaden element nie zajmuje punktu. Ponadto parametr *pFlags* zawiera wartość wskazującą lokalizację określonego punktu. Możliwe wartości:

|Wartość|Opis|
|-|-|
|TVHT_ABOVE|Powyżej obszaru klienckiego.|
|TVHT_BELOW|Poniżej obszaru klienckiego.|
|TVHT_NOWHERE|W obszarze klienta, ale poniżej ostatniego elementu.|
|TVHT_ONITEM|Na mapie bitowej lub etykiecie skojarzonej z elementem.|
|TVHT_ONITEMBUTTON|Na przycisku skojarzonym z elementem.|
|TVHT_ONITEMICON|Na mapie bitowej skojarzonej z elementem.|
|TVHT_ONITEMINDENT|W przypadku wcięć skojarzonych z elementem.|
|TVHT_ONITEMLABEL|Na etykiecie (ciąg) skojarzonej z elementem.|
|TVHT_ONITEMRIGHT|W obszarze z prawej strony elementu.|
|TVHT_ONITEMSTATEICON|Na ikonie stanu dla elementu widoku drzewa, który znajduje się w stanie zdefiniowanym przez użytkownika.|
|TVHT_TOLEFT|Z lewej strony obszaru klienckiego.|
|TVHT_TORIGHT|Z prawej strony obszaru klienckiego.|

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

## <a name="ctreectrlinsertitem"></a><a name="insertitem"></a> CTreeCtrl:: InsertItem

Wywołaj tę funkcję, aby wstawić nowy element w kontrolce widoku drzewa.

```
HTREEITEM InsertItem(LPTVINSERTSTRUCT lpInsertStruct);

HTREEITEM InsertItem(
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    HTREEITEM hParent,
    HTREEITEM hInsertAfter);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);
```

### <a name="parameters"></a>Parametry

*lpInsertStruct*<br/>
Wskaźnik do `TVINSERTSTRUCT` obiektu, który określa atrybuty elementu widoku drzewa, który ma zostać wstawiony.

*nMask*<br/>
Liczba całkowita określająca atrybuty do ustawienia. Zapoznaj się ze `TVITEM` strukturą w Windows SDK.

*lpszItem*<br/>
Adres ciągu zawierającego tekst elementu.

*Nokreślono*<br/>
Indeks obrazu elementu na liście obrazów kontrolki widoku drzewa.

*nSelectedImage*<br/>
Indeks zaznaczonego obrazu elementu na liście obrazów kontrolki widoku drzewa.

*nInformacje*<br/>
Określa wartości dla Stanów elementu. Aby uzyskać listę odpowiednich stanów, zobacz widok drzewa Stany elementów w Windows SDK.

*nStateMask*<br/>
Określa, które Stany mają być ustawione. Zapoznaj się ze `TVITEM` strukturą w Windows SDK.

*lParam*<br/>
Wartość specyficzna dla aplikacji o rozmiarze wskaźnika skojarzona z elementem.

*hParent*<br/>
Dojście do elementu nadrzędnego wstawionego elementu.

*hInsertAfter*<br/>
Uchwyt elementu, po którym ma zostać wstawiony nowy element.

### <a name="return-value"></a>Wartość zwracana

Dojście do nowego elementu, jeśli powodzenie; w przeciwnym razie wartość NULL.

### <a name="remarks"></a>Uwagi

W przykładzie pokazano sytuacje, w których warto użyć poszczególnych wersji funkcji podczas wstawiania elementu kontrolki drzewa.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#27](../../mfc/reference/codesnippet/cpp/ctreectrl-class_30.cpp)]

## <a name="ctreectrlitemhaschildren"></a><a name="itemhaschildren"></a> CTreeCtrl:: ItemHasChildren

Użyj tej funkcji, aby określić, czy element drzewa określony przez *hItem* ma elementy podrzędne.

```
BOOL ItemHasChildren(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

### <a name="return-value"></a>Wartość zwracana

Różne od zera, jeśli element drzewa określony przez *hItem* ma elementy podrzędne. 0, jeśli nie.

### <a name="remarks"></a>Uwagi

Jeśli tak, możesz użyć [CTreeCtrl:: GetChildItem](#getchilditem) , aby pobrać te elementy podrzędne.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: GetSelectedItem](#getselecteditem).

## <a name="ctreectrlmapaccidtoitem"></a><a name="mapaccidtoitem"></a> CTreeCtrl:: MapAccIdToItem

Mapuje określony identyfikator dostępności do dojścia elementu widoku drzewa w bieżącym formancie widoku drzewa.

```
HTREEITEM MapAccIdToItem(UINT uAccId) const;
```

### <a name="parameters"></a>Parametry

*uAccId*\
podczas Identyfikator dostępności dla elementu w elemencie widoku drzewa.

### <a name="return-value"></a>Wartość zwracana

Uchwyt do elementu widoku drzewa ( `HTREEITEM` ), który odpowiada parametrowi *uAccId* . Aby uzyskać więcej informacji, zobacz *hItem* składowa struktury [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .

### <a name="remarks"></a>Uwagi

Ułatwienia dostępu to aplikacje, które ułatwiają osobom niepełnosprawnym korzystanie z komputerów. Identyfikator dostępności jest używany przez `IAccessible` interfejs do unikatowego określania elementu w oknie. Aby uzyskać więcej informacji na temat identyfikatorów ułatwień dostępu, wyszukaj temat "informacje o pomocy technicznej dotyczącej aktywnego ułatwienia dostępu" w witrynie [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Ta metoda wysyła komunikat [TVM_MAPACCIDTOHTREEITEM](/windows/win32/Controls/tvm-mapaccidtohtreeitem) , który jest opisany w Windows SDK.

### <a name="example"></a>Przykład

Poniższy przykład kodu definiuje zmienną, `m_treeCtrl` , która jest używana do uzyskiwania dostępu do bieżącego formantu widoku drzewa. Przykład kodu definiuje również liczbę całkowitą bez znaku i kilka zmiennych HTREEITEM. Te zmienne są używane w następnym przykładzie.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Przykład

Poniższy przykład kodu używa identyfikatora dostępności i metody [CTreeCtrl:: MapAccIdToItem](#mapaccidtoitem) , aby pobrać uchwyt do głównego elementu widoku drzewa. W przykładzie zastosowano uchwyt i metodę [CTreeCtrl:: GetItemPartRect](#getitempartrect) , aby narysować prostokąt 3W wokół tego elementu. W poprzedniej sekcji przykładu kodu, który nie jest wyświetlany, został utworzony widok drzewa, który składa się z węzła głównego kraju/regionu dla Stany Zjednoczone, podwęzłów dla Stanów Pensylwania i Waszyngton oraz elementów drzewa dla miejscowości w tych Stanach. Użyto metody [CTreeCtrl:: MapItemToAccID](#mapitemtoaccid) , aby skojarzyć element widoku drzewa głównego z identyfikatorem dostępności.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

## <a name="ctreectrlmapitemtoaccid"></a><a name="mapitemtoaccid"></a> CTreeCtrl:: MapItemToAccID

Mapuje określone dojście elementu widoku drzewa w bieżącym formancie widoku drzewa na identyfikator dostępności.

```
UINT MapItemToAccID(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Parametry

*hItem*\
podczas Uchwyt elementu widoku drzewa w kontrolce. Aby uzyskać więcej informacji, zobacz *hItem* składowa struktury [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .

### <a name="return-value"></a>Wartość zwracana

Identyfikator dostępności, który odpowiada parametrowi *hItem* .

### <a name="remarks"></a>Uwagi

Ułatwienia dostępu to aplikacje, które ułatwiają osobom niepełnosprawnym korzystanie z komputerów. Identyfikator dostępności jest używany przez `IAccessible` interfejs do unikatowego określania elementu w oknie. Aby uzyskać więcej informacji na temat identyfikatorów ułatwień dostępu, wyszukaj temat "informacje o pomocy technicznej dotyczącej aktywnego ułatwienia dostępu" w witrynie [Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Ta metoda wysyła komunikat [TVM_MAPHTREEITEMTOACCID](/windows/win32/Controls/tvm-maphtreeitemtoaccid) , który jest opisany w Windows SDK.

### <a name="example"></a>Przykład

Poniższy przykład kodu definiuje zmienną, `m_treeCtrl` , która jest używana do uzyskiwania dostępu do bieżącego formantu widoku drzewa. Przykład kodu definiuje również liczbę całkowitą bez znaku i kilka zmiennych HTREEITEM. Te zmienne są używane w następnym przykładzie.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Przykład

Poniższy przykład kodu uzyskuje numer identyfikacyjny dla elementu kontrolki widoku drzewa. W poprzedniej sekcji przykładu kodu, który nie jest wyświetlany, został utworzony widok drzewa, który składa się z węzła głównego kraju/regionu dla Stany Zjednoczone, podwęzłów dla Stanów Pensylwania i Waszyngton oraz elementów drzewa dla miejscowości w tych Stanach. Ten przykład kodu uzyskuje unikatowy numer identyfikacyjny dla węzła głównego kraju/regionu.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_31.cpp)]

## <a name="ctreectrlselect"></a><a name="select"></a> CTreeCtrl:: SELECT

Wywołaj tę funkcję w celu wybrania danego elementu widoku drzewa, przewinięcie elementu do widoku lub ponownego narysowania elementu w stylu używanym do wskazywania obiektu docelowego operacji przeciągania i upuszczania.

```
BOOL Select(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

*nCode*<br/>
Typ akcji do wykonania. Ten parametr może mieć jedną z następujących wartości:

- TVGN_CARET ustawia zaznaczenie dla danego elementu.

- TVGN_DROPHILITE odświeża dany element w stylu używanym do wskazywania elementu docelowego operacji przeciągania i upuszczania.

- TVGN_FIRSTVISIBLE przewija widok drzewa w pionie, aby dany element był pierwszym widocznym elementem.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Jeśli *nCode* zawiera wartość TVGN_CARET, okno nadrzędne odbiera TVN_SELCHANGING i TVN_SELCHANGED komunikatów powiadomień. Ponadto, jeśli określony element jest elementem podrzędnym zwiniętego elementu nadrzędnego, zostanie rozwinięta lista elementów podrzędnych elementu podrzędnego, aby odsłonić określony element. W takim przypadku okno nadrzędne otrzymuje TVN_ITEMEXPANDING i TVN_ITEMEXPANDED komunikatów powiadomień.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: HitTest](#hittest).

## <a name="ctreectrlselectdroptarget"></a><a name="selectdroptarget"></a> CTreeCtrl:: SelectDropTarget

Wywołaj tę funkcję, aby ponownie narysować element w stylu używanym do wskazywania elementu docelowego operacji przeciągania i upuszczania.

```
BOOL SelectDropTarget(HTREEITEM hItem);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

## <a name="ctreectrlselectitem"></a><a name="selectitem"></a> CTreeCtrl:: SelectItem

Wywołaj tę funkcję, aby wybrać dany element widoku drzewa.

```
BOOL SelectItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Jeśli *hItem* ma wartość null, ta funkcja nie zaznacza żadnego elementu.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

## <a name="ctreectrlselectsetfirstvisible"></a><a name="selectsetfirstvisible"></a> CTreeCtrl:: SelectSetFirstVisible

Wywołaj tę funkcję, aby przewinąć widok drzewa w pionie, aby dany element był pierwszym widocznym elementem.

```
BOOL SelectSetFirstVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu drzewa, który ma zostać ustawiony jako pierwszy widoczny element.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Funkcja wysyła komunikat do okna z parametrami TVM_SELECTITEM i TVGN_FIRSTVISIBLE komunikatów.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#28](../../mfc/reference/codesnippet/cpp/ctreectrl-class_32.cpp)]

## <a name="ctreectrlsetautoscrollinfo"></a><a name="setautoscrollinfo"></a> CTreeCtrl:: SetAutoscrollInfo

Ustawia współczynnik autoprzewijania bieżącego formantu widoku drzewa.

```
BOOL SetAutoscrollInfo(
    UINT uPixelsPerSec,
    UINT uUpdateTime);
```

### <a name="parameters"></a>Parametry

*uPixelsPerSec*\
podczas Liczba pikseli na sekundę do przewinięcia.

*uUpdateTime*\
podczas Przedział czasu między aktualizacjami formantu.

### <a name="return-value"></a>Wartość zwracana

Zawsze zwraca wartość TRUE.

### <a name="remarks"></a>Uwagi

Parametry AutoScroll są używane do przewijania do widoku elementu, który nie jest obecnie widoczny. Kontrolka widoku drzewa musi mieć TVS_EX_AUTOHSCROLL stylu rozszerzonego, który jest opisany w [rozszerzonym formancie widoku drzewa](/windows/win32/Controls/tree-view-control-window-extended-styles).

Ta metoda wysyła komunikat [TVM_SETAUTOSCROLLINFO](/windows/win32/Controls/tvm-setautoscrollinfo) , który jest opisany w Windows SDK.

### <a name="example"></a>Przykład

Poniższy przykład kodu definiuje zmienną, `m_treeCtrl` , która jest używana do uzyskiwania dostępu do bieżącego formantu widoku drzewa. Przykład kodu definiuje również liczbę całkowitą bez znaku i kilka zmiennych HTREEITEM. Te zmienne są używane w następnym przykładzie.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Przykład

Poniższy przykład kodu ustawia zachowanie autoprzewijania bieżącego formantu widoku drzewa. W poprzedniej sekcji przykładu kodu, który nie jest wyświetlany, został utworzony widok drzewa, który składa się z węzła głównego kraju/regionu dla Stany Zjednoczone, podwęzłów dla Stanów Pensylwania i Waszyngton oraz elementów drzewa dla miejscowości w tych Stanach. Celowo przeprowadzono wąskie kontrolki widoku drzewa, aby umożliwić jej automatyczne przewijanie w celu wyświetlenia elementu drzewa, który ma fokus. Przykład kodu ustawia kontrolkę widok drzewa do automatycznego przewijania 30 pikseli na sekundę co 5 sekund do momentu wyświetlenia elementu drzewa.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_33.cpp)]

## <a name="ctreectrlsetbkcolor"></a><a name="setbkcolor"></a> CTreeCtrl:: SetBkColor

Ta funkcja członkowska implementuje zachowanie [TVM_SETBKCOLOR](/windows/win32/Controls/tvm-setbkcolor)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
COLORREF SetBkColor(COLORREF clr);
```

### <a name="parameters"></a>Parametry

*CLR*<br/>
Wartość COLORREF, która zawiera nowy kolor tła. Jeśli ta wartość to-1, kontrolka powróci do użycia koloru systemu w tle.

### <a name="return-value"></a>Wartość zwracana

Wartość COLORREF, która reprezentuje bieżący kolor tekstu. Jeśli ta wartość to-1, formant używa koloru systemu dla koloru tekstu.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: SetTextColor](#settextcolor).

## <a name="ctreectrlsetcheck"></a><a name="setcheck"></a> CTreeCtrl:: SetCheck

Wywołaj tę funkcję elementu członkowskiego, aby ustawić stan zaznaczenia dla elementu kontrolki drzewa.

```
BOOL SetCheck(
    HTREEITEM hItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
HTREEITEM, aby uzyskać zmianę stanu sprawdzania.

*Zapoznaj*<br/>
Wskazuje, czy element kontrolki drzewa ma być sprawdzany czy niezaznaczony. Domyślnie `SetCheck` Ustawia element do sprawdzenia.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Po zaznaczeniu elementu kontrolki drzewa ( *zapoznaj* ustawiona na true) element zostanie wyświetlony ze przyległym znacznikiem wyboru.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#29](../../mfc/reference/codesnippet/cpp/ctreectrl-class_34.cpp)]

### <a name="example"></a>Przykład

Aby użyć pól wyboru, ustaw TVS_CHECKBOXES przed zapełnieniem formantu drzewa.

[!code-cpp[NVC_MFC_CTreeCtrl#30](../../mfc/reference/codesnippet/cpp/ctreectrl-class_35.cpp)]

## <a name="ctreectrlsetextendedstyle"></a><a name="setextendedstyle"></a> CTreeCtrl:: setextended

Ustawia rozszerzone style dla bieżącego formantu widoku drzewa.

```
DWORD SetExtendedStyle(
    DWORD dwExMask,
    DWORD dwExStyles);
```

### <a name="parameters"></a>Parametry

*dwExMask*\
podczas Maska bitów, która określa, które style w bieżącym formancie widoku drzewa mają wpływ na tę metodę. Jeśli ten parametr ma wartość zero, zostanie zignorowany, a wartość parametru *dwExStyles* zostanie przypisana do kontrolki widok drzewa. Określ wartość zero lub kombinację bitową (lub) stylów opisanych w [widoku drzewa — rozszerzone style](/windows/win32/Controls/tree-view-control-window-extended-styles).

*dwExStyles*\
podczas Maska bitów określająca style w bieżącym formancie widoku drzewa do ustawienia lub wyczyszczenia. Aby ustawić kombinację stylów, określ kombinację bitową (lub) stylów opisaną w [rozszerzonym stylu kontrolki widoku drzewa](/windows/win32/Controls/tree-view-control-window-extended-styles). Aby wyczyścić zestaw stylów, należy określić wartość zero.

### <a name="return-value"></a>Wartość zwracana

Wartość, która zawiera poprzednie style kontrolki rozszerzonej.

### <a name="remarks"></a>Uwagi

Ta metoda czyści style określone w parametrze *dwExMask* , a następnie ustawia style określone w parametrze *dwExStyles* . Tylko style rozszerzone, które odpowiadają bity w *dwExMask* zmiana.

Ta metoda wysyła komunikat [TVM_SETEXTENDEDSTYLE](/windows/win32/Controls/tvm-setextendedstyle) , który jest opisany w Windows SDK.

### <a name="example"></a>Przykład

Poniższy przykład kodu definiuje zmienną, `m_treeCtrl` , która jest używana do uzyskiwania dostępu do bieżącego formantu widoku drzewa. Przykład kodu definiuje również liczbę całkowitą bez znaku i kilka zmiennych HTREEITEM. Te zmienne są używane w następnym przykładzie.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Przykład

Poniższy przykład kodu dodaje TVS_EX_AUTOHSCROLL stylu rozszerzonego do bieżącego formantu widoku drzewa. W poprzedniej sekcji przykładu kodu, który nie jest wyświetlany, został utworzony widok drzewa, który składa się z węzła głównego kraju/regionu dla Stany Zjednoczone, podwęzłów dla Stanów Pensylwania i Waszyngton oraz elementów drzewa dla miejscowości w tych Stanach. Celowo przeprowadzono wąskie kontrolki widoku drzewa, aby umożliwić jej automatyczne przewijanie w celu wyświetlenia elementu drzewa, który ma fokus.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_36.cpp)]

## <a name="ctreectrlsetimagelist"></a><a name="setimagelist"></a> CTreeCtrl:: SetImageList

Wywołaj tę funkcję, aby ustawić listę obrazów normalnych lub Stanów dla kontrolki widok drzewa i ponownie narysuj kontrolkę przy użyciu nowych obrazów.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Parametry

*pImageList*<br/>
Wskaźnik na listę obrazów do przypisania. Jeśli *pImageList* ma wartość null, wszystkie obrazy są usuwane z kontrolki widoku drzewa.

*nImageListType*<br/>
Typ listy obrazów do ustawienia. Lista obrazów może być jedną z następujących wartości:

- TVSIL_NORMAL ustawia listę zwykłych obrazów, która zawiera wybrane i niewybrane obrazy dla elementu widoku drzewa. Tego stanu należy używać w przypadku obrazów nakładki.

- TVSIL_STATE ustawia listę obrazów stanu, która zawiera obrazy dla elementów widoku drzewa, które znajdują się w stanie zdefiniowanym przez użytkownika.

### <a name="return-value"></a>Wartość zwracana

Wskaźnik na poprzednią listę obrazów, jeśli istnieje; w przeciwnym razie wartość NULL.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: GetImageList](#getimagelist).

## <a name="ctreectrlsetindent"></a><a name="setindent"></a> CTreeCtrl:: setwcięcie

Wywołaj tę funkcję, aby ustawić szerokość wcięcia dla kontrolki widoku drzewa i ponownie narysuj kontrolkę, aby odzwierciedlić nową szerokość.

```cpp
void SetIndent(UINT nIndent);
```

### <a name="parameters"></a>Parametry

*nIndent*<br/>
Szerokość wcięcia w pikselach. Jeśli wartość *nIndent* jest mniejsza niż minimalna szerokość określona przez system, Nowa szerokość jest ustawiona na wartość minimalną zdefiniowaną przez system.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: getwcięcie](#getindent).

## <a name="ctreectrlsetinsertmark"></a><a name="setinsertmark"></a> CTreeCtrl:: SetInsertMark

Ta funkcja członkowska implementuje zachowanie [TVM_SETINSERTMARK](/windows/win32/Controls/tvm-setinsertmark)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
BOOL SetInsertMark(
    HTREEITEM hItem,
    BOOL fAfter = TRUE);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
HTREEITEM, który określa element, do którego zostanie umieszczony znacznik wstawiania. Jeśli ten argument ma wartość NULL, znacznik wstawiania zostanie usunięty.

*fAfter*<br/>
Wartość logiczna określająca, czy znacznik wstawiania jest umieszczany przed określonym elementem lub po nim. Jeśli ten argument jest różny od zera, znacznik wstawiania zostanie umieszczony po elemencie. Jeśli ten argument ma wartość zero, znacznik wstawiania zostanie umieszczony przed elementem.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#31](../../mfc/reference/codesnippet/cpp/ctreectrl-class_37.cpp)]

## <a name="ctreectrlsetinsertmarkcolor"></a><a name="setinsertmarkcolor"></a> CTreeCtrl:: SetInsertMarkColor

Ta funkcja członkowska implementuje zachowanie [TVM_SETINSERTMARKCOLOR](/windows/win32/Controls/tvm-setinsertmarkcolor)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
COLORREF SetInsertMarkColor(COLORREF clrNew);
```

### <a name="parameters"></a>Parametry

*clrNew*<br/>
Wartość COLORREF, która zawiera nowy kolor znacznika wstawiania.

### <a name="return-value"></a>Wartość zwracana

Wartość COLORREF, która zawiera poprzedni kolor znacznika wstawiania.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: GetInsertMarkColor](#getinsertmarkcolor).

## <a name="ctreectrlsetitem"></a><a name="setitem"></a> CTreeCtrl:: SetItem

Wywołaj tę funkcję, aby ustawić atrybuty określonego elementu widoku drzewa.

```
BOOL SetItem(TVITEM* pItem);

BOOL SetItem(
    HTREEITEM hItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);
```

### <a name="parameters"></a>Parametry

*pItem*<br/>
Wskaźnik do struktury [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) , który zawiera atrybuty nowego elementu, zgodnie z opisem w Windows SDK.

*hItem*<br/>
Uchwyt elementu, którego atrybuty mają zostać ustawione. Zobacz `hItem` element członkowski `TVITEM` struktury w Windows SDK.

*nMask*<br/>
Liczba całkowita określająca atrybuty do ustawienia. Zobacz `mask` element członkowski `TVITEM` struktury.

*lpszItem*<br/>
Adres ciągu zawierającego tekst elementu.

*Nokreślono*<br/>
Indeks obrazu elementu na liście obrazów kontrolki widoku drzewa. Zobacz `iImage` element członkowski `TVITEM` struktury.

*nSelectedImage*<br/>
Indeks zaznaczonego obrazu elementu na liście obrazów kontrolki widoku drzewa. Zobacz `iSelectedImage` element członkowski `TVITEM` struktury.

*nInformacje*<br/>
Określa wartości dla Stanów elementu. Zobacz `State` element członkowski `TVITEM` struktury.

*nStateMask*<br/>
Określa, które Stany mają być ustawione. Zobacz `stateMask` element członkowski `TVITEM` struktury.

*lParam*<br/>
Wartość specyficzna dla aplikacji o rozmiarze wskaźnika skojarzona z elementem.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

W `TVITEM` strukturze element `hItem` członkowski identyfikuje element, a `mask` element członkowski Określa atrybuty, które należy ustawić.

Jeśli `mask` element członkowski lub parametr *nMask* określa wartość TVIF_TEXT, `pszText` element członkowski lub *lpszItem* jest adresem ciągu zakończonego wartością null, a `cchTextMax` element członkowski jest ignorowany. Jeśli `mask` (lub *nMask*) określa wartość TVIF_STATE, `stateMask` element członkowski lub *nStateMask* parametr określa, które Stany elementu należy zmienić, a `state` element członkowski lub *nInformacje* parametr zawiera wartości dla tych stanów.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#32](../../mfc/reference/codesnippet/cpp/ctreectrl-class_38.cpp)]

## <a name="ctreectrlsetitemdata"></a><a name="setitemdata"></a> CTreeCtrl:: SetItemData

Wywołaj tę funkcję, aby ustawić wartość specyficzną dla aplikacji skojarzoną z określonym elementem.

```
BOOL SetItemData(
    HTREEITEM hItem,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu, którego dane mają zostać pobrane.

*dwData*<br/>
Wartość specyficzna dla aplikacji o rozmiarze wskaźnika skojarzona z elementem określonym przez *hItem*.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#33](../../mfc/reference/codesnippet/cpp/ctreectrl-class_39.cpp)]

## <a name="ctreectrlsetitemexpandedimageindex"></a><a name="setitemexpandedimageindex"></a> CTreeCtrl:: SetItemExpandedImageIndex

Ustawia indeks obrazu, który ma być wyświetlany, gdy określony element kontrolki widoku drzewa jest w stanie rozwiniętym.

```
BOOL SetItemExpandedImageIndex(
    HTREEITEM hItem,
    int iExpandedImage);
```

### <a name="parameters"></a>Parametry

*hItem*\
podczas Dojście do elementu kontrolki widoku drzewa.

*iExpandedImage*\
podczas Indeks obrazu do wyświetlenia, gdy określony element jest w stanie rozwiniętym.

### <a name="return-value"></a>Wartość zwracana

PRAWDA, jeśli ta metoda zakończyła się pomyślnie; w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

Ta metoda wysyła komunikat [TVM_SETITEM](/windows/win32/Controls/tvm-setitem) , który jest opisany w Windows SDK. Ta metoda przypisuje parametr *iExpandedImage* do `iExpandedImage` elementu członkowskiego struktury [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) , a następnie używa tej struktury w komunikacie.

### <a name="example"></a>Przykład

Poniższy przykład kodu definiuje zmienną, `m_treeCtrl` , która jest używana do uzyskiwania dostępu do bieżącego formantu widoku drzewa. Przykład kodu definiuje również liczbę całkowitą bez znaku i kilka zmiennych HTREEITEM. Te zmienne są używane w następnym przykładzie.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Przykład

Poniższy przykład kodu jest prostym testem, aby określić, czy metoda [CTreeCtrl:: GetItemExpandedImageIndex](#getitemexpandedimageindex) zwraca wartość ustawioną przez metodę [CTreeCtrl:: SetItemExpandedImageIndex](#setitemexpandedimageindex) . W poprzedniej sekcji przykładu kodu, który nie jest wyświetlany, został utworzony widok drzewa, który składa się z węzła głównego kraju/regionu dla Stany Zjednoczone, podwęzłów dla Stanów Pensylwania i Waszyngton oraz elementów drzewa dla miejscowości w tych Stanach.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_40.cpp)]

## <a name="ctreectrlsetitemheight"></a><a name="setitemheight"></a> CTreeCtrl:: SetItemHeight

Ta funkcja członkowska implementuje zachowanie [TVM_SETITEMHEIGHT](/windows/win32/Controls/tvm-setitemheight)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
SHORT SetItemHeight(SHORT cyHeight);
```

### <a name="parameters"></a>Parametry

*cyHeight*<br/>
Określa nową wysokość każdego elementu w widoku drzewa (w pikselach). Jeśli ten argument jest mniejszy niż wysokość obrazów, zostanie ustawiony na wysokość obrazów. Jeśli ten argument nie jest parzysty, zostanie zaokrąglony w dół do najbliższej wartości parzystej. Jeśli ten argument ma wartość-1, kontrolka powróci do korzystania z domyślnej wysokości elementu.

### <a name="return-value"></a>Wartość zwracana

Poprzednia wysokość elementów (w pikselach).

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: GetItemHeight](#getitemheight).

## <a name="ctreectrlsetitemimage"></a><a name="setitemimage"></a> CTreeCtrl:: SetItemImage

Kojarzy obrazy z elementem.

```
BOOL SetItemImage(
    HTREEITEM hItem,
    int nImage,
    int nSelectedImage);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu, którego obraz ma zostać ustawiony.

*Nokreślono*<br/>
Indeks obrazu elementu na liście obrazów kontrolki widoku drzewa.

*nSelectedImage*<br/>
Indeks zaznaczonego obrazu elementu na liście obrazów kontrolki widoku drzewa.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Każdy element kontrolki widoku drzewa może mieć skojarzoną parę obrazów mapy bitowej. Obrazy są wyświetlane po lewej stronie etykiety elementu. Po wybraniu elementu jest wyświetlany jeden obraz, a drugi jest wyświetlany, gdy element nie jest zaznaczony. Na przykład element może wyświetlić otwarty folder, gdy jest zaznaczony, i folder zamknięty, gdy nie jest zaznaczony.

Wywołaj tę funkcję, aby ustawić indeks obrazu elementu i jego zaznaczonego obrazu na liście obrazów kontrolki widoku drzewa.

Aby uzyskać więcej informacji o obrazach, zobacz [Korzystanie CImageList](../../mfc/reference/cimagelist-class.md).

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: GetItemImage](#getitemimage).

## <a name="ctreectrlsetitemstate"></a><a name="setitemstate"></a> CTreeCtrl:: SetItemState

Ustawia stan elementu określonego przez *hItem*.

```
BOOL SetItemState(
    HTREEITEM hItem,
    UINT nState,
    UINT nStateMask);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu, którego stan ma być ustawiony.

*nInformacje*<br/>
Określa nowe Stany dla elementu.

*nStateMask*<br/>
Określa, które Stany mają zostać zmienione.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Aby uzyskać informacje na temat stanów, zobacz [CTreeCtrl:: GetItem](#getitem).

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: GetItemState](#getitemstate).

## <a name="ctreectrlsetitemstateex"></a><a name="setitemstateex"></a> CTreeCtrl:: SetItemStateEx

Ustawia rozszerzony stan określonego elementu w bieżącym formancie widoku drzewa.

```
BOOL SetItemStateEx(
    HTREEITEM hItem,
    UINT uStateEx);
```

### <a name="parameters"></a>Parametry

*hItem*\
podczas Dojście do elementu kontrolki widoku drzewa.

*uStateEx*\
podczas Rozszerzony stan elementu. Aby uzyskać więcej informacji, zobacz `uStateEx` element członkowski struktury [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .

### <a name="return-value"></a>Wartość zwracana

PRAWDA, jeśli ta metoda zakończyła się pomyślnie; w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

Ta metoda wysyła komunikat [TVM_SETITEM](/windows/win32/Controls/tvm-setitem) , który jest opisany w Windows SDK. Ta metoda przypisuje parametr *uStateEx* do `uStateEx` elementu członkowskiego struktury [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) , a następnie używa tej struktury w komunikacie.

### <a name="example"></a>Przykład

Poniższy przykład kodu definiuje zmienną, `m_treeCtrl` , która jest używana do uzyskiwania dostępu do bieżącego formantu widoku drzewa. Przykład kodu definiuje również liczbę całkowitą bez znaku i kilka zmiennych HTREEITEM. Te zmienne są używane w następnym przykładzie.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Przykład

Poniższy przykład kodu ustawia element widoku drzewa na stan wyłączony. W poprzedniej sekcji przykładu kodu, który nie jest wyświetlany, został utworzony widok drzewa, który składa się z węzła głównego kraju/regionu dla Stany Zjednoczone, podwęzłów dla Stanów Pensylwania i Waszyngton oraz elementów drzewa dla miejscowości w tych Stanach. Ten przykład kodu ustawia stan węzła Pensylwania na wyłączony.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_41.cpp)]

## <a name="ctreectrlsetitemtext"></a><a name="setitemtext"></a> CTreeCtrl:: SetItemText

Ustawia tekst elementu określonego przez *hItem*.

```
BOOL SetItemText(
    HTREEITEM hItem,
    LPCTSTR lpszItem);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu, którego tekst ma zostać ustawiony.

*lpszItem*<br/>
Adres ciągu zawierającego nowy tekst dla elementu

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#34](../../mfc/reference/codesnippet/cpp/ctreectrl-class_42.cpp)]

## <a name="ctreectrlsetlinecolor"></a><a name="setlinecolor"></a> CTreeCtrl:: SetLineColor

Wywołaj tę funkcję elementu członkowskiego, aby ustawić kolor bieżącego wiersza dla kontrolki widoku drzewa.

```
COLORREF SetLineColor(COLORREF clrNew = CLR_DEFAULT);
```

### <a name="parameters"></a>Parametry

*clrNew*<br/>
Kolor nowego wiersza.

### <a name="return-value"></a>Wartość zwracana

Kolor poprzedniego wiersza.

### <a name="remarks"></a>Uwagi

Ta funkcja członkowska implementuje zachowanie [TVM_SETLINECOLOR](/windows/win32/Controls/tvm-setlinecolor)komunikatu Win32, zgodnie z opisem w Windows SDK.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#35](../../mfc/reference/codesnippet/cpp/ctreectrl-class_43.cpp)]

## <a name="ctreectrlsetscrolltime"></a><a name="setscrolltime"></a> CTreeCtrl:: SetScrollTime

Wywołaj tę funkcję elementu członkowskiego, aby ustawić maksymalny czas przewijania kontrolki widoku drzewa.

```
UINT SetScrollTime(UINT uScrollTime);
```

### <a name="parameters"></a>Parametry

*uScrollTime*<br/>
Nowy maksymalny czas przewijania (w milisekundach). Jeśli ta wartość jest mniejsza niż 100, zostanie zaokrąglona do 100.

### <a name="return-value"></a>Wartość zwracana

Poprzedni maksymalny czas przewijania (w milisekundach).

### <a name="remarks"></a>Uwagi

Ta funkcja członkowska implementuje zachowanie [TVM_SETSCROLLTIME](/windows/win32/Controls/tvm-setscrolltime)komunikatu Win32, zgodnie z opisem w Windows SDK.

## <a name="ctreectrlsettextcolor"></a><a name="settextcolor"></a> CTreeCtrl:: SetTextColor

Ta funkcja członkowska implementuje zachowanie [TVM_SETTEXTCOLOR](/windows/win32/Controls/tvm-settextcolor)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
COLORREF SetTextColor(COLORREF clr);
```

### <a name="parameters"></a>Parametry

*CLR*<br/>
Wartość COLORREF, która zawiera nowy kolor tekstu. Jeśli ten argument ma wartość-1, formant powróci do użycia koloru systemu w kolorze tekstu.

### <a name="return-value"></a>Wartość zwracana

Wartość COLORREF, która reprezentuje poprzedni kolor tekstu. Jeśli ta wartość to-1, formant używa koloru systemu dla koloru tekstu.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#36](../../mfc/reference/codesnippet/cpp/ctreectrl-class_44.cpp)]

## <a name="ctreectrlsettooltips"></a><a name="settooltips"></a> CTreeCtrl:: setetykietki narzędzi

Ta funkcja członkowska implementuje zachowanie [TVM_SETTOOLTIPS](/windows/win32/Controls/tvm-settooltips)komunikatu Win32, zgodnie z opisem w Windows SDK.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Parametry

*pWndTip*<br/>
Wskaźnik do obiektu [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) , który będzie używany przez kontrolkę drzewa.

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do obiektu [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) zawierającego etykietkę narzędzia poprzednio używanej przez formant lub wartość null, jeśli nie użyto żadnych etykietek narzędzi.

### <a name="remarks"></a>Uwagi

Aby użyć etykietek narzędzi, wskaż TVS_NOTOOLTIPS stylu podczas tworzenia `CTreeCtrl` obiektu.

### <a name="example"></a>Przykład

  Zobacz przykład dla [CTreeCtrl:: GetToolTips](#gettooltips).

## <a name="ctreectrlshowinfotip"></a><a name="showinfotip"></a> CTreeCtrl:: ShowInfoTip

Wyświetla Porada dla określonego elementu w bieżącym formancie widoku drzewa.

```cpp
void ShowInfoTip(HTREEITEM hItem);
```

### <a name="parameters"></a>Parametry

*hItem*\
podczas Uchwyt do elementu widoku drzewa w kontrolce. Aby uzyskać więcej informacji, zobacz `hItem` element członkowski struktury [TVITEMEX](/windows/win32/api/commctrl/ns-commctrl-tvitemexw) .

### <a name="remarks"></a>Uwagi

Aby uzyskać więcej informacji o różnicach między etykietami narzędzi i InfoTips, wyszukaj temat "etykietki narzędzi i InfoTips" w [witrynie Microsoft Developer Network](https://go.microsoft.com/fwlink/p/?linkid=56322).

Ta metoda wysyła komunikat [TVM_SHOWINFOTIP](/windows/win32/Controls/tvm-showinfotip) , który jest opisany w Windows SDK.

## <a name="ctreectrlsortchildren"></a><a name="sortchildren"></a> CTreeCtrl:: SortChildren

Wywołaj tę funkcję, aby posortować alfabetycznie elementy podrzędne danego elementu nadrzędnego w kontrolce widoku drzewa.

```
BOOL SortChildren(HTREEITEM hItem);
```

### <a name="parameters"></a>Parametry

*hItem*<br/>
Uchwyt elementu nadrzędnego, którego elementy podrzędne mają być sortowane. Jeśli *hItem* ma wartość null, sortowanie będzie przebiegać z katalogu głównego drzewa.

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

`SortChildren` nie będzie powtarzany przez drzewo; zostaną posortowane tylko bezpośrednie elementy podrzędne elementu *hItem* .

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#37](../../mfc/reference/codesnippet/cpp/ctreectrl-class_45.cpp)]

## <a name="ctreectrlsortchildrencb"></a><a name="sortchildrencb"></a> CTreeCtrl:: SortChildrenCB

Wywołaj tę funkcję, aby sortować elementy widoku drzewa przy użyciu zdefiniowanej przez aplikację funkcji wywołania zwrotnego, która porównuje elementy.

```
BOOL SortChildrenCB(LPTVSORTCB pSort);
```

### <a name="parameters"></a>Parametry

*pSort*<br/>
Wskaźnik do struktury [TVSORTCB](/windows/win32/api/commctrl/ns-commctrl-tvsortcb) .

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli pomyślne; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Funkcja porównywania struktury, `lpfnCompare` musi zwracać wartość ujemną, jeśli pierwszy element powinien poprzedzać sekundę, wartość dodatnią, jeśli pierwszy element powinien następować po drugim, lub zero, jeśli dwa elementy są równoważne.

Parametry *lParam1* i *lParam2* odpowiadają `lParam` członkowi struktury [TVITEM](/windows/win32/api/commctrl/ns-commctrl-tvitemw) dla dwóch porównywanych elementów. Parametr *lParamSort* odpowiada `lParam` elementowi członkowskiemu `TV_SORTCB` struktury.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFC_CTreeCtrl#38](../../mfc/reference/codesnippet/cpp/ctreectrl-class_46.cpp)]

[!code-cpp[NVC_MFC_CTreeCtrl#39](../../mfc/reference/codesnippet/cpp/ctreectrl-class_47.cpp)]

## <a name="see-also"></a>Zobacz też

[Przykład CMNCTRL1 MFC](../../overview/visual-cpp-samples.md)<br/>
[Klasa CWnd](../../mfc/reference/cwnd-class.md)<br/>
[Wykres hierarchii](../../mfc/hierarchy-chart.md)<br/>
[Klasa korzystanie CImageList](../../mfc/reference/cimagelist-class.md)
