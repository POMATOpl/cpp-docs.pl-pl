---
title: Klasa CFileDialog
ms.date: 11/04/2016
f1_keywords:
- CFileDialog
- AFXDLGS/CFileDialog
- AFXDLGS/CFileDialog::CFileDialog
- AFXDLGS/CFileDialog::AddCheckButton
- AFXDLGS/CFileDialog::AddComboBox
- AFXDLGS/CFileDialog::AddControlItem
- AFXDLGS/CFileDialog::AddEditBox
- AFXDLGS/CFileDialog::AddMenu
- AFXDLGS/CFileDialog::AddPlace
- AFXDLGS/CFileDialog::AddPushButton
- AFXDLGS/CFileDialog::AddRadioButtonList
- AFXDLGS/CFileDialog::AddSeparator
- AFXDLGS/CFileDialog::AddText
- AFXDLGS/CFileDialog::ApplyOFNToShellDialog
- AFXDLGS/CFileDialog::DoModal
- AFXDLGS/CFileDialog::EnableOpenDropDown
- AFXDLGS/CFileDialog::EndVisualGroup
- AFXDLGS/CFileDialog::GetCheckButtonState
- AFXDLGS/CFileDialog::GetControlItemState
- AFXDLGS/CFileDialog::GetControlState
- AFXDLGS/CFileDialog::GetEditBoxText
- AFXDLGS/CFileDialog::GetFileExt
- AFXDLGS/CFileDialog::GetFileName
- AFXDLGS/CFileDialog::GetFileTitle
- AFXDLGS/CFileDialog::GetFolderPath
- AFXDLGS/CFileDialog::GetIFileDialogCustomize
- AFXDLGS/CFileDialog::GetIFileOpenDialog
- AFXDLGS/CFileDialog::GetIFileSaveDialog
- AFXDLGS/CFileDialog::GetNextPathName
- AFXDLGS/CFileDialog::GetOFN
- AFXDLGS/CFileDialog::GetPathName
- AFXDLGS/CFileDialog::GetReadOnlyPref
- AFXDLGS/CFileDialog::GetResult
- AFXDLGS/CFileDialog::GetResults
- AFXDLGS/CFileDialog::GetSelectedControlItem
- AFXDLGS/CFileDialog::GetStartPosition
- AFXDLGS/CFileDialog::HideControl
- AFXDLGS/CFileDialog::IsPickFoldersMode
- AFXDLGS/CFileDialog::MakeProminent
- AFXDLGS/CFileDialog::RemoveControlItem
- AFXDLGS/CFileDialog::SetCheckButtonState
- AFXDLGS/CFileDialog::SetControlItemState
- AFXDLGS/CFileDialog::SetControlItemText
- AFXDLGS/CFileDialog::SetControlLabel
- AFXDLGS/CFileDialog::SetControlState
- AFXDLGS/CFileDialog::SetControlText
- AFXDLGS/CFileDialog::SetDefExt
- AFXDLGS/CFileDialog::SetEditBoxText
- AFXDLGS/CFileDialog::SetProperties
- AFXDLGS/CFileDialog::SetSelectedControlItem
- AFXDLGS/CFileDialog::SetTemplate
- AFXDLGS/CFileDialog::StartVisualGroup
- AFXDLGS/CFileDialog::UpdateOFNFromShellDialog
- AFXDLGS/CFileDialog::OnButtonClicked
- AFXDLGS/CFileDialog::OnCheckButtonToggled
- AFXDLGS/CFileDialog::OnControlActivating
- AFXDLGS/CFileDialog::OnFileNameChange
- AFXDLGS/CFileDialog::OnFileNameOK
- AFXDLGS/CFileDialog::OnFolderChange
- AFXDLGS/CFileDialog::OnInitDone
- AFXDLGS/CFileDialog::OnItemSelected
- AFXDLGS/CFileDialog::OnLBSelChangedNotify
- AFXDLGS/CFileDialog::OnShareViolation
- AFXDLGS/CFileDialog::OnTypeChange
- AFXDLGS/CFileDialog::m_ofn
helpviewer_keywords:
- CFileDialog [MFC], CFileDialog
- CFileDialog [MFC], AddCheckButton
- CFileDialog [MFC], AddComboBox
- CFileDialog [MFC], AddControlItem
- CFileDialog [MFC], AddEditBox
- CFileDialog [MFC], AddMenu
- CFileDialog [MFC], AddPlace
- CFileDialog [MFC], AddPushButton
- CFileDialog [MFC], AddRadioButtonList
- CFileDialog [MFC], AddSeparator
- CFileDialog [MFC], AddText
- CFileDialog [MFC], ApplyOFNToShellDialog
- CFileDialog [MFC], DoModal
- CFileDialog [MFC], EnableOpenDropDown
- CFileDialog [MFC], EndVisualGroup
- CFileDialog [MFC], GetCheckButtonState
- CFileDialog [MFC], GetControlItemState
- CFileDialog [MFC], GetControlState
- CFileDialog [MFC], GetEditBoxText
- CFileDialog [MFC], GetFileExt
- CFileDialog [MFC], GetFileName
- CFileDialog [MFC], GetFileTitle
- CFileDialog [MFC], GetFolderPath
- CFileDialog [MFC], GetIFileDialogCustomize
- CFileDialog [MFC], GetIFileOpenDialog
- CFileDialog [MFC], GetIFileSaveDialog
- CFileDialog [MFC], GetNextPathName
- CFileDialog [MFC], GetOFN
- CFileDialog [MFC], GetPathName
- CFileDialog [MFC], GetReadOnlyPref
- CFileDialog [MFC], GetResult
- CFileDialog [MFC], GetResults
- CFileDialog [MFC], GetSelectedControlItem
- CFileDialog [MFC], GetStartPosition
- CFileDialog [MFC], HideControl
- CFileDialog [MFC], IsPickFoldersMode
- CFileDialog [MFC], MakeProminent
- CFileDialog [MFC], RemoveControlItem
- CFileDialog [MFC], SetCheckButtonState
- CFileDialog [MFC], SetControlItemState
- CFileDialog [MFC], SetControlItemText
- CFileDialog [MFC], SetControlLabel
- CFileDialog [MFC], SetControlState
- CFileDialog [MFC], SetControlText
- CFileDialog [MFC], SetDefExt
- CFileDialog [MFC], SetEditBoxText
- CFileDialog [MFC], SetProperties
- CFileDialog [MFC], SetSelectedControlItem
- CFileDialog [MFC], SetTemplate
- CFileDialog [MFC], StartVisualGroup
- CFileDialog [MFC], UpdateOFNFromShellDialog
- CFileDialog [MFC], OnButtonClicked
- CFileDialog [MFC], OnCheckButtonToggled
- CFileDialog [MFC], OnControlActivating
- CFileDialog [MFC], OnFileNameChange
- CFileDialog [MFC], OnFileNameOK
- CFileDialog [MFC], OnFolderChange
- CFileDialog [MFC], OnInitDone
- CFileDialog [MFC], OnItemSelected
- CFileDialog [MFC], OnLBSelChangedNotify
- CFileDialog [MFC], OnShareViolation
- CFileDialog [MFC], OnTypeChange
- CFileDialog [MFC], m_ofn
ms.assetid: fda4fd3c-08b8-4ce0-8e9d-7bab23f8c6c0
ms.openlocfilehash: 94530f17c801c62005e837055ce3608e2eaa512f
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/31/2018
ms.locfileid: "50499698"
---
# <a name="cfiledialog-class"></a>Klasa CFileDialog

Hermetyzuje wspólne okno dialogowe, które służy do otwarcia pliku lub pliku operacji zapisywania.

## <a name="syntax"></a>Składnia

```
class CFileDialog : public CCommonDialog
```

## <a name="members"></a>Elementy członkowskie

### <a name="public-constructors"></a>Konstruktory publiczne

|Nazwa|Opis|
|----------|-----------------|
|[CFileDialog::CFileDialog](#cfiledialog)|Konstruuje `CFileDialog` obiektu.|

### <a name="public-methods"></a>Metody publiczne

|Nazwa|Opis|
|----------|-----------------|
|[CFileDialog::AddCheckButton](#addcheckbutton)|Dodaje przycisk wyboru do okna dialogowego.|
|[CFileDialog::AddComboBox](#addcombobox)|Dodaje pole kombi do okna dialogowego.|
|[CFileDialog::AddControlItem](#addcontrolitem)|Dodaje element do kontrolki kontenera, w oknie dialogowym.|
|[CFileDialog::AddEditBox](#addeditbox)|Dodaje pole edycji do okna dialogowego.|
|[CFileDialog::AddMenu](#addmenu)|Dodaje menu do okna dialogowego.|
|[CFileDialog::AddPlace](#addplace)|Przeciążone. Dodaje folder do listy umieszcza dostępne dla użytkownika otworzyć lub zapisać elementy.|
|[CFileDialog::AddPushButton](#addpushbutton)|Dodaje przycisk do okna dialogowego.|
|[CFileDialog::AddRadioButtonList](#addradiobuttonlist)|Dodaje grupę (znany także jako przycisk radiowy) przycisków opcji w oknie dialogowym.|
|[CFileDialog::AddSeparator](#addseparator)|Dodaje separator do okna dialogowego.|
|[CFileDialog::AddText](#addtext)|Dodaje zawartość tekstową do okna dialogowego.|
|[CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog)|Aktualizuje stan `CFileDialog` dopasowana do parametrów i flagi przechowywane w `m_ofn` zmiennej składowej.|
|[CFileDialog::DoModal](#domodal)|Zostanie wyświetlone okno dialogowe i umożliwia użytkownikowi dokonać wyboru.|
|[CFileDialog::EnableOpenDropDown](#enableopendropdown)|Włącza listy rozwijanej **Otwórz** lub **Zapisz** przycisk w oknie dialogowym.|
|[CFileDialog::EndVisualGroup](#endvisualgroup)|Zatrzymuje Dodawanie elementów do grupy visual w oknie dialogowym.|
|[CFileDialog::GetCheckButtonState](#getcheckbuttonstate)|Pobiera bieżący stan przycisk wyboru (pole) w oknie dialogowym.|
|[CFileDialog::GetControlItemState](#getcontrolitemstate)|Pobiera bieżący stan elementu w kontrolce kontenera, w oknie dialogowym.|
|[CFileDialog::GetControlState](#getcontrolstate)|Pobiera bieżący widoczności i włączone stanów określonej kontrolki.|
|[CFileDialog::GetEditBoxText](#geteditboxtext)|Pobiera tekst w formancie pola edycji.|
|[CFileDialog::GetFileExt](#getfileext)|Zwraca numer wewnętrzny wybranego pliku.|
|[CFileDialog::GetFileName](#getfilename)|Zwraca nazwę wybranego pliku.|
|[CFileDialog::GetFileTitle](#getfiletitle)|Zwraca tytułu wybranego pliku.|
|[CFileDialog::GetFolderPath](#getfolderpath)|Pobiera ścieżkę do aktualnie otwartego folderu lub katalogu w stylu Eksploratora **Otwórz** lub **Zapisz jako** wspólne okno dialogowe.|
|[CFileDialog::GetIFileDialogCustomize](#getifiledialogcustomize)|Pobiera wewnętrzne obiektu COM dla dostosowany `CFileDialog` obiektu.|
|[CFileDialog::GetIFileOpenDialog](#getifileopendialog)|Pobiera obiekt wewnętrzny COM dla `CFileDialog` używany jako **Otwórz** okno dialogowe pliku.|
|[CFileDialog::GetIFileSaveDialog](#getifilesavedialog)|Pobiera obiekt wewnętrzny COM dla `CFileDialog` używany jako **Zapisz** okno dialogowe pliku.|
|[CFileDialog::GetNextPathName](#getnextpathname)|Zwraca pełną ścieżkę dalej wybranego pliku.|
|[CFileDialog::GetOFN](#getofn)|Pobiera `OPENFILENAME` struktury `CFileDialog` obiektu.|
|[CFileDialog::GetPathName](#getpathname)|Zwraca pełną ścieżkę wybranego pliku.|
|[CFileDialog::GetReadOnlyPref](#getreadonlypref)|Zwraca stan wybranego pliku tylko do odczytu.|
|[CFileDialog::GetResult](#getresult)|Pobiera użytkownika wprowadzone w oknie dialogowym wyboru.|
|[CFileDialog::GetResults](#getresults)|Pobiera użytkownika opcji w oknie dialogowym, która umożliwia wybór wielokrotny.|
|[CFileDialog::GetSelectedControlItem](#getselectedcontrolitem)|Pobiera określonego elementu z określonego kontenera kontrolek w oknie dialogowym.|
|[CFileDialog::GetStartPosition](#getstartposition)|Zwraca pozycję pierwszego elementu listy nazw plików.|
|[CFileDialog::HideControl](#hidecontrol)|Ukrywa określoną kontrolkę w stylu Eksploratora **Otwórz** lub **Zapisz jako** wspólne okno dialogowe.|
|[CFileDialog::IsPickFoldersMode](#ispickfoldersmode)|Określa, czy bieżące okno dialogowe, w folderze trybu selektora.|
|[CFileDialog::MakeProminent](#makeprominent)|Umieszcza formantu w oknie dialogowym, aby wyróżnić w porównaniu do innych formantów dodanych.|
|[CFileDialog::RemoveControlItem](#removecontrolitem)|Usuwa element w kontrolce kontenera, w oknie dialogowym.|
|[CFileDialog::SetCheckButtonState](#setcheckbuttonstate)|Ustawia bieżący stan przycisk wyboru (pole) w oknie dialogowym.|
|[CFileDialog::SetControlItemState](#setcontrolitemstate)|Ustawia bieżący stan elementu w kontrolce kontenera, w oknie dialogowym.|
|[CFileDialog::SetControlItemText](#setcontrolitemtext)|Ustawia tekst elementu kontrolki. Na przykład tekst, który towarzyszy przycisku radiowego lub element menu.|
|[CFileDialog::SetControlLabel](#setcontrollabel)|Ustawia tekst skojarzony z kontrolki, takie jak tekst przycisku lub Edytuj etykietę pola.|
|[CFileDialog::SetControlState](#setcontrolstate)|Ustawia bieżący widoczność i włączone stanów określonej kontrolki.|
|[CFileDialog::SetControlText](#setcontroltext)|Ustawia tekst na określoną kontrolkę w stylu Eksploratora **Otwórz** lub **Zapisz jako** wspólne okno dialogowe.|
|[CFileDialog::SetDefExt](#setdefext)|Ustawia domyślne rozszerzenie nazwy pliku w stylu Eksploratora **Otwórz** lub **Zapisz jako** wspólne okno dialogowe.|
|[CFileDialog::SetEditBoxText](#seteditboxtext)|Ustawia bieżący tekstu w formancie pola edycji.|
|[CFileDialog::SetProperties](#setproperties)|Udostępnia Magazyn właściwości, który definiuje wartości domyślne, które ma być używany dla elementu są zapisywane.|
|[CFileDialog::SetSelectedControlItem](#setselectedcontrolitem)|Ustawia stan wybrania określonego elementu w grupie przycisk opcji lub pola kombi, w oknie dialogowym.|
|[CFileDialog::SetTemplate](#settemplate)|Ustawia szablonu okna dialogowego, aby uzyskać `CFileDialog` obiektu.|
|[CFileDialog::StartVisualGroup](#startvisualgroup)|Deklaruje visual grupy w oknie dialogowym. Kolejne wywołania do dowolnej metody "add" Dodaj te elementy do tej grupy.|
|[CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog)|Aktualizuje dane przechowywane w `m_ofn` zmiennej składowej, aby dopasować bieżącego stanu okna dialogowego pliku.|

### <a name="protected-methods"></a>Metody chronione

|Nazwa|Opis|
|----------|-----------------|
|[CFileDialog::OnButtonClicked](#onbuttonclicked)|Wywoływane po kliknięciu przycisku.|
|[CFileDialog::OnCheckButtonToggled](#oncheckbuttontoggled)|Wywołuje się, gdy pole wyboru jest zaznaczone niezaznaczone.|
|[CFileDialog::OnControlActivating](#oncontrolactivating)|Wywołuje się, gdy kontrolka jest aktywny.|
|[CFileDialog::OnFileNameChange](#onfilenamechange)|Obsługuje komunikat WM_NOTIFY CDN_SELCHANGE.|
|[CFileDialog::OnFileNameOK](#onfilenameok)|Waliduje nazwę pliku w oknie dialogowym.|
|[CFileDialog::OnFolderChange](#onfolderchange)|Obsługuje komunikat WM_NOTIFY CDN_FOLDERCHANGE.|
|[CFileDialog::OnInitDone](#oninitdone)|Obsługuje komunikat WM_NOTIFY CDN_INITDONE.|
|[CFileDialog::OnItemSelected](#onitemselected)|Wywołuje się, gdy wybrano element kontenera.|
|[CFileDialog::OnLBSelChangedNotify](#onlbselchangednotify)|Umożliwia wykonywanie akcji niestandardowych, gdy zmieni się zaznaczenie pliku.|
|[CFileDialog::OnShareViolation](#onshareviolation)|Obsługuje udostępnianie naruszenia.|
|[CFileDialog::OnTypeChange](#ontypechange)|Obsługuje komunikat WM_NOTIFY CDN_TYPECHANGE.|

### <a name="public-data-members"></a>Publiczne elementy członkowskie danych

|Nazwa|Opis|
|----------|-----------------|
|[CFileDialog::m_ofn](#m_ofn)|Windows `OPENFILENAME` struktury. Zapewnia dostęp do parametrów okno dialogowe podstawowy plik.|

## <a name="remarks"></a>Uwagi

Wspólne okna dialogowe pliku pozwalają na implementowanie okna dialogowe Wybieranie plików, na przykład **Otwórz plik** i **Zapisz jako**, w sposób, który jest zgodny ze standardami Windows.

Możesz użyć `CFileDialog` , w jakim są za pomocą konstruktora przewidzianej lub może pochodzić własne klasy okno dialogowe z `CFileDialog` i zapisywanie konstruktora do własnych potrzeb. W obu przypadkach tych okien dialogowych będzie zachowywać się jak standardowego okna dialogowe MFC, ponieważ są pochodną [klasa CCommonDialog](../../mfc/reference/ccommondialog-class.md). `CFileDialog` opiera się na pliku COMMDLG. Plik DLL, który znajduje się w Windows.

Wygląd i funkcjonalność `CFileDialog` Windows Vista lub nowszym różnią się od wcześniejszych wersji systemu Windows. Wartość domyślna `CFileDialog` automatycznie używa nowego Windows Vista lub nowszym styl bez zmian w kodzie, jeśli program jest skompilowany i działania w ramach Windows Vista lub nowszym. Użyj *bVistaStyle* parametr w Konstruktorze można ręcznie przezwyciężyć tej aktualizacji automatycznych. Wyjątek aktualizacje automatyczne jest pola niestandardowe okno dialogowe. Będą one nie można przekonwertować na nowym stylem. Aby uzyskać więcej informacji na temat konstruktora, zobacz [CFileDialog::CFileDialog](#cfiledialog).

> [!NOTE]
>  System identyfikator kontroli różni się w Windows Vista lub nowszym z wcześniejszych wersji programu Windows korzystając z `CFileDialog`. Należy zaktualizować wszystkie odwołania do `CFileDialog` kontrolki w kodzie, zanim przeniesiesz projektu ze starszej wersji systemu Windows.

Niektóre `CFileDialog` metody nie są obsługiwane w Windows Vista lub nowszym. Sprawdź tematu poszczególne metody, które zawiera informacje dotyczące tego, czy metoda jest obsługiwana. Ponadto następujące funkcje dziedziczonych nie są obsługiwane w Windows Vista lub nowszy:

- [CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog)

- [CDialog::OnSetFont](../../mfc/reference/cdialog-class.md#onsetfont)

Komunikaty systemu windows dla `CFileDialog` klasy różnią się zależnie od jakiego systemu operacyjnego, którego używasz. Na przykład Windows XP nie obsługuje [CDialog::OnCancel](../../mfc/reference/cdialog-class.md#oncancel) i [CDialog::OnOK](../../mfc/reference/cdialog-class.md#onok) dla `CFileDialog` klasy. Jednakże Windows Vista i nowszych systemów operacyjnych obsługują je. Aby uzyskać więcej informacji o różnych komunikatów, które są generowane i kolejności, w której zostały odebrane, zobacz [CFileDialog próbki: rejestrowanie kolejności zdarzeń](../../visual-cpp-samples.md).

Aby użyć `CFileDialog` obiektów, należy najpierw utworzyć obiekt przy użyciu `CFileDialog` konstruktora. Po został skonstruowany okna dialogowego, można ustawić lub zmodyfikować dowolne wartości na [CFileDialog::m_ofn](#m_ofn) strukturę, aby zainicjować wartości lub stany formantów okna dialogowego. `m_ofn` Struktury jest typu `OPENFILENAME`. Aby uzyskać więcej informacji, zobacz [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktury w zestawie Windows SDK.

Po inicjowania formantów okna dialogowego wywołać [CFileDialog::DoModal](#domodal) metodę, aby wyświetlić okno dialogowe pola tak, aby użytkownik może wpisać ścieżkę i nazwę pliku. `DoModal` Zwraca, czy użytkownik kliknął przycisk anulowania (IDCANCEL) lub OK (IDOK). Jeśli `DoModal` zwraca IDOK, możesz użyć jednej z `CFileDialog` publiczne funkcje Członkowskie można pobrać informacji o umieszczenie w przez użytkownika.

> [!NOTE]
> W obszarze Windows Vista lub nowszym, wiele wywołań [IFileDialog::SetFileTypes](https://msdn.microsoft.com/library/windows/desktop/bb775980) powoduje błąd. Drugie wywołanie `SetFileTypes` dla każdego wystąpienia programu `CFileDialog` zwróci wartość E_UNEXPECTED w systemie Windows Vista lub nowszym. Niektóre `CFileDialog` metody funkcji wywołanie `SetFileTypes`. Na przykład dwa wywołania `CFileDialog::DoModal` dla tego samego wystąpienia `CFileDialog` generuje [ASERCJA](diagnostic-services.md#assert).

`CFileDialog` obejmuje kilka chronionych elementów członkowskich, które pozwalają na wykonywanie niestandardową obsługę naruszenia udostępniania, sprawdzanie poprawności nazwy pliku i powiadomienia o zmianie pola listy. Te elementy chronione są funkcji wywołania zwrotnego, które nie mają większości aplikacji do użycia, ponieważ domyślna obsługa odbywa się automatycznie. Wpisy mapy komunikatów dla tych funkcji nie są wymagane, ponieważ są one standardowych funkcji wirtualnych.

Możesz użyć Windows [CommDlgExtendedError](/windows/desktop/api/commdlg/nf-commdlg-commdlgextendederror) funkcji, aby ustalić, czy wystąpił błąd podczas inicjowania okna dialogowego i Dowiedz się więcej o błędzie.

Zniszczenie `CFileDialog` obiektów odbywa się automatycznie. Nie trzeba wywoływać [CDialog::EndDialog](../../mfc/reference/cdialog-class.md#enddialog).

Aby umożliwić użytkownikowi, wybierz wiele plików, należy ustawić flagę OFN_ALLOWMULTISELECT przed wywołaniem `DoModal`. Musisz podać własne Bufor nazwy pliku, aby pomieścić zwrócone listę wiele nazw plików. To zrobić przez zastąpienie `m_ofn.lpstrFile` za pomocą wskaźnika do buforu przydzielił, po konstruowania `CFileDialog`, ale przed wywołaniem `DoModal`.

Ponadto, należy ustawić `m_ofn.nMaxFile` przy użyciu liczbę znaków w buforze wskazywany przez `m_ofn.lpstrFile`. Jeśli ustawisz maksymalną liczbę plików, należy wybrać do `n`, jest wymagany rozmiar buforu `n * (_MAX_PATH + 1) + 1`. Pierwszy element zwracane w buforze jest ścieżka do folderu, w którym zostały wybrane pliki. Windows Vista lub nowszym stylu okna dialogowe ciągów nazw plików i katalogów są zakończony znakiem null, znakiem null dodatkowe po ostatnim nazwę pliku. Ten format umożliwia okna dialogowe stylu Eksploratora zwrócić długie nazwy plików zawierające spacje. Dla okien dialogowych w starym stylu ciągów nazw plików i katalogów są rozdzielone spacjami, a funkcja używa krótkich nazw plików dla nazw plików ze spacjami.

Poniższy przykład pokazuje, jak pobierać i wyświetlać listę wiele nazw plików za pomocą buforu.

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Aby zmienić rozmiar buforu w odpowiedzi na użytkownika, zaznaczając wiele nazw plików, musi pochodzić z nową klasę `CFileDialog` i zastąpić [CFileDialog::OnFileNameChange](#onfilenamechange) metody.

Jeśli pochodzi z nową klasę `CFileDialog`, można użyć mapy komunikatów może obsługiwać wszystkie komunikaty. Aby rozszerzyć domyślnej obsługi komunikatów, należy wyprowadzić klasę z `CFileDialog`, Dodaj mapy komunikatów do nowej klasy i zapewnić funkcji elementów członkowskich dla nowych komunikatów. Nie masz zapewniają funkcję podłączania do Dostosuj — okno dialogowe.

Aby dostosować okno dialogowe, należy wyprowadzić klasę z `CFileDialog`, udostępniają szablon niestandardowy dialog box i dodać mapy wiadomości, przetwarzanie komunikatów powiadomień od formantów rozszerzonego. Przekaż wszystkie nieprzetworzone komunikaty do klasy bazowej. Nie masz do dostosowywania funkcji punktów zaczepienia.

W przypadku korzystania Windows Vista lub nowszym styl `CFileDialog`, nie można używać mapy komunikatów i szablony okno dialogowe. Zamiast tego należy użyć interfejsów COM dla podobne funkcje.

Aby uzyskać więcej informacji o sposobie używania `CFileDialog`, zobacz [klasy wspólnych okien dialogowych](../../mfc/common-dialog-classes.md).

## <a name="inheritance-hierarchy"></a>Hierarchia dziedziczenia

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CDialog](../../mfc/reference/cdialog-class.md)

[CCommonDialog](../../mfc/reference/ccommondialog-class.md)

`CFileDialog`

## <a name="requirements"></a>Wymagania

**Nagłówek:** afxdlgs.h

##  <a name="addcheckbutton"></a>  CFileDialog::AddCheckButton

Dodaje przycisk wyboru do okna dialogowego.

```
HRESULT AddCheckButton(
    DWORD dwIDCtl,
    const CString& strLabel,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator przycisk wyboru do dodania.

*strLabel*<br/>
Nazwa przycisku wyboru.

*bChecked*<br/>
Wartość logiczna wskazująca bieżący stan przycisk Sprawdź. Wartość TRUE w przypadku zaznaczenia pola wyboru; Wartość FALSE w przeciwnym razie

### <a name="remarks"></a>Uwagi

##  <a name="addcombobox"></a>  CFileDialog::AddComboBox

Dodaje pole kombi do okna dialogowego.

```
HRESULT AddComboBox(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator pola kombi do dodania.

### <a name="remarks"></a>Uwagi

##  <a name="addcontrolitem"></a>  CFileDialog::AddControlItem

Dodaje element do kontrolki kontenera, w oknie dialogowym.

```
HRESULT AddControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki kontenera do dodania pozycji.

*dwIDItem*<br/>
Identyfikator elementu.

*strLabel*<br/>
Tekst elementu.

### <a name="remarks"></a>Uwagi

##  <a name="addeditbox"></a>  CFileDialog::AddEditBox

Dodaje pole edycji do okna dialogowego.

```
HRESULT AddEditBox(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator pola edycji do dodania.

*strText*<br/>
Nazwa pola edycji.

### <a name="remarks"></a>Uwagi

##  <a name="addmenu"></a>  CFileDialog::AddMenu

Dodaje menu do okna dialogowego.

```
HRESULT AddMenu(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator menu do dodania.

*strLabel*<br/>
Nazwy menu.

### <a name="remarks"></a>Uwagi

##  <a name="addplace"></a>  CFileDialog::AddPlace

Dodaje folder do listy umieszcza dostępne dla użytkownika otworzyć lub zapisać elementy.

```
void AddPlace(
    LPCWSTR lpszFolder,
    FDAP fdap = FDAP_TOP) throw();

void AddPlace(
    IShellItem* psi,
    FDAP fdap = FDAP_TOP) throw();
```

### <a name="parameters"></a>Parametry

*lpszFolder*<br/>
Ścieżka do folderu, który ma zostać udostępniony użytkownikowi. Może to być tylko folder.

*fdap*<br/>
Określa, gdzie folder znajduje się w obrębie listy.

*PSI*<br/>
Wskaźnik do IShellItem, który reprezentuje folder, który ma zostać udostępniony użytkownikowi. Może to być tylko folder.

### <a name="remarks"></a>Uwagi

##  <a name="addpushbutton"></a>  CFileDialog::AddPushButton

Dodaje przycisk do okna dialogowego.

```
HRESULT AddPushButton(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator przycisku do dodania.

*strLabel*<br/>
Nazwa przycisku.

### <a name="remarks"></a>Uwagi

##  <a name="addradiobuttonlist"></a>  CFileDialog::AddRadioButtonList

Dodaje grupę (znany także jako przycisk radiowy) przycisków opcji w oknie dialogowym.

```
HRESULT AddRadioButtonList(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator grupy przycisków opcji do dodania.

### <a name="remarks"></a>Uwagi

##  <a name="addseparator"></a>  CFileDialog::AddSeparator

Dodaje separator do okna dialogowego.

```
HRESULT AddSeparator(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Dodaj identyfikator separatora.

### <a name="remarks"></a>Uwagi

##  <a name="addtext"></a>  CFileDialog::AddText

Dodaje tekst do okna dialogowego.

```
HRESULT AddText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator tekst do dodania.

*strText*<br/>
Nazwa tekstu.

### <a name="remarks"></a>Uwagi

##  <a name="applyofntoshelldialog"></a>  CFileDialog::ApplyOFNToShellDialog

Aktualizacji bieżący stan [CFileDialog](../../mfc/reference/cfiledialog-class.md) na podstawie wartości przechowywane w `m_ofn` strukturę danych.

```
void ApplyOFNToShellDialog();
```

### <a name="remarks"></a>Uwagi

W wersjach systemu Windows przed Windows Vista, elementu członkowskiego [LPSTRFILE](https://msdn.microsoft.com/library/ms911906.aspx) struktury danych stale była synchronizowana ze stanem `CFileDialog`. Wszelkie zmiany [m_ofn](#m_ofn) zmiennej składowej były natychmiast odzwierciedlane w stanie okno dialogowe. Ponadto wszelkie zmiany stanu okna dialogowego natychmiast zaktualizować `m_ofn` zmiennej składowej.

Windows Vista lub nowszym wartości w `m_ofn` zmiennej elementu członkowskiego i stan `CFileDialog` nie musi być synchronizowane. Ta funkcja wymusza stan `CFileDialog` do zaktualizowane w celu dopasowania `m_ofn` struktury. Windows wywołuje tę funkcję, automatycznie podczas [CFileDialog::DoModal](#domodal).

Aby uzyskać więcej informacji o sposobie używania `CFileDialog` klasy w obszarze Windows Vista lub nowszy, odwiedź [klasa CFileDialog](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Przykład

  Zobacz przykład [CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog).

##  <a name="cfiledialog"></a>  CFileDialog::CFileDialog

Wywołaj tę funkcję, aby utworzyć standardowe okno dialogowe pliku Windows.

```
explicit CFileDialog(
    BOOL bOpenFileDialog,
    LPCTSTR lpszDefExt = NULL,
    LPCTSTR lpszFileName = NULL,
    DWORD dwFlags = OFN_HIDEREADONLY | OFN_OVERWRITEPROMPT,
    LPCTSTR lpszFilter = NULL,
    CWnd* pParentWnd = NULL,
    DWORD dwSize = 0,
    BOOL bVistaStyle = TRUE);
```

### <a name="parameters"></a>Parametry

*bOpenFileDialog*<br/>
[in] Parametr, który określa, jakiego rodzaju okno dialogowe, aby utworzyć. Ustaw ją na wartość TRUE, aby skonstruować **Otwórz plik** okno dialogowe. Ustaw ją na wartość FALSE, aby skonstruować **Zapisz plik jako** okno dialogowe.

*lpszDefExt*<br/>
[in] Domyślne rozszerzenie nazwy pliku. Jeśli użytkownik nie ma rozszerzenie znanych (taki, który ma powiązanie na komputerze użytkownika) w polu Nazwa pliku, rozszerzenie określone przez *lpszDefExt* jest automatycznie dołączany do nazwy pliku. Jeśli ten parametr ma wartość NULL, jest dołączany bez rozszerzenia.

*lpszFileName*<br/>
[in] Początkowa nazwa pliku, który pojawia się w polu Nazwa pliku. Jeśli ma wartość NULL, zostanie wyświetlone nie początkowa nazwa pliku.

*Flagidw*<br/>
[in] Połączenie jednego lub więcej flagi, które służy do dostosowywania okna dialogowego. Aby uzyskać opis tych flag, zobacz [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktury w zestawie Windows SDK. Jeśli zmodyfikujesz `m_ofn.Flags` struktury elementu członkowskiego, użyj operatora bitowego OR zmiany, aby zachować domyślne zachowanie.

*lpszFilter*<br/>
[in] Serii par ciągów, które określają, filtrów można zastosować do pliku. Jeśli określisz plik filtrów, tylko te pliki, które spełniają kryteria filtru pojawi się na liście plików. Zobacz sekcję Spostrzeżenia, aby uzyskać więcej informacji na temat sposobu pracy z pliku filtrów.

*pParentWnd*<br/>
[in] Wskaźnik do okna nadrzędnego lub właściciela, okno dialogowe pliku.

*niezerowego*<br/>
[in] Rozmiar `OPENFILENAME` struktury. Ta wartość jest zależna od wersji systemu operacyjnego. MFC używana tego parametru, aby określić odpowiedni rodzaj okno dialogowe, aby utworzyć. Domyślny rozmiar 0 oznacza, że kod MFC określi rozmiar okno dialogowe poprawne do użycia na podstawie wersji systemu operacyjnego, na którym program jest uruchamiany.

*bVistaStyle*<br/>
[in] **Uwaga** ten parametr jest dostępne w programie Visual Studio 2008 i nowszych wersjach i zostanie spowodować, że okno dialogowe Nowy styl ma być używany tylko wtedy, gdy są uruchomione w systemie Windows Vista lub nowszym.

Parametr, który określa styl okna dialogowego pliku. Ustaw wartość true, użyj nowego stylu Vista pliku w oknach dialogowych. W przeciwnym razie stary styl okna dialogowe będą używane. Zobacz sekcję Spostrzeżenia, aby uzyskać więcej informacji działających w ramach Vista.

### <a name="remarks"></a>Uwagi

Albo **Otwórz plik** lub **Zapisz plik jako** skonstruowany okno dialogowe, w zależności od wartości *bOpenFileDialog*.

Określanie rozszerzenie domyślne przy użyciu polecenia *lpszDefExt* nie może utworzyć na zachowanie, których oczekujesz, ponieważ rzadko jest przewidywalne, jakie rozszerzenia mają skojarzenia plików na komputerze użytkownika. Jeśli potrzebujesz większej kontroli nad dołączanie rozszerzenia domyślnego, utworzeniu klasy pochodnej klasy z `CFileDialog`i zastępowania `CFileDialog::OnFileNameOK` metodę w celu obsługi własne rozszerzenia.

Aby umożliwić użytkownikowi na wybranie wielu plików, należy ustawić flagę OFN_ALLOWMULTISELECT przed wywołaniem [DoModal](#domodal). Musisz podać własne Bufor nazwy pliku do przechowywania zwracana lista wiele nazw plików. To zrobić przez zastąpienie `m_ofn.lpstrFile` za pomocą wskaźnika do buforu przydzielił, po konstruowania [CFileDialog](../../mfc/reference/cfiledialog-class.md), ale przed wywołaniem `DoModal`. Ponadto, należy ustawić `m_ofn.nMaxFile` o liczbie znaków w buforze wskazywany przez `m_ofn.lpstrFile`. Jeśli ustawisz maksymalną liczbę plików, należy wybrać do *n*, rozmiar buforu niezbędne jest `n`*(_MAX_PATH + 1) + 1. Na przykład:

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Aby zezwolić użytkownikowi na zmienianie rozmiaru okno dialogowe w stylu Eksploratora przy użyciu myszy lub klawiatury, należy ustawić flagę OFN_ENABLESIZING. Ustawienie tej flagi jest konieczne tylko wtedy, gdy podasz procedura haka lub szablonu niestandardowego. Flaga działa tylko w stylu Eksploratora okno dialogowe; Nie można zmienić rozmiaru okna dialogowe w starym stylu.

*LpszFilter* parametr jest używany do określenia typu nazwy pliku, plik musi mieć będzie wyświetlana na liście plików. Pierwszy ciąg w parze ciągu w tym artykule opisano filter; drugi ciąg wskazuje rozszerzenie nazwy pliku do użycia. Wiele rozszerzeń mogą być określone przy użyciu średnika (znak ";") jako ogranicznika. Ciąg kończy się przy użyciu dwóch "&#124;" znaków, w którym następuje znak NULL. Można również użyć [CString](../../atl-mfc-shared/using-cstring.md) obiektu dla tego parametru.

Na przykład program Microsoft Excel umożliwia użytkownikom otwieranie plików, które mają rozszerzenia xlc (wykres) lub xls (arkusz), między innymi. Filtr dla programu Excel może być zapisana jako:

[!code-cpp[NVC_MFCFiles#24](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_2.cpp)]

Jednak jeśli planujesz użyć tego ciągu, aby bezpośrednio zaktualizować `OPENFILENAME` struktury, należy ograniczyć Twoimi ciągami znakiem null '\0' zamiast pionowych słupków ("&#124;").

*BVistaStyle* parametr ma zastosowanie tylko wtedy, gdy jest uruchomiony w obszarze Windows Vista lub nowszym. We wcześniejszych wersjach systemu Windows ten parametr jest ignorowany. Jeśli *bVistaStyle* jest ustawiona na wartość TRUE, podczas kompilowania programów z programu Visual Studio 2008 lub nowszym, nowy styl Vista **okno dialogowe pliku** będą używane. W przeciwnym razie poprzednim stylu MFC **okno dialogowe pliku** będą używane.

Szablony okna dialogowego nie są obsługiwane w oknach dialogowych, na podstawie *bVistaStyle*

### <a name="example"></a>Przykład

  Zobacz przykład [CFileDialog::DoModal](#domodal).

##  <a name="domodal"></a>  CFileDialog::DoModal

Wywołaj tę funkcję, aby wyświetlić wspólne okno dialogowe pliku Windows i umożliwia użytkownikowi przeglądanie plików i katalogów, a następnie wprowadź nazwę pliku.

```
virtual INT_PTR DoModal();
```

### <a name="return-value"></a>Wartość zwracana

IDOK lub IDCANCEL. Jeśli zwracana jest IDCANCEL, wywołaj Windows [CommDlgExtendedError](/windows/desktop/api/commdlg/nf-commdlg-commdlgextendederror) funkcję, aby ustalić, czy wystąpił błąd.

IDOK i IDCANCEL są stałe, które wskazują, czy użytkownik wybrał przycisk OK, lub przycisk Anuluj.

### <a name="remarks"></a>Uwagi

Aby inicjowanie różne opcje Okno dialogowe pliku przez ustawienie członkowie `m_ofn` struktury, należy to zrobić przed wywołaniem `DoModal`, ale po jest konstruowany obiektu okna dialogowego.

Na przykład, jeśli chcesz zezwolić użytkownikowi na wybranie wielu plików, Ustaw flagę OFN_ALLOWMULTISELECT przed wywołaniem `DoModal`, jak pokazano w przykładzie kodu, w tym temacie.

Gdy użytkownik kliknie przycisk OK lub Anuluj okno dialogowe lub wybiera zamknięciu opcji w oknie dialogowym kontrolce menu formant zostaje zwrócony do aplikacji. Następnie możesz wywołać innych funkcji Członkowskich, można pobrać ustawień lub informacji z danymi wejściowymi użytkownika w oknie dialogowym.

`DoModal` jest funkcją wirtualną przesłonięcia w klasie `CDialog`.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFCFiles#25](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_3.cpp)]

##  <a name="enableopendropdown"></a>  CFileDialog::EnableOpenDropDown

Umożliwia listy rozwijanej, Otwórz lub zapisać przycisk w oknie dialogowym.

```
HRESULT EnableOpenDropDown(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator listy rozwijanej.

### <a name="remarks"></a>Uwagi

##  <a name="endvisualgroup"></a>  CFileDialog::EndVisualGroup

Zatrzymuje Dodawanie elementów do grupy visual w oknie dialogowym.

```
HRESULT EndVisualGroup();
```

### <a name="return-value"></a>Wartość zwracana

Zwraca wartość S_OK w przypadku powodzenia; w przeciwnym razie wartość błędu.

### <a name="remarks"></a>Uwagi

##  <a name="getcheckbuttonstate"></a>  CFileDialog::GetCheckButtonState

Pobiera bieżący stan przycisk wyboru (pole) w oknie dialogowym.

```
HRESULT GetCheckButtonState(
    DWORD dwIDCtl,
    BOOL& bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator pola wyboru.

*bChecked*<br/>
Stan pola wyboru. Wartość TRUE wskazuje zaznaczony; Wartość FALSE wskazuje niezaznaczone.

### <a name="remarks"></a>Uwagi

##  <a name="getcontrolitemstate"></a>  CFileDialog::GetControlItemState

Pobiera bieżący stan elementu w kontrolce kontenera, w oknie dialogowym.

```
HRESULT GetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki kontenera.

*dwIDItem*<br/>
Identyfikator elementu.

*dwState*<br/>
Odwołanie do zmiennej, która odbiera więcej wartości z wyliczenia CDCONTROLSTATE, która wskazuje bieżący stan kontrolki.

### <a name="remarks"></a>Uwagi

##  <a name="getcontrolstate"></a>  CFileDialog::GetControlState

Pobiera bieżący widoczności i Stany określonej kontrolki włączone.

```
HRESULT GetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki.

*dwState*<br/>
Odwołanie do zmiennej, która odbiera co najmniej jedną wartość z wyliczenia CDCONTROLSTATE, która wskazuje bieżący stan kontrolki.

### <a name="remarks"></a>Uwagi

##  <a name="geteditboxtext"></a>  CFileDialog::GetEditBoxText

Pobiera tekst w formancie pola edycji.

```
HRESULT GetEditBoxText(
    DWORD dwIDCtl,
    CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator pola edycji.

*strText*<br/>
Wartość tekstowa.

### <a name="remarks"></a>Uwagi

##  <a name="getfileext"></a>  CFileDialog::GetFileExt

Wywołaj tę funkcję, aby pobrać rozszerzenie nazwy pliku wprowadzonej w oknie dialogowym.

```
CString GetFileExt() const;
```

### <a name="return-value"></a>Wartość zwracana

Rozszerzenie nazwy pliku.

### <a name="remarks"></a>Uwagi

Na przykład, jeśli nazwa pliku wprowadzone dane. TXT `GetFileExt` zwraca "TXT".

Jeśli `m_ofn.Flags` ma flagę OFN_ALLOWMULTISELECT ustawiona, ten ciąg zawiera sekwencję ciągów zakończony znakiem null, za pomocą pierwszy ciąg jest ścieżka katalogu grupy plików, zaznaczone, a następnie nazwy wszystkich plików wybranych przez użytkownika. Aby pobrać nazw ścieżek plików, użyj [GetStartPosition](#getstartposition) i [GetNextPathName](#getnextpathname) funkcji elementów członkowskich.

##  <a name="getfilename"></a>  CFileDialog::GetFileName

Wywołaj tę funkcję, aby pobrać nazwę nazwy pliku wprowadzonej w oknie dialogowym.

```
CString GetFileName() const;
```

### <a name="return-value"></a>Wartość zwracana

Nazwa pliku.

### <a name="remarks"></a>Uwagi

Nazwa pliku zawiera zarówno przedrostek, jak i rozszerzenia. Na przykład `GetFileName` zwróci "TEXT. DAT"dla pliku C:\FILES\TEXT.DAT.

Jeśli `m_ofn.Flags` ma `OFN_ALLOWMULTISELECT` Flaga, należy wywołać [GetStartPosition](#getstartposition) i [GetNextPathName](#getnextpathname) można pobrać nazwy ścieżki pliku.

##  <a name="getfiletitle"></a>  CFileDialog::GetFileTitle

Wywołaj tę funkcję, aby pobrać tytuł pliku wprowadzone w oknie dialogowym.

```
CString GetFileTitle() const;
```

### <a name="return-value"></a>Wartość zwracana

Tytuł pliku.

### <a name="remarks"></a>Uwagi

Nazwa pliku zawiera tylko jej prefiks bez ścieżki i rozszerzenia. Na przykład `GetFileTitle` zwróci "TEXT" dla pliku C:\FILES\TEXT.DAT.

Jeśli `m_ofn.Flags` ma flagę OFN_ALLOWMULTISELECT ustawiona, ten ciąg zawiera sekwencję ciągów zakończony znakiem null, za pomocą pierwszy ciąg jest ścieżka katalogu grupy plików, zaznaczone, a następnie nazwy wszystkich plików wybranych przez użytkownika. Z tego powodu należy użyć [GetStartPosition](#getstartposition) i [GetNextPathName](#getnextpathname) do pobrania następnej nazwy pliku na liście elementów członkowskich.

### <a name="example"></a>Przykład

  Zobacz przykład [CFileDialog::DoModal](#domodal).

##  <a name="getfolderpath"></a>  CFileDialog::GetFolderPath

Wywołaj tę funkcję elementu członkowskiego, aby pobrać ścieżkę do aktualnie otwartego folderu lub katalog dla stylu Eksploratora Open lub Zapisz jako wspólne okno dialogowe.

```
CString GetFolderPath() const;
```

### <a name="return-value"></a>Wartość zwracana

A [CString](../../atl-mfc-shared/reference/cstringt-class.md) obiekt zawierający obecnie otwarty folder lub katalog.

### <a name="remarks"></a>Uwagi

Okno dialogowe muszą zostać utworzone przy użyciu stylu OFN_EXPLORER; w przeciwnym razie metoda zakończy się niepowodzeniem o potwierdzenie.

Tę metodę można wywołać tylko w przypadku, kiedy pojawi się okno dialogowe. Po zamknięciu okna dialogowego ta funkcja nie będzie już działać, a metoda zakończy się niepowodzeniem o potwierdzenie.

##  <a name="getifiledialogcustomize"></a>  CFileDialog::GetIFileDialogCustomize

Pobiera wskaźnik do wewnętrznego obiektu COM dla danego [CFileDialog](../../mfc/reference/cfiledialog-class.md).

```
IFileDialogCustomize* GetIFileDialogCustomize();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do wewnętrznego obiektu COM dla `CFileDialog`. Odpowiada za zwolnienie this, wskaźnik odpowiednio.

### <a name="remarks"></a>Uwagi

Funkcja ta jest tylko w Windows Vista lub nowszym z obiektu, który ma *bVistaStyle* ustawiona na wartość TRUE. Jeśli użyjesz tej funkcji po *bVistaStyle* ma wartość FAŁSZ, zostanie zwrócona wartość NULL w trybie wydania i zgłosić potwierdzenie w trybie debugowania.

Aby uzyskać więcej informacji na temat `IFileDialogCustomize` interfejsu, zobacz [IFileDialogCustomize](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

### <a name="example"></a>Przykład

W tym przykładzie pobiera obiekt wewnętrzny COM. Aby uruchomić ten przykład kodu, należy skompilować go w obszarze Windows Vista lub nowszym.

[!code-cpp[NVC_MFC_CFileDialog#4](../../mfc/reference/codesnippet/cpp/cfiledialog-class_4.cpp)]

##  <a name="getifileopendialog"></a>  CFileDialog::GetIFileOpenDialog

Pobiera wskaźnik do wewnętrznego obiektu COM dla danego `CFileDialog`.

```
IFileOpenDialog* GetIFileOpenDialog();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do wewnętrznego obiektu COM dla `CFileDialog`. Odpowiada za zwolnienie this, wskaźnik odpowiednio.

### <a name="remarks"></a>Uwagi

Funkcja ta jest tylko w Windows Vista lub nowszym z obiektu, który ma *bVistaStyle* ustawiona na wartość TRUE. Ta funkcja zwraca wartość NULL, jeśli `CFileDialog` nie **Otwórz** okno dialogowe lub jeśli *bVistaStyle* jest ustawiona na wartość FALSE. W tym ostatnim przypadku funkcja tylko zwraca wartość NULL w trybie wydania — w trybie debugowania go spowoduje zgłoszenie potwierdzenie.

Aby uzyskać więcej informacji na temat `IFileOpenDialog` interfejsu, zobacz [IFileOpenDialog](https://msdn.microsoft.com/library/windows/desktop/bb775834).

### <a name="example"></a>Przykład

W tym przykładzie pobiera obiekt wewnętrzny COM. Aby uruchomić ten kod, należy skompilować go w obszarze Windows Vista lub nowszym.

[!code-cpp[NVC_MFC_CFileDialog#2](../../mfc/reference/codesnippet/cpp/cfiledialog-class_5.cpp)]

##  <a name="getifilesavedialog"></a>  CFileDialog::GetIFileSaveDialog

Pobiera wskaźnik do wewnętrznego obiektu COM dla danego `CFileDialog`.

```
IFileSaveDialog* GetIFileSaveDialog();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do wewnętrznego obiektu COM dla `CFileDialog`. Odpowiada za zwolnienie this, wskaźnik odpowiednio.

### <a name="remarks"></a>Uwagi

Funkcja ta jest tylko w Windows Vista lub nowszym z obiektu, który ma *bVistaStyle* ustawiona na wartość TRUE. Ta funkcja zwróci wartość NULL, jeśli `CFileDialog` nie **Zapisz** okno dialogowe lub jeśli *bVistaStyle* jest ustawiona na wartość FALSE. W tym ostatnim przypadku funkcja tylko zwraca wartość NULL w trybie wydania — w trybie debugowania go spowoduje zgłoszenie potwierdzenie.

Aby uzyskać więcej informacji na temat `IFileSaveDialog` interfejsu, zobacz [IFileSaveDialog](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ifilesavedialog).

### <a name="example"></a>Przykład

W tym przykładzie pobiera obiekt wewnętrzny COM. Aby uruchomić ten przykład kodu, należy skompilować go w obszarze Windows Vista lub nowszym.

[!code-cpp[NVC_MFC_CFileDialog#3](../../mfc/reference/codesnippet/cpp/cfiledialog-class_6.cpp)]

##  <a name="getnextpathname"></a>  CFileDialog::GetNextPathName

Wywołaj tę funkcję, aby pobrać następny filename z grupy zaznaczone w oknie dialogowym.

```
CString GetNextPathName(POSITION& pos) const;
```

### <a name="parameters"></a>Parametry

*punktu sprzedaży*<br/>
Odwołanie do wartości pozycji, zwrócony przez poprzednie `GetNextPathName` lub `GetStartPosition` wywołania funkcji. Wartość NULL, jeśli osiągnięty koniec listy.

### <a name="return-value"></a>Wartość zwracana

Pełna ścieżka pliku.

### <a name="remarks"></a>Uwagi

Ścieżka pliku zawiera tytuł pliku oraz ścieżki cały katalog. Na przykład `GetNextPathName` zwróci "C:\FILES\TEXT. DAT"dla pliku C:\FILES\TEXT.DAT. Możesz użyć `GetNextPathName` w pętli do przodu iteracji, jeśli ustanowisz początkowe położenie w wyniku wywołania `GetStartPosition`.

Jeśli zaznaczenie składa się tylko jeden plik, że nazwa pliku zostanie zwrócony.

##  <a name="getofn"></a>  CFileDialog::GetOFN

Pobiera skojarzonego `OPENFILENAME` struktury.

```
const OPENFILENAME& GetOFN() const;

OPENFILENAME& GetOFN();
```

### <a name="return-value"></a>Wartość zwracana

[LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktury.

### <a name="remarks"></a>Uwagi

Użyć druga wersja tej funkcji, aby zainicjować wygląd **Otwórz plik** lub **Zapisz plik jako** okno dialogowe po jest tworzony, ale przed wyświetleniem go z `DoModal` funkcja elementu członkowskiego. Na przykład można ustawić `lpstrTitle` członkiem `m_ofn` podpis ma okno dialogowe, aby mieć.

##  <a name="getpathname"></a>  CFileDialog::GetPathName

Wywołaj tę funkcję, aby pobrać pełną ścieżkę pliku w oknie dialogowym.

```
CString GetPathName() const;
```

### <a name="return-value"></a>Wartość zwracana

Pełna ścieżka pliku.

### <a name="remarks"></a>Uwagi

Ścieżka pliku zawiera tytuł pliku oraz ścieżki cały katalog. Na przykład `GetPathName` zwróci "C:\FILES\TEXT. DAT"dla pliku C:\FILES\TEXT.DAT.

Jeśli `m_ofn.Flags` ma flagę OFN_ALLOWMULTISELECT ustawiona, ten ciąg zawiera sekwencję o wartości null teminated ciągów, pierwszy ciąg jest ścieżka katalogu grupy plików, zaznaczone, następuje nazwy wszystkich plików wybranych przez użytkownika. Z tego powodu należy użyć [GetStartPosition](#getstartposition) i [GetNextPathName](#getnextpathname) do pobrania następnej nazwy pliku na liście elementów członkowskich.

### <a name="example"></a>Przykład

  Zobacz przykład [CFileDialog::DoModal](#domodal).

##  <a name="getreadonlypref"></a>  CFileDialog::GetReadOnlyPref

Wywołaj tę funkcję, aby ustalić, czy zaznaczono pole wyboru tylko do odczytu w Windows standard Otwórz plik i Zapisz plik jako oknach dialogowych.

```
BOOL GetReadOnlyPref() const;
```

### <a name="return-value"></a>Wartość zwracana

Niezerowa Koniunkcja zaznaczenie pola wyboru tylko do odczytu w oknie dialogowym; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Można ukryć pole wyboru tylko do odczytu przez ustawienie stylu OFN_HIDEREADONLY w `CFileDialog` konstruktora.

> [!NOTE]
> Windows Vista lub nowszym stylu `CFileDialog` obiekty nie obsługują tej funkcji. Podjęto próbę użycia tej funkcji w Windows Vista lub nowszym stylu `CFileDialog` zgłosi [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md).

##  <a name="getresult"></a>  CFileDialog::GetResult

Pobiera użytkownika wprowadzone w oknie dialogowym wyboru.

```
IShellItem* GetResult() throw();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do IShellItem, który reprezentuje wybór użytkownika.

### <a name="remarks"></a>Uwagi

##  <a name="getresults"></a>  CFileDialog::GetResults

Pobiera opcje użytkownika w oknie dialogowym, która umożliwia wybór wielokrotny.

```
IShellItemArray* GetResults() throw();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do IShellItemArray za pomocą którego jest możliwy aby elementy wybierane w oknie dialogowym.

### <a name="remarks"></a>Uwagi

##  <a name="getselectedcontrolitem"></a>  CFileDialog::GetSelectedControlItem

Pobiera określonego elementu z określonym kontenerze kontrolki w oknie dialogowym.

```
HRESULT GetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD& dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki kontenera.

*dwIDItem*<br/>
Identyfikator elementu, który użytkownik zaznaczył w formancie.

### <a name="remarks"></a>Uwagi

##  <a name="getstartposition"></a>  CFileDialog::GetStartPosition

Wywołaj tę funkcję elementu członkowskiego, aby pobrać położenie pierwszego nazwa ścieżki pliku na liście, jeśli `m_ofn.Flags` ma flagę OFN_ALLOWMULTISELECT zestawu.

```
POSITION GetStartPosition() const;
```

### <a name="return-value"></a>Wartość zwracana

Wartość pozycji, która może służyć do iteracji; Wartość NULL, jeśli lista jest pusta.

##  <a name="hidecontrol"></a>  CFileDialog::HideControl

Wywołaj tę funkcję elementu członkowskiego, aby ukryć określoną kontrolkę w stylu Eksploratora Open lub Zapisz jako wspólne okno dialogowe.

```
void HideControl(int nID);
```

### <a name="parameters"></a>Parametry

*nID*<br/>
Identyfikator kontrolki, aby ukryć.

### <a name="remarks"></a>Uwagi

Okno dialogowe muszą zostać utworzone przy użyciu stylu OFN_EXPLORER; w przeciwnym wypadku funkcja zakończy się niepowodzeniem o potwierdzenie.

##  <a name="ispickfoldersmode"></a>  CFileDialog::IsPickFoldersMode

Określa, czy bieżące okno dialogowe w folderze trybu selektora.

```
BOOL IsPickFoldersMode() const;
```

### <a name="return-value"></a>Wartość zwracana

Wartość TRUE, jeśli okno dialogowe znajduje się w folderze trybu selektora; w przeciwnym razie wartość FALSE.

### <a name="remarks"></a>Uwagi

##  <a name="m_ofn"></a>  CFileDialog::m_ofn

`m_ofn` jest to struktura typu `OPENFILENAME`. Dane w tej strukturze reprezentuje bieżący stan `CFileDialog`.

### <a name="remarks"></a>Uwagi

Ta struktura jest używana do zainicjowania wygląd **Otwórz plik** lub **Zapisz plik jako** okno dialogowe po jego konstruowania, ale przed wyświetleniem go [DoModal](#domodal) metody. Na przykład można ustawić *lpstrTitle* członkiem `m_ofn` podpis ma okno dialogowe, aby mieć.

Windows Vista lub nowszym styl [CFileDialog](../../mfc/reference/cfiledialog-class.md), `m_ofn` nie musi zawsze odpowiadać stanu okna dialogowego. Jest zsynchronizowany z oknem dialogowym we wcześniejszych wersjach systemu Windows. Zobacz [CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog) i [CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog) Aby uzyskać więcej informacji na temat synchronizowania `m_ofn` struktury i `CFileDialog` stanu w obszarze Windows Vista lub nowszym.

Windows Vista lub nowszy styl okna dialogowe pliku nie obsługują niektórych elementów członkowskich i flagi o `CFileDialog`. W wyniku tych odniesie żadnego skutku.

Oto lista elementów członkowskich, które nie są obsługiwane przez Windows Vista lub nowszy:

- `lpstrCustomFilter`

- `lpstrInitialDir`

- `lCustData`

- `lpfnHook`

- `lpTemplateName`

Następujące flagi nie są obsługiwane i w związku z tym nie mają wpływu użycia Windows Vista lub nowszym styl `CFileDialog`:

- OFN_ENABLEHOOK

- OFN_ENABLEINCLUDENOTIFY

- OFN_ENABLETEMPLATE

- OFN_ENABLETEMPLATEHANDLE

- OFN_EXPLORER

- OFN_EXTENSIONDIFFERENT

- OFN_HIDEREADONLY

- OFN_LONGNAMES - skutecznie zawsze na w systemie Windows Vista lub nowszym

- OFN_NOLONGNAMES - skutecznie zawsze wyłączone w systemie Windows Vista lub nowszym

- OFN_NONETWORKBUTTON - skutecznie zawsze na w systemie Windows Vista lub nowszym

- OFN_READONLY

- OFN_SHOWHELP

Aby uzyskać więcej informacji na temat tej struktury, zobacz [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktury w zestawie Windows SDK.

##  <a name="makeprominent"></a>  CFileDialog::MakeProminent

Umieszcza formantu w oknie dialogowym, aby wyróżnić w porównaniu do innych kontrolek.

```
HRESULT MakeProminent(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki.

### <a name="remarks"></a>Uwagi

##  <a name="onbuttonclicked"></a>  CFileDialog::OnButtonClicked

Wywoływane po kliknięciu przycisku.

```
virtual void OnButtonClicked(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator przycisku.

### <a name="remarks"></a>Uwagi

##  <a name="oncheckbuttontoggled"></a>  CFileDialog::OnCheckButtonToggled

Wywołuje się, gdy pole wyboru jest zaznaczony.

```
virtual void OnCheckButtonToggled(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator pola wyboru.

*bChecked*<br/>
Zaznaczony lub niezaznaczony.

### <a name="remarks"></a>Uwagi

##  <a name="oncontrolactivating"></a>  CFileDialog::OnControlActivating

Wywołuje się, gdy kontrolka jest aktywny.

```
virtual void OnControlActivating(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki.

### <a name="remarks"></a>Uwagi

##  <a name="onfilenamechange"></a>  CFileDialog::OnFileNameChange

Należy przesłonić tę metodę, jeśli chcesz, by obsłużyć komunikat WM_NOTIFY CDN_SELCHANGE.

```
virtual void OnFileNameChange();
```

### <a name="remarks"></a>Uwagi

System wysyła komunikat CDN_SELCHANGE, gdy użytkownik wybierze nowy plik lub folder na liście plików **Otwórz** lub **Zapisz jako** okno dialogowe. Należy przesłonić tę metodę, jeśli chcesz wykonać żadnych innych akcji w odpowiedzi na tę wiadomość.

Tylko wtedy, gdy okno dialogowe zostało utworzone z włączoną flagą OFN_EXPLORER, system wysyła tę wiadomość. Aby uzyskać więcej informacji na temat powiadomienia zobacz [CDN_SELCHANGE](/windows/desktop/dlgbox/cdn-selchange). Aby uzyskać informacji na temat flagi OFN_EXPLORER, zobacz [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktury i [Open i zapisać jako okna dialogowe](/windows/desktop/dlgbox/open-and-save-as-dialog-boxes).

##  <a name="onfilenameok"></a>  CFileDialog::OnFileNameOK

Należy przesłonić tę funkcję, tylko wtedy, gdy chcesz zapewnić niestandardowego sprawdzania poprawności nazw plików, które są wprowadzane do wspólne okno dialogowe pliku.

```
virtual BOOL OnFileNameOK();
```

### <a name="return-value"></a>Wartość zwracana

1, jeśli nazwa pliku nie jest prawidłową nazwą pliku; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Ta funkcja umożliwia odrzucanie nazwę pliku dla jakiegokolwiek powodu specyficznych dla aplikacji. Zwykle nie trzeba używać tej funkcji, ponieważ struktura zawiera domyślnego procesu sprawdzania poprawności nazw plików i wyświetla okno komunikatu, jeśli podano nieprawidłową nazwę pliku.

Jeśli zwracana jest 1, okno dialogowe będą nadal wyświetlane użytkownikowi wprowadź inną nazwę pliku. Jeśli zwracana jest 0, procedurę okna dialogowego odrzuci okna dialogowego. Inne różną od zera zwracają wartości obecnie jest zarezerwowana i nie powinna być używana.

##  <a name="onfolderchange"></a>  CFileDialog::OnFolderChange

Należy przesłonić tę funkcję, by obsłużyć komunikat WM_NOTIFYCDN_FOLDERCHANGE.

```
virtual void OnFolderChange();
```

### <a name="remarks"></a>Uwagi

Komunikat powiadomienia są wysyłane po otwarciu nowego folderu w oknie dialogowym Open lub Zapisz jako.

Powiadomienie jest wysyłane tylko wtedy, gdy okno dialogowe została utworzona przy użyciu stylu OFN_EXPLORER. Aby uzyskać więcej informacji na temat powiadomienia zobacz [CDN_FOLDERCHANGE](/windows/desktop/dlgbox/cdn-folderchange). Aby uzyskać informacje dotyczące stylu OFN_EXPLORER, zobacz [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktury i [Open i zapisać jako okna dialogowe](/windows/desktop/dlgbox/open-and-save-as-dialog-boxes).

##  <a name="oninitdone"></a>  CFileDialog::OnInitDone

Należy przesłonić tę funkcję, by obsłużyć komunikat WM_NOTIFY CDN_INITDONE.

```
virtual void OnInitDone();
```

### <a name="remarks"></a>Uwagi

System wysyła tego komunikatu powiadomienia, gdy system zostało zakończone, rozmieszczanie formantów w **Otwórz** lub **Zapisz jako** okno dialogowe, aby zwolnić miejsce dla formantów okna dialogowego podrzędnych.

System wysyła tę opcję tylko wtedy, gdy okno dialogowe została utworzona przy użyciu stylu OFN_EXPLORER. Aby uzyskać więcej informacji na temat powiadomienia zobacz [CDN_INITDONE](/windows/desktop/dlgbox/cdn-initdone). Aby uzyskać informacje dotyczące stylu OFN_EXPLORER, zobacz [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktury i [Open i zapisać jako okna dialogowe](/windows/desktop/dlgbox/open-and-save-as-dialog-boxes).

> [!NOTE]
> Windows Vista lub nowszy styl okna dialogowe pliku nie obsługują tej funkcji. Podjęto próbę użycia tej funkcji w Windows Vista lub nowszych stylu okna dialogowego pliku zgłosi [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md).

##  <a name="onitemselected"></a>  CFileDialog::OnItemSelected

Wywoływane po wybraniu elementu w kontenerze.

```
virtual void OnItemSelected(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki kontenera.

*dwIDItem*<br/>
Identyfikator elementu.

### <a name="remarks"></a>Uwagi

##  <a name="onlbselchangednotify"></a>  CFileDialog::OnLBSelChangedNotify

Ta funkcja jest wywoływana zawsze wtedy, gdy bieżące zaznaczenie w polu listy ma zostać zmieniona.

```
virtual void OnLBSelChangedNotify(
    UINT nIDBox,
    UINT iCurSel,
    UINT nCode);
```

### <a name="parameters"></a>Parametry

*nIDBox*<br/>
Identyfikator pola listy lub pola kombi, w którym wystąpił zaznaczenia.

*iCurSel*<br/>
Indeks bieżącego zaznaczenia.

*nCode*<br/>
Kod powiadamiania kontrolki. Ten parametr musi mieć jedną z następujących wartości:

- Określa CD_LBSELCHANGE *iCurSel* jest wybrany element w polu listy z pojedynczym wyborem.

- CD_LBSELSUB Określa, że *iCurSel* już nie jest wybrane w polu listy multiselection.

- CD_LBSELADD Określa, że *iCurSel* jest zaznaczona w polu listy multiselection.

- CD_LBSELNOITEMS Określa, że w polu listy multiselection istnieje Brak zaznaczenia.

### <a name="remarks"></a>Uwagi

Należy przesłonić tę funkcję, aby zapewnić niestandardową obsługę zmian zaznaczenia w polu listy. Na przykład można użyć tej funkcji do wyświetlania praw dostępu lub Data ostatniej modyfikacji każdego pliku użytkownik wybierze.

##  <a name="onshareviolation"></a>  CFileDialog::OnShareViolation

Należy przesłonić tę funkcję, aby zapewnić niestandardową obsługę naruszenia udostępniania.

```
virtual UINT OnShareViolation(LPCTSTR lpszPathName);
```

### <a name="parameters"></a>Parametry

*lpszPathName*<br/>
Ścieżka pliku, w którym wystąpiło naruszenie zasad współużytkowania.

### <a name="return-value"></a>Wartość zwracana

Jeden z następujących wartości:

- OFN_SHAREFALLTHROUGH nazwa pliku jest zwracana z okna dialogowego.

- Nr OFN_SHARENOWARN dalsze działania należy podjąć.

- OFN_SHAREWARN użytkownik otrzymuje standardowy komunikat ostrzegawczy dla tego błędu.

### <a name="remarks"></a>Uwagi

Zwykle nie trzeba używać tej funkcji, ponieważ struktura zapewnia domyślne sprawdzanie naruszenia udostępniania i wyświetla okno komunikatu, gdy nastąpi naruszenie zasad współużytkowania.

Jeśli chcesz wyłączyć sprawdzanie naruszenia udostępniania umożliwia łączenie flagi OFN_SHAREAWARE bitowy operator OR z `m_ofn.Flags`.

##  <a name="ontypechange"></a>  CFileDialog::OnTypeChange

Należy przesłonić tę funkcję, by obsłużyć komunikat WM_NOTIFYCDN_TYPECHANGE.

```
virtual void OnTypeChange();
```

### <a name="remarks"></a>Uwagi

Komunikat powiadomienia są wysyłane, gdy użytkownik wybierze nowy typ pliku z listy typów plików w środowisku otwartym lub okno dialogowe Zapisz jako.

Powiadomienie jest wysyłane tylko wtedy, gdy okno dialogowe została utworzona przy użyciu stylu OFN_EXPLORER. Aby uzyskać więcej informacji na temat powiadomienia zobacz [CDN_TYPECHANGE](/windows/desktop/dlgbox/cdn-typechange). Aby uzyskać informacje dotyczące stylu OFN_EXPLORER, zobacz [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna) struktury i [Open i zapisać jako okna dialogowe](/windows/desktop/dlgbox/open-and-save-as-dialog-boxes).

##  <a name="removecontrolitem"></a>  CFileDialog::RemoveControlItem

Usuwa element w kontrolce kontenera, w oknie dialogowym.

```
HRESULT RemoveControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki kontenera do usunięcia elementu z.

*dwIDItem*<br/>
Identyfikator elementu.

### <a name="remarks"></a>Uwagi

##  <a name="setcheckbuttonstate"></a>  CFileDialog::SetCheckButtonState

Ustawia bieżący stan przycisk wyboru (pole) w oknie dialogowym.

```
HRESULT SetCheckButtonState(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator pola wyboru.

*bChecked*<br/>
Stan pola wyboru. Wartość TRUE wskazuje zaznaczony; Wartość FALSE wskazuje niezaznaczone.

### <a name="remarks"></a>Uwagi

##  <a name="setcontrolitemstate"></a>  CFileDialog::SetControlItemState

Ustawia bieżący stan elementu w kontrolce kontenera, w oknie dialogowym.

```
HRESULT SetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki kontenera.

*dwIDItem*<br/>
Identyfikator elementu.

*dwState*<br/>
Co najmniej jedną wartość z wyliczenia CDCONTROLSTATE, które wskazują stan nowego formantu.

### <a name="remarks"></a>Uwagi

##  <a name="setcontrolitemtext"></a>  CFileDialog::SetControlItemText

Ustawia tekst elementu kontrolki. Na przykład tekst, który towarzyszy przycisku radiowego lub element menu.

```
HRESULT SetControlItemText(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki kontenera.

*dwIDItem*<br/>
Identyfikator elementu.

*strLabel*<br/>
Tekst elementu.

### <a name="remarks"></a>Uwagi

##  <a name="setcontrollabel"></a>  CFileDialog::SetControlLabel

Ustawia tekst skojarzony z kontrolki, takie jak tekst przycisku lub Edytuj etykietę pola.

```
HRESULT SetControlLabel(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki.

*strLabel*<br/>
Nazwa formantu.

### <a name="remarks"></a>Uwagi

##  <a name="setcontrolstate"></a>  CFileDialog::SetControlState

Ustawia bieżący widoczność i włączone stanów określonej kontrolki.

```
HRESULT SetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki.

*dwState*<br/>
Co najmniej jedną wartość z wyliczenia CDCONTROLSTATE, które wskazują bieżący stan kontrolki.

### <a name="remarks"></a>Uwagi

##  <a name="setcontroltext"></a>  CFileDialog::SetControlText

Wywołaj tę metodę, aby ustawić tekst na określoną kontrolkę w stylu Eksploratora **Otwórz** lub **Zapisz jako** okno dialogowe.

```
void SetControlText(
    int nID,
    LPCSTR lpsz);

void SetControlText(
    int nID,
    const wchar_t *lpsz);
```

### <a name="parameters"></a>Parametry

*nID*<br/>
[in] Identyfikator kontrolki, dla której chcesz ustawić tekst.

*lpsz*<br/>
[in] Wskaźnik do ciągu, który zawiera tekst, który ma wartość dla formantu.

### <a name="remarks"></a>Uwagi

Obie wersje tej funkcji są prawidłowe dla aplikacji, które używają Unicode. Jednak tylko wersję z typem LPCSTR jest prawidłowy dla aplikacji, które używają ANSI.

Aby użyć tej metody, należy utworzyć okno dialogowe ze stylem OFN_EXPLORER. W przeciwnym wypadku funkcja zakończy się niepowodzeniem o potwierdzenie.

##  <a name="setdefext"></a>  CFileDialog::SetDefExt

Wywołaj tę funkcję, aby ustawić domyślne rozszerzenie nazwy pliku stylu Eksploratora Open lub Zapisz jako wspólne okno dialogowe.

```
void SetDefExt(LPCSTR lpsz);
```

### <a name="parameters"></a>Parametry

*lpsz*<br/>
Wskaźnik do ciągu zawierającego domyślnym rozszerzeniem dla obiektu okno dialogowe. Ten ciąg nie może zawierać kropki (.).

### <a name="remarks"></a>Uwagi

Okno dialogowe muszą zostać utworzone przy użyciu stylu OFN_EXPLORER; w przeciwnym wypadku funkcja zakończy się niepowodzeniem o potwierdzenie.

##  <a name="seteditboxtext"></a>  CFileDialog::SetEditBoxText

Ustawia bieżący tekstu w formancie pola edycji.

```
HRESULT SetEditBoxText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator pola edycji.

*strText*<br/>
Wartość tekstowa.

### <a name="remarks"></a>Uwagi

##  <a name="setproperties"></a>  CFileDialog::SetProperties

Udostępnia Magazyn właściwości, który definiuje wartości domyślne, które ma być używany dla elementu są zapisywane.

```
BOOL SetProperties(LPCWSTR lpszPropList);
```

### <a name="parameters"></a>Parametry

*lpszPropList*<br/>
Listę wstępnie zdefiniowanych właściwości oddzielone ";". Aby uzyskać listę flag, zobacz **flagi** części [LPSTRFILE](/windows/desktop/api/commdlg/ns-commdlg-tagofna).

### <a name="remarks"></a>Uwagi

##  <a name="setselectedcontrolitem"></a>  CFileDialog::SetSelectedControlItem

Ustawia stan wybrania określonego elementu w grupie przycisk opcji lub pola kombi, w oknie dialogowym.

```
HRESULT SetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator kontrolki kontenera.

*dwIDItem*<br/>
Identyfikator elementu, który użytkownik zaznaczył w formancie.

### <a name="remarks"></a>Uwagi

##  <a name="settemplate"></a>  CFileDialog::SetTemplate

Ustawia szablonu okna dialogowego, aby uzyskać [CFileDialog](../../mfc/reference/cfiledialog-class.md) obiektu.

```
void SetTemplate(
    UINT nWin3ID,
    UINT nWin4ID);

void SetTemplate(
    LPCTSTR lpWin3ID,
    LPCTSTR lpWin4ID);
```

### <a name="parameters"></a>Parametry

*nWin3ID*<br/>
[in] Zawiera identyfikator zasobu szablonu dla innego niż Eksploratora `CFileDialog` obiektu. Ten szablon jest używana tylko na Windows NT 3.51 lub styl OFN_EXPLORER nie jest obecny.

*nWin4ID*<br/>
[in] Zawiera identyfikator zasobu szablon dla Eksploratora `CFileDialog` obiektu. Ten szablon jest używany tylko na Windows NT 4.0 i nowszy, Windows 95 i nowszymi wersjami lub gdy styl OFN_EXPLORER jest obecny.

*lpWin3ID*<br/>
[in] Zawiera nazwę zasobu szablon dla innych Eksploratora `CFileDialog` obiektu. Ten szablon jest używana tylko na Windows NT 3.51 lub styl OFN_EXPLORER nie jest obecny.

*lpWin4ID*<br/>
[in] Zawiera nazwę zasobu szablon z poziomu Eksploratora `CFileDialog` obiektu. Ten szablon jest używany tylko na Windows NT 4.0 i nowszy, Windows 95 i nowszymi wersjami lub gdy styl OFN_EXPLORER jest obecny.

### <a name="remarks"></a>Uwagi

System użyje tylko jednego z szablonów określony. System określi, jaki szablon do użycia na podstawie obecności styl OFN_EXPLORER i systemu operacyjnego, która aplikacja jest uruchomiona na. Określając-Explorer i szablon stylu Eksploratora, jest łatwy do obsługi systemu Windows NT 3.51, Windows NT 4.0 i nowsze wersje i Windows 95 i nowszych wersjach.

> [!NOTE]
> Windows Vista lub nowszym stylu pliku oknach dialogowych nie obsługują tej funkcji. Podjęto próbę użycia tej funkcji w Windows Vista lub nowszym okno dialogowe pliku stylu zgłosi [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md). Alternatywą jest używać niestandardowe okno dialogowe. Aby uzyskać więcej informacji o korzystaniu z niestandardową `CFileDialog`, zobacz [IFileDialogCustomize](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

##  <a name="startvisualgroup"></a>  CFileDialog::StartVisualGroup

Deklaruje visual grupy w oknie dialogowym. Kolejne wywołania do dowolnej metody "add" Dodaj te elementy do tej grupy.

```
HRESULT StartVisualGroup(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl*<br/>
Identyfikator grupy visual.

*strLabel*<br/>
Nazwa grupy.

### <a name="remarks"></a>Uwagi

##  <a name="updateofnfromshelldialog"></a>  CFileDialog::UpdateOFNFromShellDialog

Aktualizacje `m_ofn` struktury danych [CFileDialog](../../mfc/reference/cfiledialog-class.md) na podstawie bieżącego stanu obiektu wewnętrznego.

```
void UpdateOFNFromShellDialog();
```

### <a name="remarks"></a>Uwagi

W wersjach systemu Windows przed Windows Vista, elementu członkowskiego [LPSTRFILE](https://msdn.microsoft.com/library/ms911906.aspx) struktury danych stale była synchronizowana ze stanem `CFileDialog`. Wszelkie zmiany [m_ofn](#m_ofn) zmiennej składowej dotyczą go bezpośrednio stanu okna dialogowego. Ponadto wszelkie zmiany stanu okna dialogowego natychmiast aktualizowany m_ofn zmiennej składowej.

Windows Vista lub nowszym `m_ofn` strukturę danych nie jest automatycznie aktualizowany. Aby zagwarantować dokładności danych w `m_ofn` zmiennej składowej, należy wywołać `UpdateOFNFromShellDialog` funkcji przed uzyskaniem dostępu do danych. Windows wywołuje tę funkcję, automatycznie podczas przetwarzania [IFileDialog::OnFileOK](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-ifiledialogevents-onfileok).

Aby uzyskać więcej informacji o sposobie używania `CFileDialog` klasy w obszarze Windows Vista lub nowszy, odwiedź [klasa CFileDialog](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Przykład

W tym przykładzie aktualizuje `CFileDialog` przed wyświetleniem go. Przed zaktualizowaniem `m_ofn` zmiennej składowej, należy zsynchronizować go do bieżącego stanu okna dialogowego.

[!code-cpp[NVC_MFC_CFileDialog#1](../../mfc/reference/codesnippet/cpp/cfiledialog-class_7.cpp)]

## <a name="see-also"></a>Zobacz też

[Klasa CCommonDialog](../../mfc/reference/ccommondialog-class.md)<br/>
[Wykres hierarchii](../../mfc/hierarchy-chart.md)

