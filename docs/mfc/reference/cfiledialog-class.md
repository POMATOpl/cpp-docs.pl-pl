---
title: Klasa CFileDialog | Dokumentacja firmy Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.reviewer: ''
ms.suite: ''
ms.technology:
- cpp-windows
ms.tgt_pltfrm: ''
ms.topic: reference
f1_keywords:
- CFileDialog
- AFXDLGS/CFileDialog
- AFXDLGS/CFileDialog::CFileDialog
- AFXDLGS/CFileDialog::AddCheckButton
- AFXDLGS/CFileDialog::AddComboBox
- AFXDLGS/CFileDialog::AddControlItem
- AFXDLGS/CFileDialog::AddEditBox
- AFXDLGS/CFileDialog::AddMenu
- AFXDLGS/CFileDialog::AddPlace
- AFXDLGS/CFileDialog::AddPushButton
- AFXDLGS/CFileDialog::AddRadioButtonList
- AFXDLGS/CFileDialog::AddSeparator
- AFXDLGS/CFileDialog::AddText
- AFXDLGS/CFileDialog::ApplyOFNToShellDialog
- AFXDLGS/CFileDialog::DoModal
- AFXDLGS/CFileDialog::EnableOpenDropDown
- AFXDLGS/CFileDialog::EndVisualGroup
- AFXDLGS/CFileDialog::GetCheckButtonState
- AFXDLGS/CFileDialog::GetControlItemState
- AFXDLGS/CFileDialog::GetControlState
- AFXDLGS/CFileDialog::GetEditBoxText
- AFXDLGS/CFileDialog::GetFileExt
- AFXDLGS/CFileDialog::GetFileName
- AFXDLGS/CFileDialog::GetFileTitle
- AFXDLGS/CFileDialog::GetFolderPath
- AFXDLGS/CFileDialog::GetIFileDialogCustomize
- AFXDLGS/CFileDialog::GetIFileOpenDialog
- AFXDLGS/CFileDialog::GetIFileSaveDialog
- AFXDLGS/CFileDialog::GetNextPathName
- AFXDLGS/CFileDialog::GetOFN
- AFXDLGS/CFileDialog::GetPathName
- AFXDLGS/CFileDialog::GetReadOnlyPref
- AFXDLGS/CFileDialog::GetResult
- AFXDLGS/CFileDialog::GetResults
- AFXDLGS/CFileDialog::GetSelectedControlItem
- AFXDLGS/CFileDialog::GetStartPosition
- AFXDLGS/CFileDialog::HideControl
- AFXDLGS/CFileDialog::IsPickFoldersMode
- AFXDLGS/CFileDialog::MakeProminent
- AFXDLGS/CFileDialog::RemoveControlItem
- AFXDLGS/CFileDialog::SetCheckButtonState
- AFXDLGS/CFileDialog::SetControlItemState
- AFXDLGS/CFileDialog::SetControlItemText
- AFXDLGS/CFileDialog::SetControlLabel
- AFXDLGS/CFileDialog::SetControlState
- AFXDLGS/CFileDialog::SetControlText
- AFXDLGS/CFileDialog::SetDefExt
- AFXDLGS/CFileDialog::SetEditBoxText
- AFXDLGS/CFileDialog::SetProperties
- AFXDLGS/CFileDialog::SetSelectedControlItem
- AFXDLGS/CFileDialog::SetTemplate
- AFXDLGS/CFileDialog::StartVisualGroup
- AFXDLGS/CFileDialog::UpdateOFNFromShellDialog
- AFXDLGS/CFileDialog::OnButtonClicked
- AFXDLGS/CFileDialog::OnCheckButtonToggled
- AFXDLGS/CFileDialog::OnControlActivating
- AFXDLGS/CFileDialog::OnFileNameChange
- AFXDLGS/CFileDialog::OnFileNameOK
- AFXDLGS/CFileDialog::OnFolderChange
- AFXDLGS/CFileDialog::OnInitDone
- AFXDLGS/CFileDialog::OnItemSelected
- AFXDLGS/CFileDialog::OnLBSelChangedNotify
- AFXDLGS/CFileDialog::OnShareViolation
- AFXDLGS/CFileDialog::OnTypeChange
- AFXDLGS/CFileDialog::m_ofn
dev_langs:
- C++
helpviewer_keywords:
- CFileDialog [MFC], CFileDialog
- CFileDialog [MFC], AddCheckButton
- CFileDialog [MFC], AddComboBox
- CFileDialog [MFC], AddControlItem
- CFileDialog [MFC], AddEditBox
- CFileDialog [MFC], AddMenu
- CFileDialog [MFC], AddPlace
- CFileDialog [MFC], AddPushButton
- CFileDialog [MFC], AddRadioButtonList
- CFileDialog [MFC], AddSeparator
- CFileDialog [MFC], AddText
- CFileDialog [MFC], ApplyOFNToShellDialog
- CFileDialog [MFC], DoModal
- CFileDialog [MFC], EnableOpenDropDown
- CFileDialog [MFC], EndVisualGroup
- CFileDialog [MFC], GetCheckButtonState
- CFileDialog [MFC], GetControlItemState
- CFileDialog [MFC], GetControlState
- CFileDialog [MFC], GetEditBoxText
- CFileDialog [MFC], GetFileExt
- CFileDialog [MFC], GetFileName
- CFileDialog [MFC], GetFileTitle
- CFileDialog [MFC], GetFolderPath
- CFileDialog [MFC], GetIFileDialogCustomize
- CFileDialog [MFC], GetIFileOpenDialog
- CFileDialog [MFC], GetIFileSaveDialog
- CFileDialog [MFC], GetNextPathName
- CFileDialog [MFC], GetOFN
- CFileDialog [MFC], GetPathName
- CFileDialog [MFC], GetReadOnlyPref
- CFileDialog [MFC], GetResult
- CFileDialog [MFC], GetResults
- CFileDialog [MFC], GetSelectedControlItem
- CFileDialog [MFC], GetStartPosition
- CFileDialog [MFC], HideControl
- CFileDialog [MFC], IsPickFoldersMode
- CFileDialog [MFC], MakeProminent
- CFileDialog [MFC], RemoveControlItem
- CFileDialog [MFC], SetCheckButtonState
- CFileDialog [MFC], SetControlItemState
- CFileDialog [MFC], SetControlItemText
- CFileDialog [MFC], SetControlLabel
- CFileDialog [MFC], SetControlState
- CFileDialog [MFC], SetControlText
- CFileDialog [MFC], SetDefExt
- CFileDialog [MFC], SetEditBoxText
- CFileDialog [MFC], SetProperties
- CFileDialog [MFC], SetSelectedControlItem
- CFileDialog [MFC], SetTemplate
- CFileDialog [MFC], StartVisualGroup
- CFileDialog [MFC], UpdateOFNFromShellDialog
- CFileDialog [MFC], OnButtonClicked
- CFileDialog [MFC], OnCheckButtonToggled
- CFileDialog [MFC], OnControlActivating
- CFileDialog [MFC], OnFileNameChange
- CFileDialog [MFC], OnFileNameOK
- CFileDialog [MFC], OnFolderChange
- CFileDialog [MFC], OnInitDone
- CFileDialog [MFC], OnItemSelected
- CFileDialog [MFC], OnLBSelChangedNotify
- CFileDialog [MFC], OnShareViolation
- CFileDialog [MFC], OnTypeChange
- CFileDialog [MFC], m_ofn
ms.assetid: fda4fd3c-08b8-4ce0-8e9d-7bab23f8c6c0
caps.latest.revision: 47
author: mikeblome
ms.author: mblome
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 68c07bd6a172c704003ac2e4d83ef27fc1efc64a
ms.sourcegitcommit: be2a7679c2bd80968204dee03d13ca961eaa31ff
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/03/2018
---
# <a name="cfiledialog-class"></a>Klasa CFileDialog
Hermetyzuje wspólne okno dialogowe służy do otwartego pliku lub pliku w operacji zapisywania.  
  
## <a name="syntax"></a>Składnia  
  
```  
class CFileDialog : public CCommonDialog  
```  
  
## <a name="members"></a>Elementy członkowskie  
  
### <a name="public-constructors"></a>Konstruktory publiczne  
  
|Nazwa|Opis|  
|----------|-----------------|  
|[CFileDialog::CFileDialog](#cfiledialog)|Konstruuje `CFileDialog` obiektu.|  
  
### <a name="public-methods"></a>Metody publiczne  
  
|Nazwa|Opis|  
|----------|-----------------|  
|[CFileDialog::AddCheckButton](#addcheckbutton)|Dodaje przycisk wyboru do okna dialogowego.|  
|[CFileDialog::AddComboBox](#addcombobox)|Dodaje pole kombi do okna dialogowego.|  
|[CFileDialog::AddControlItem](#addcontrolitem)|Dodaje element do formantu kontenera, w oknie dialogowym.|  
|[CFileDialog::AddEditBox](#addeditbox)|Dodaje pole edycji do okna dialogowego.|  
|[CFileDialog::AddMenu](#addmenu)|Dodaje menu do okna dialogowego.|  
|[CFileDialog::AddPlace](#addplace)|Przeciążone. Dodaje folder do listy umieszcza dostępnych dla użytkownika, który można otworzyć lub zapisać elementów.|  
|[CFileDialog::AddPushButton](#addpushbutton)|Dodaje przycisk do okna dialogowego.|  
|[CFileDialog::AddRadioButtonList](#addradiobuttonlist)|Dodaje grupę przycisków (znanej także jako przycisk radiowy) opcji do okna dialogowego.|  
|[CFileDialog::AddSeparator](#addseparator)|Dodaje separator do okna dialogowego.|  
|[CFileDialog::AddText](#addtext)|Dodaje zawartość tekstu do okna dialogowego.|  
|[CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog)|Aktualizuje stan `CFileDialog` odpowiadające parametrów i flagi przechowywane w `m_ofn` zmiennej członkowskiej.|  
|[CFileDialog::DoModal](#domodal)|Wyświetla okno dialogowe i umożliwia użytkownikowi dokonanie wyboru.|  
|[CFileDialog::EnableOpenDropDown](#enableopendropdown)|Włącza na liście rozwijanej **Otwórz** lub **zapisać** przycisk w oknie dialogowym.|  
|[CFileDialog::EndVisualGroup](#endvisualgroup)|Zatrzymuje Dodawanie elementów do grupy visual w oknie dialogowym.|  
|[CFileDialog::GetCheckButtonState](#getcheckbuttonstate)|Pobiera bieżący stan w oknie dialogowym przycisk wyboru (pole wyboru).|  
|[CFileDialog::GetControlItemState](#getcontrolitemstate)|Pobiera bieżący stan elementu w kontenerze formantu znajdującego się w oknie dialogowym.|  
|[CFileDialog::GetControlState](#getcontrolstate)|Pobiera bieżący widoczność i włączone stanów danego formantu.|  
|[CFileDialog::GetEditBoxText](#geteditboxtext)|Pobiera tekst w formancie pola edycji.|  
|[CFileDialog::GetFileExt](#getfileext)|Zwraca rozszerzenie wybranego pliku.|  
|[CFileDialog::GetFileName](#getfilename)|Zwraca nazwę wybranego pliku.|  
|[CFileDialog::GetFileTitle](#getfiletitle)|Zwraca nazwę wybranego pliku.|  
|[CFileDialog::GetFolderPath](#getfolderpath)|Pobiera ścieżkę folderu aktualnie otwarte lub katalogu w stylu Eksploratora **Otwórz** lub **Zapisz jako** wspólne okno dialogowe.|  
|[CFileDialog::GetIFileDialogCustomize](#getifiledialogcustomize)|Pobiera wewnętrznego obiektu COM dla dostosowany `CFileDialog` obiektu.|  
|[CFileDialog::GetIFileOpenDialog](#getifileopendialog)|Pobiera wewnętrznego obiektu COM dla `CFileDialog` używany jako **Otwórz** plik — okno dialogowe.|  
|[CFileDialog::GetIFileSaveDialog](#getifilesavedialog)|Pobiera wewnętrznego obiektu COM dla `CFileDialog` używany jako **zapisać** plik — okno dialogowe.|  
|[CFileDialog::GetNextPathName](#getnextpathname)|Zwraca pełną ścieżkę dalej wybranego pliku.|  
|[CFileDialog::GetOFN](#getofn)|Pobiera `OPENFILENAME` struktury `CFileDialog` obiektu.|  
|[CFileDialog::GetPathName](#getpathname)|Zwraca pełną ścieżkę wybranego pliku.|  
|[CFileDialog::GetReadOnlyPref](#getreadonlypref)|Zwraca informacje o stanie tylko do odczytu wybranego pliku.|  
|[CFileDialog::GetResult](#getresult)|Pobiera wybór użytkownika wprowadzone w oknie dialogowym.|  
|[CFileDialog::GetResults](#getresults)|Pobiera użytkownika opcje w oknie dialogowym, który umożliwia wybór wielokrotny.|  
|[CFileDialog::GetSelectedControlItem](#getselectedcontrolitem)|Pobiera konkretny element z określonym kontenerze formantów w oknie dialogowym.|  
|[CFileDialog::GetStartPosition](#getstartposition)|Zwraca pozycję pierwszego elementu listy nazw plików.|  
|[CFileDialog::HideControl](#hidecontrol)|Określony formant w stylu Eksploratora ukrywa **Otwórz** lub **Zapisz jako** wspólne okno dialogowe.|  
|[CFileDialog::IsPickFoldersMode](#ispickfoldersmode)|Określa, czy bieżące okno dialogowe w tryb selektora folderu.|  
|[CFileDialog::MakeProminent](#makeprominent)|Miejsca formantu w oknie dialogowym, aby wyróżnić w porównaniu do innych kontrolek dodanych.|  
|[CFileDialog::RemoveControlItem](#removecontrolitem)|Usuwa element z formantu kontenera, w oknie dialogowym.|  
|[CFileDialog::SetCheckButtonState](#setcheckbuttonstate)|Ustawia bieżący stan przycisku wyboru (pole wyboru) w oknie dialogowym.|  
|[CFileDialog::SetControlItemState](#setcontrolitemstate)|Ustawia bieżący stan elementu w kontenerze formantu znajdującego się w oknie dialogowym.|  
|[CFileDialog::SetControlItemText](#setcontrolitemtext)|Ustawia tekst elementu kontroli. Na przykład tekst, który towarzyszy przycisku radiowego lub element menu.|  
|[CFileDialog::SetControlLabel](#setcontrollabel)|Ustawia tekst skojarzony z formantem, takich jak tekst przycisku lub Edytuj etykietę pola.|  
|[CFileDialog::SetControlState](#setcontrolstate)|Ustawia bieżący widoczność i włączone stanów danego formantu.|  
|[CFileDialog::SetControlText](#setcontroltext)|Ustawia tekst formantu określony w stylu Eksploratora **Otwórz** lub **Zapisz jako** wspólne okno dialogowe.|  
|[CFileDialog::SetDefExt](#setdefext)|Ustawia domyślne rozszerzenie nazwy pliku w stylu Eksploratora **Otwórz** lub **Zapisz jako** wspólne okno dialogowe.|  
|[CFileDialog::SetEditBoxText](#seteditboxtext)|Ustawia bieżący tekst w formancie pola edycji.|  
|[CFileDialog::SetProperties](#setproperties)|Udostępnia Magazyn właściwości, który definiuje wartości domyślnych do użycia dla elementu zapisywany.|  
|[CFileDialog::SetSelectedControlItem](#setselectedcontrolitem)|Ustawia stan zaznaczenia danego elementu w grupie przycisk opcji lub pole kombi w oknie dialogowym.|  
|[CFileDialog::SetTemplate](#settemplate)|Ustawia szablon okno dialogowe `CFileDialog` obiektu.|  
|[CFileDialog::StartVisualGroup](#startvisualgroup)|Deklaruje visual grupy w oknie dialogowym. Kolejne wywołania do dowolnej metody "add" Dodaj tych elementów do tej grupy.|  
|[CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog)|Aktualizuje dane przechowywane w `m_ofn` zmiennej członkowskiej do bieżącego stanu okna dialogowego pliku.|  
  
### <a name="protected-methods"></a>Metody chronione  
  
|Nazwa|Opis|  
|----------|-----------------|  
|[CFileDialog::OnButtonClicked](#onbuttonclicked)|Wywoływane, gdy przycisk zostanie kliknięty.|  
|[CFileDialog::OnCheckButtonToggled](#oncheckbuttontoggled)|Wywoływane, gdy pole wyboru jest zaznaczone niezaznaczone.|  
|[CFileDialog::OnControlActivating](#oncontrolactivating)|Wywoływane, gdy formant jest aktywny.|  
|[CFileDialog::OnFileNameChange](#onfilenamechange)|Obsługuje `WM_NOTIFY CDN_SELCHANGE` wiadomości.|  
|[CFileDialog::OnFileNameOK](#onfilenameok)|Sprawdza poprawność nazwy pliku w oknie dialogowym.|  
|[CFileDialog::OnFolderChange](#onfolderchange)|Obsługuje `WM_NOTIFY CDN_FOLDERCHANGE` wiadomości.|  
|[CFileDialog::OnInitDone](#oninitdone)|Obsługuje `WM_NOTIFY CDN_INITDONE` wiadomości.|  
|[CFileDialog::OnItemSelected](#onitemselected)|Wywoływane, gdy wybrano element kontenera.|  
|[CFileDialog::OnLBSelChangedNotify](#onlbselchangednotify)|Umożliwia wykonywanie akcji niestandardowych, gdy zmieni się zaznaczenie pliku.|  
|[CFileDialog::OnShareViolation](#onshareviolation)|Uchwyty udostępnianie naruszeń.|  
|[CFileDialog::OnTypeChange](#ontypechange)|Obsługuje `WM_NOTIFY CDN_TYPECHANGE` wiadomości.|  
  
### <a name="public-data-members"></a>Publiczne elementy członkowskie danych  
  
|Nazwa|Opis|  
|----------|-----------------|  
|[CFileDialog::m_ofn](#m_ofn)|Systemu Windows `OPENFILENAME` struktury. Zapewnia dostęp do parametrów pole okna dialogowego pliku podstawowego.|  
  
## <a name="remarks"></a>Uwagi  
 Wspólne okna dialogowe pliku pozwalają na wdrożenie okien dialogowych wyboru plików, na przykład **Otwórz plik** i **Zapisz jako**, w sposób zgodny ze standardami systemu Windows.  
  
 Można użyć `CFileDialog` jest z konstruktorem podane lub mogą dziedziczyć klasa pól własne okna dialogowego z `CFileDialog` i zapisywanie konstruktora w zależności od potrzeb. W obu przypadkach tych okien dialogowych będą zachowywać się jak standardowe okna dialogowe MFC ponieważ pochodzą z [CCommonDialog klasy](../../mfc/reference/ccommondialog-class.md). `CFileDialog` zależy od pliku COMMDLG. Plik DLL, który znajduje się w systemie Windows.  
  
 Zarówno wygląd i funkcjonalność `CFileDialog` z systemem Windows Vista lub nowszym różnią się od wcześniejszych wersji systemu Windows. Wartość domyślna `CFileDialog` automatycznie używa nowego systemu Windows Vista lub nowszym styl bez zmiany kodu, jeśli program jest skompilowany i uruchomienia systemu Windows Vista lub nowszy. Użyj `bVistaStyle` parametru w konstruktora, aby ręcznie zmienić tej aktualizacji automatycznych. Wyjątek do aktualizacji automatycznych jest dostosowane okien dialogowych. Będą one nie można przekonwertować na nowy styl. Aby uzyskać więcej informacji na temat konstruktora, zobacz [CFileDialog::CFileDialog](#cfiledialog).  
  
> [!NOTE]
>  System kontroli identyfikator różni się w systemie Windows Vista lub nowszy z wcześniejszych wersji systemu Windows używając `CFileDialog`. Należy zaktualizować wszystkie odwołania do `CFileDialog` formantów w kodzie, zanim można portu projektu z wcześniejszej wersji systemu Windows.  
  
 Niektóre `CFileDialog` metody nie są obsługiwane przez system Windows Vista lub nowszy. Sprawdź tematu poszczególne metody zawiera informacje dotyczące tego, czy metoda jest obsługiwana. Ponadto następujące funkcje dziedziczonych nie są obsługiwane przez system Windows Vista lub nowszy:  
  
- [CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog)  
  
- [CDialog::OnSetFont](../../mfc/reference/cdialog-class.md#onsetfont)  
  
 Komunikaty systemu windows dla `CFileDialog` klasy różnić w zależności od systemu operacyjnego, jakiego używasz. Na przykład Windows XP nie obsługuje [CDialog::OnCancel](../../mfc/reference/cdialog-class.md#oncancel) i [CDialog::OnOK](../../mfc/reference/cdialog-class.md#onok) dla `CFileDialog` klasy. Windows Vista i nowszych systemów operacyjnych obsługuje jednak je. Aby uzyskać więcej informacji na temat różnych wygenerowanych komunikatów i kolejność, w którym są odbierane, zobacz [CFileDialog próbki: rejestrowanie kolejność zdarzeń](../../visual-cpp-samples.md).  
  
 Aby użyć `CFileDialog` obiektów, najpierw utwórz obiekt przy użyciu `CFileDialog` konstruktora. Po skonstruowaniu okno dialogowe, możesz ustawić lub zmodyfikować wartości w [CFileDialog::m_ofn](#m_ofn) struktury zainicjować wartości lub stany formantów okna dialogowego. `m_ofn` Struktura jest typu `OPENFILENAME`. Aby uzyskać więcej informacji, zobacz [OPENFILENAME](http://msdn.microsoft.com/library/windows/desktop/ms646839) struktury w zestawie Windows SDK.  
  
 Po zainicjować formantów okna dialogowego, wywołać [CFileDialog::DoModal](#domodal) metody, aby wyświetlić okno dialogowe pola tak, aby wpisać ścieżkę i nazwę użytkownika. `DoModal` Zwraca, czy użytkownik kliknął przycisk Anuluj (IDCANCEL) lub OK (IDOK). Jeśli `DoModal` zwraca IDOK, można użyć jednej z `CFileDialog` funkcje publicznego elementu członkowskiego do pobrania informacji o umieścić w przez użytkownika.  
  
> [!NOTE]
> W systemie Windows Vista lub nowszym, wielu wywołań [IFileDialog::SetFileTypes](http://msdn.microsoft.com/library/windows/desktop/bb775980) powoduje błąd. Drugie wywołanie `SetFileTypes` dla każdego wystąpienia programu `CFileDialog` zwróci `E_UNEXPECTED` w systemie Windows Vista lub nowszym. Niektóre `CFileDialog` wywołanie funkcji metody `SetFileTypes`. Na przykład dwa wywołań `CFileDialog::DoModal` dla tego samego wystąpienia `CFileDialog` generuje [ASSERT](diagnostic-services.md#assert).  
  
 `CFileDialog` obejmuje kilka chronionych elementów członkowskich, które pozwalają na wykonywanie niestandardową obsługę naruszeń udziału, sprawdzanie poprawności nazwy pliku i powiadomienia o zmianie pola listy. Te elementy chronione są funkcje wywołania zwrotnego, które nie mają większość aplikacji do użycia, ponieważ domyślna obsługa odbywa się automatycznie. Wpisy mapy wiadomości dla tych funkcji nie są wymagane, ponieważ są one standardowych funkcji wirtualnych.  
  
 Można użyć Windows [CommDlgExtendedError](http://msdn.microsoft.com/library/windows/desktop/ms646916) funkcji, aby ustalić, czy wystąpił błąd podczas inicjowania okna dialogowego i aby dowiedzieć się więcej o tym błędzie.  
  
 Niszczenie `CFileDialog` obiektów odbywa się automatycznie. Nie trzeba wywołać [CDialog::EndDialog](../../mfc/reference/cdialog-class.md#enddialog).  
  
 Aby umożliwić użytkownikowi wybranie wielu plików, należy ustawić `OFN_ALLOWMULTISELECT` Flaga przed wywołaniem `DoModal`. Należy podać własne Bufor nazwy pliku, aby pomieścić zwrócone listę wiele nazw plików. To zrobić za pomocą zastąpienia `m_ofn.lpstrFile` za pomocą wskaźnika w buforze przydzielił, po utworzymy `CFileDialog`, ale przed wywołaniem `DoModal`.  
  
 Ponadto należy ustawić `m_ofn.nMaxFile` przy użyciu liczbę znaków w buforze wskazywana przez `m_ofn.lpstrFile`. Jeśli ustawisz maksymalną liczbę plików, które można wybrać do `n`, jest wymagany rozmiar buforu `n * (_MAX_PATH + 1) + 1`. Pierwszy element zwracane w buforze jest ścieżka do folderu, w którym zostały wybrane pliki. Windows Vista lub nowszym styl okna dialogowe ciągi nazwy katalogów i plików są zerem, dodatkowe znakiem null po ostatnim nazwę pliku. Ten format umożliwia stylu eksploratora okien dialogowych zwrócić długie nazwy plików zawierające spacje. Dla okien dialogowych w starym stylu ciągi nazwy katalogów i plików są rozdzielone spacjami, a funkcja używa krótkich nazw plików do obsługi nazw plików ze spacjami.  
  
 W poniższym przykładzie pokazano sposób użycia w buforze pobierania i wyświetlania wielu nazw plików.  
  
 [!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]  
  
 Aby zmienić rozmiar buforu odpowiedzi użytkownikowi wybranie wielu nazw plików, musi pochodzić z nową klasę `CFileDialog` i zastąpić [CFileDialog::OnFileNameChange](#onfilenamechange) metody.  
  
 Jeśli pochodzi z nową klasę `CFileDialog`, możesz użyć mapy wiadomości do obsługi komunikaty. Aby rozszerzyć domyślnej obsługi wiadomości, klasa wyprowadzona z `CFileDialog`, Dodaj mapowanie komunikatów do nowej klasy i zapewniają funkcje Członkowskie nowych wiadomości. Nie trzeba podać funkcji punktów zaczepienia, aby dostosować okno dialogowe.  
  
 Aby dostosować okno dialogowe, pochodzi z klasy `CFileDialog`, podaj szablon pole niestandardowe okno dialogowe i dodać mapy komunikatów do przetwarzania komunikatów powiadomień od formantów rozszerzonego. Przekaż wszystkie nieprzetworzone komunikaty do klasy podstawowej. Nie masz dostosowanie funkcji punktów zaczepienia.  
  
 W przypadku korzystania z systemem Windows Vista lub nowszy styl `CFileDialog`, nie można użyć mapy komunikatów i szablony okno dialogowe. Zamiast tego należy użyć interfejsy modelu COM dla podobnych możliwościach.  
  
 Aby uzyskać więcej informacji o sposobie używania `CFileDialog`, zobacz [klasy wspólnych okien dialogowych](../../mfc/common-dialog-classes.md).  
  
## <a name="inheritance-hierarchy"></a>Hierarchia dziedziczenia  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  
  
 [CWnd](../../mfc/reference/cwnd-class.md)  
  
 [CDialog](../../mfc/reference/cdialog-class.md)  
  
 [CCommonDialog](../../mfc/reference/ccommondialog-class.md)  
  
 `CFileDialog`  
  
## <a name="requirements"></a>Wymagania  
 **Nagłówek:** afxdlgs.h  
  
##  <a name="addcheckbutton"></a>  CFileDialog::AddCheckButton  
 Dodaje przycisk wyboru do okna dialogowego.  
  
```  
HRESULT AddCheckButton(
    DWORD dwIDCtl,  
    const CString& strLabel,  
    BOOL bChecked);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator przycisk wyboru do dodania.  
  
 `strLabel`  
 Nazwa przycisku Sprawdź.  
  
 `bChecked`  
 Wartość logiczna wskazująca bieżący stan przycisku Sprawdź. `TRUE` Jeśli zaznaczone; `FALSE` inaczej  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="addcombobox"></a>  CFileDialog::AddComboBox  
 Dodaje pole kombi do okna dialogowego.  
  
```  
HRESULT AddComboBox(DWORD dwIDCtl);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator pola kombi do dodania.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="addcontrolitem"></a>  CFileDialog::AddControlItem  
 Dodaje element do formantu kontenera, w oknie dialogowym.  
  
```  
HRESULT AddControlItem(
    DWORD dwIDCtl,  
    DWORD dwIDItem,  
    const CString& strLabel);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu kontenera można dodać elementu.  
  
 `dwIDItem`  
 Identyfikator elementu.  
  
 `strLabel`  
 Tekst elementu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="addeditbox"></a>  CFileDialog::AddEditBox  
 Dodaje pole edycji do okna dialogowego.  
  
```  
HRESULT AddEditBox(
    DWORD dwIDCtl,  
    const CString& strText);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator pola edycji do dodania.  
  
 `strText`  
 Nazwa pola edycji.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="addmenu"></a>  CFileDialog::AddMenu  
 Dodaje menu do okna dialogowego.  
  
```  
HRESULT AddMenu(
    DWORD dwIDCtl,  
    const CString& strLabel);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator menu do dodania.  
  
 `strLabel`  
 Nazwy menu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="addplace"></a>  CFileDialog::AddPlace  
 Dodaje folder do listy umieszcza dostępnych dla użytkownika, który można otworzyć lub zapisać elementów.  
  
```  
void AddPlace(
    LPCWSTR lpszFolder,  
    FDAP fdap = FDAP_TOP) throw();

 
void AddPlace(
    IShellItem* psi,  
    FDAP fdap = FDAP_TOP) throw();
```  
  
### <a name="parameters"></a>Parametry  
 `lpszFolder`  
 Ścieżka do folderu, który ma zostać udostępniony użytkownikowi. Może to być tylko folderu.  
  
 `fdap`  
 Określa, gdzie folder jest umieszczony w obrębie listy.  
  
 `psi`  
 Wskaźnik do IShellItem reprezentujący folder do udostępnienia do użytkownika. Może to być tylko folderu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="addpushbutton"></a>  CFileDialog::AddPushButton  
 Dodaje przycisk do okna dialogowego.  
  
```  
HRESULT AddPushButton(
    DWORD dwIDCtl,  
    const CString& strLabel);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator przycisku do dodania.  
  
 `strLabel`  
 Nazwa przycisku.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="addradiobuttonlist"></a>  CFileDialog::AddRadioButtonList  
 Dodaje grupę przycisków (znanej także jako przycisk radiowy) opcji do okna dialogowego.  
  
```  
HRESULT AddRadioButtonList(DWORD dwIDCtl);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator grupy przycisków opcji do dodania.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="addseparator"></a>  CFileDialog::AddSeparator  
 Dodaje separator do okna dialogowego.  
  
```  
HRESULT AddSeparator(DWORD dwIDCtl);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Dodaj identyfikator separatora.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="addtext"></a>  CFileDialog::AddText  
 Dodaje tekst do okna dialogowego.  
  
```  
HRESULT AddText(
    DWORD dwIDCtl,  
    const CString& strText);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator tekst do dodania.  
  
 `strText`  
 Nazwa tekstu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="applyofntoshelldialog"></a>  CFileDialog::ApplyOFNToShellDialog  
 Bieżący stan aktualizacji [CFileDialog](../../mfc/reference/cfiledialog-class.md) na podstawie wartości przechowywane w `m_ofn` struktury danych.  
  
```  
void ApplyOFNToShellDialog();
```  
  
### <a name="remarks"></a>Uwagi  
 W wersjach systemu Windows przed Windows Vista, element członkowski [OPENFILENAME](https://msdn.microsoft.com/library/ms911906.aspx) struktury danych stale został zsynchronizowany ze stanem `CFileDialog`. Zmiany wprowadzone w [m_ofn](#m_ofn) zmiennej członkowskiej zostały natychmiast odzwierciedlone w stanie okna dialogowego. Ponadto wszelkie zmiany stanu w oknie dialogowym natychmiast zaktualizować `m_ofn` zmiennej członkowskiej.  
  
 W systemie Windows Vista lub nowszym wartości w `m_ofn` zmiennej członkowskiej i stan `CFileDialog` nie ma gwarancji mają być synchronizowane. Ta funkcja wymusza stan `CFileDialog` zaktualizowany w celu dopasowania `m_ofn` struktury. System Windows wywołuje tego funkcja automatycznie podczas [CFileDialog::DoModal](#domodal).  
  
 Aby uzyskać więcej informacji o sposobie używania `CFileDialog` klas w systemie Windows Vista lub nowszy, odwiedź [CFileDialog klasy](../../mfc/reference/cfiledialog-class.md).  
  
### <a name="example"></a>Przykład  
  Zobacz przykład [CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog).  
  
##  <a name="cfiledialog"></a>  CFileDialog::CFileDialog  
 Wywołanie tej funkcji do skonstruowania standardowe okno dialogowe pliku systemu Windows.  
  
```  
explicit CFileDialog(
    BOOL bOpenFileDialog,  
    LPCTSTR lpszDefExt = NULL,  
    LPCTSTR lpszFileName = NULL,  
    DWORD dwFlags = OFN_HIDEREADONLY | OFN_OVERWRITEPROMPT,  
    LPCTSTR lpszFilter = NULL,  
    CWnd* pParentWnd = NULL,  
    DWORD dwSize = 0,  
    BOOL bVistaStyle = TRUE);
```  
  
### <a name="parameters"></a>Parametry  
 [in] `bOpenFileDialog`  
 Parametr, który określa, jakiego rodzaju okno dialogowe, aby utworzyć. Ustaw ją na `TRUE` do skonstruowania **Otwórz plik** okno dialogowe. Ustaw ją na `FALSE` do skonstruowania **Zapisz plik jako** okno dialogowe.  
  
 [in] `lpszDefExt`  
 Domyślne rozszerzenie nazwy pliku. Jeśli użytkownik nie ma rozszerzenie znanego (taki, który ma skojarzenie na komputerze użytkownika) w polu Nazwa pliku, rozszerzenie określony przez `lpszDefExt` jest automatycznie dołączane do nazwy pliku. Jeśli ten parametr ma `NULL`, jest dołączany bez rozszerzenia.  
  
 [in] `lpszFileName`  
 Początkowa nazwa pliku w polu Nazwa pliku. Jeśli `NULL`, zostanie wyświetlone nie początkowa nazwa pliku.  
  
 [in] `dwFlags`  
 Połączenie z jedną lub więcej flag, które służy do dostosowywania okna dialogowego. Aby uzyskać opis tych flag, zobacz [OPENFILENAME](http://msdn.microsoft.com/library/windows/desktop/ms646839) struktury w zestawie Windows SDK. Jeśli zmodyfikujesz `m_ofn.Flags` struktury — członek, zachowane domyślne zachowanie za pomocą operator Alternatywy zmiany.  
  
 [in] `lpszFilter`  
 Szereg pary ciągów, które określają filtrów można zastosować do pliku. Jeśli określisz filtry plików, tylko te pliki, które spełniają kryteria filtru będą wyświetlane na liście plików. Zobacz sekcję Uwagi, aby uzyskać więcej informacji na temat sposobu pracy z pliku filtrów.  
  
 [in] `pParentWnd`  
 Wskaźnik do okna nadrzędnego lub właściciela okna dialogowego pliku.  
  
 [in] `dwSize`  
 Rozmiar `OPENFILENAME` struktury. Ta wartość zależy od wersji systemu operacyjnego. MFC pozwala określić rodzajem odpowiednie okno dialogowe, aby utworzyć tego parametru. Domyślny rozmiar 0 oznacza, że kod MFC określi rozmiar pola dialogowe poprawne do użycia na podstawie wersji systemu operacyjnego w ramach której działa program.  
  
 [in] `bVistaStyle`  
 **Uwaga** parametr ten jest dostępny w programie Visual Studio 2008 lub nowszym i zostanie spowodować, że okno dialogowe Nowy styl, aby można używać tylko wtedy, gdy są uruchomione w systemie Windows Vista lub nowszym.  
  
 Parametr, który określa styl okna dialogowego pliku. Ustaw ją na `TRUE` do użycia nowego okna dialogowe pliku styl Vista. W przeciwnym razie stary styl okna dialogowe będą używane. Zobacz w sekcji uwag, aby uzyskać więcej informacji uruchamiania Vista.  
  
### <a name="remarks"></a>Uwagi  
 Albo **Otwórz plik** lub **Zapisz plik jako** okno dialogowe jest tworzony w zależności od wartości `bOpenFileDialog`.  
  
 Określanie, rozszerzenie domyślne przy użyciu `lpszDefExt` nie może utworzyć zachowanie spodziewasz się, ponieważ rzadko jest przewidywalne, jakie rozszerzenia mają skojarzeń plików na komputerze użytkownika. Aby uzyskać większą kontrolę nad dołączyć domyślne rozszerzenie mogą dziedziczyć klasy z `CFileDialog`i Zastąp `CFileDialog::OnFileNameOK` metodę w celu obsługi własne rozszerzenia.  
  
 Aby umożliwić użytkownikowi wybranie wielu plików, należy ustawić `OFN_ALLOWMULTISELECT` Flaga przed wywołaniem [DoModal](#domodal). Należy podać własne Bufor nazwy pliku do przechowywania zwrócona lista wielu nazw plików. To zrobić za pomocą zastąpienia `m_ofn.lpstrFile` za pomocą wskaźnika w buforze przydzielił, po utworzymy [CFileDialog](../../mfc/reference/cfiledialog-class.md), ale przed wywołaniem `DoModal`. Ponadto należy ustawić `m_ofn.nMaxFile` o liczbie znaków w buforze wskazywana przez `m_ofn.lpstrFile`. Jeśli ustawisz maksymalną liczbę plików, które można wybrać do `n`, rozmiar buforu niezbędne jest `n`*(_MAX_PATH + 1) + 1. Na przykład:  
  
 [!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]  
  
 Aby umożliwić użytkownikowi zmienianie rozmiaru okno dialogowe w stylu Eksploratora przy użyciu myszy lub klawiatury, ustaw `OFN_ENABLESIZING` flagi. Ustawienie tej flagi jest konieczne tylko wtedy, gdy udostępniono procedura haka lub szablonu niestandardowego. Flaga działa tylko w stylu Eksploratora okno dialogowe; Nie można zmienić rozmiaru okna dialogowe w starym stylu.  
  
 `lpszFilter` Parametr jest używany do określenia typu nazwa pliku musi mieć pliku, który będzie wyświetlany na liście plików. Pierwszy ciąg w parze ciąg opisuje filtru; drugi ciąg Określa rozszerzenie nazwy pliku do użycia. Przy użyciu średnika (znaku ';') ogranicznik, który można określić wiele rozszerzeń. Ciąg kończy się przy użyciu dwóch "&#124;' znaków, a następnie `NULL` znaków. Można również użyć [cstring —](../../atl-mfc-shared/using-cstring.md) obiekt dla tego parametru.  
  
 Na przykład [!INCLUDE[ofprexcel](../../mfc/reference/includes/ofprexcel_md.md)] umożliwia użytkownikom otwieranie plików, które mają rozszerzenia xlc (wykres) lub xls (arkusz), między innymi. Filtr dla programu Excel może być zapisany jako:  
  
 [!code-cpp[NVC_MFCFiles#24](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_2.cpp)]  
  
 Jednak jeśli planujesz użyć tego ciągu bezpośrednio zaktualizować `OPENFILENAME` struktury, należy ograniczyć z ciągów znakiem null '\0' zamiast pionowych słupków ("&#124;").  
  
 `bVistaStyle` Parametr ma zastosowanie tylko wtedy, gdy uruchomiony w systemie Windows Vista lub nowszym. We wcześniejszych wersjach systemu Windows ten parametr jest ignorowany. Jeśli `bVistaStyle` ustawiono `TRUE`, podczas kompilowania programu z programu Visual Studio 2008 lub nowszym, nowy styl Vista **okna dialogowego pliku** będą używane. W przeciwnym razie wcześniejszy styl MFC **okna dialogowego pliku** będą używane.  
  
 Szablony okna dialogowego nie są obsługiwane w oknach dialogowych na podstawie `bVistaStyle`  
  
### <a name="example"></a>Przykład  
  Zobacz przykład [CFileDialog::DoModal](#domodal).  
  
##  <a name="domodal"></a>  CFileDialog::DoModal  
 Wywołanie tej funkcji, aby wyświetlić okno dialogowe pliku wspólne systemu Windows i umożliwia użytkownikowi przeglądanie plików i katalogów i wprowadź nazwę pliku.  
  
```  
virtual INT_PTR DoModal();
```  
  
### <a name="return-value"></a>Wartość zwracana  
 **IDOK** lub **IDCANCEL**. Jeśli **IDCANCEL** jest zwracany, wywołanie systemu Windows [CommDlgExtendedError](http://msdn.microsoft.com/library/windows/desktop/ms646916) funkcji, aby ustalić, czy wystąpił błąd.  
  
 **IDOK** i **IDCANCEL** są stałe, które wskazują, czy użytkownik wybrał przycisk OK, lub przycisk Anuluj.  
  
### <a name="remarks"></a>Uwagi  
 Jeśli chcesz zainicjować różne opcje Okno dialogowe plików przez ustawienie członkami **m_ofn** struktury, należy to zrobić przed wywołaniem `DoModal`, ale po konstruowania obiektu okna dialogowego.  
  
 Na przykład, jeśli chcesz zezwolić użytkownikowi na wybranie wielu plików, ustaw `OFN_ALLOWMULTISELECT` Flaga przed wywołaniem `DoModal`, jak pokazano w przykładzie kodu, w tym temacie.  
  
 Po kliknięciu przycisk OK lub Anuluj okna dialogowego lub zamknięcia wybiera opcję w oknie dialogowym kontrolować menu, kontrolka jest zwracana do aplikacji. Można następnie wywołać innych funkcji elementów członkowskich, można pobrać ustawień lub informacje o dane wejściowe użytkownika w oknie dialogowym.  
  
 `DoModal` jest funkcją wirtualną przesłonięcia z klasy `CDialog`.  
  
### <a name="example"></a>Przykład  
 [!code-cpp[NVC_MFCFiles#25](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_3.cpp)]  
  
##  <a name="enableopendropdown"></a>  CFileDialog::EnableOpenDropDown  
 Umożliwia listy rozwijanej, Otwórz lub Zapisz przycisk w oknie dialogowym.  
  
```  
HRESULT EnableOpenDropDown(DWORD dwIDCtl);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator listy rozwijanej.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="endvisualgroup"></a>  CFileDialog::EndVisualGroup  
 Zatrzymuje Dodawanie elementów do grupy visual w oknie dialogowym.  
  
```  
HRESULT EndVisualGroup();
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Zwraca wartość S_OK w przypadku powodzenia; w przeciwnym razie wartość błędu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="getcheckbuttonstate"></a>  CFileDialog::GetCheckButtonState  
 Pobiera bieżący stan w oknie dialogowym przycisk wyboru (pole wyboru).  
  
```  
HRESULT GetCheckButtonState(
    DWORD dwIDCtl,  
    BOOL& bChecked);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator pola wyboru.  
  
 `bChecked`  
 Stan pola wyboru. `TRUE` Wskazuje zaznaczone; `FALSE` wskazuje niezaznaczone.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="getcontrolitemstate"></a>  CFileDialog::GetControlItemState  
 Pobiera bieżący stan elementu w kontenerze formantu znajdującego się w oknie dialogowym.  
  
```  
HRESULT GetControlItemState(
    DWORD dwIDCtl,  
    DWORD dwIDItem,  
    CDCONTROLSTATEF& dwState);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu kontenera.  
  
 `dwIDItem`  
 Identyfikator elementu.  
  
 `dwState`  
 Odwołanie do zmiennej, która odbiera więcej wartości z wyliczenia CDCONTROLSTATE, która wskazuje bieżący stan formantu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="getcontrolstate"></a>  CFileDialog::GetControlState  
 Pobiera bieżący widoczność i włączone stanów danego formantu.  
  
```  
HRESULT GetControlState(
    DWORD dwIDCtl,  
    CDCONTROLSTATEF& dwState);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu.  
  
 `dwState`  
 Odwołanie do zmiennej, która odbiera jedną lub więcej wartości z wyliczenia CDCONTROLSTATE, która wskazuje bieżący stan formantu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="geteditboxtext"></a>  CFileDialog::GetEditBoxText  
 Pobiera tekst w formancie pola edycji.  
  
```  
HRESULT GetEditBoxText(
    DWORD dwIDCtl,  
    CString& strText);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator pola edycji.  
  
 `strText`  
 Wartość tekstu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="getfileext"></a>  CFileDialog::GetFileExt  
 Wywołanie tej funkcji do pobrania rozszerzenie nazwy pliku wprowadzonej w oknie dialogowym.  
  
```  
CString GetFileExt() const;  
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Rozszerzenie nazwy pliku.  
  
### <a name="remarks"></a>Uwagi  
 Na przykład jeśli podana nazwa pliku jest danych. Pliki TXT, `GetFileExt` zwraca "TXT".  
  
 Jeśli `m_ofn.Flags` ma `OFN_ALLOWMULTISELECT` ustawiona flaga, ten ciąg zawiera sekwencję zerem ciągów, pierwszy ciąg jest ścieżka katalogu grupy plików zaznaczone, oraz nazwy wszystkie pliki wybrane przez użytkownika. Aby uzyskać nazwy ścieżek plików, użyj [GetStartPosition](#getstartposition) i [GetNextPathName](#getnextpathname) funkcji elementów członkowskich.  
  
##  <a name="getfilename"></a>  CFileDialog::GetFileName  
 Wywołanie tej funkcji, aby pobrać nazwę nazwy pliku wprowadzonej w oknie dialogowym.  
  
```  
CString GetFileName() const;  
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Nazwa pliku.  
  
### <a name="remarks"></a>Uwagi  
 Nazwa pliku zawiera prefiks i rozszerzenia. Na przykład `GetFileName` zwróci "TEXT. DAT"dla pliku C:\FILES\TEXT.DAT.  
  
 Jeśli `m_ofn.Flags` ma `OFN_ALLOWMULTISELECT` Flaga, należy wywołać [GetStartPosition](#getstartposition) i [GetNextPathName](#getnextpathname) można pobrać nazwy ścieżki pliku.  
  
##  <a name="getfiletitle"></a>  CFileDialog::GetFileTitle  
 Wywołanie tej funkcji można pobrać nazwy pliku w oknie dialogowym.  
  
```  
CString GetFileTitle() const;  
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Nazwa pliku.  
  
### <a name="remarks"></a>Uwagi  
 Nazwa pliku zawiera tylko jego prefiks bez ścieżki i rozszerzenia. Na przykład `GetFileTitle` zwróci "TEXT" dla pliku C:\FILES\TEXT.DAT.  
  
 Jeśli `m_ofn.Flags` ma `OFN_ALLOWMULTISELECT` ustawiona flaga, ten ciąg zawiera sekwencję zerem ciągów, pierwszy ciąg jest ścieżka katalogu grupy plików zaznaczone, oraz nazwy wszystkie pliki wybrane przez użytkownika. Z tego powodu, użyj [GetStartPosition](#getstartposition) i [GetNextPathName](#getnextpathname) funkcji elementów członkowskich do pobrania następnej nazwy pliku na liście.  
  
### <a name="example"></a>Przykład  
  Zobacz przykład [CFileDialog::DoModal](#domodal).  
  
##  <a name="getfolderpath"></a>  CFileDialog::GetFolderPath  
 Wywołanie tej funkcji Członkowskich pobierania ścieżki folderu aktualnie otwarte lub katalogu w stylu Eksploratora Otwórz lub Zapisz jako wspólnego okna dialogowego.  
  
```  
CString GetFolderPath() const;  
```  
  
### <a name="return-value"></a>Wartość zwracana  
 A [cstring —](../../atl-mfc-shared/reference/cstringt-class.md) obiekt zawierający obecnie Otwórz folder lub katalog.  
  
### <a name="remarks"></a>Uwagi  
 Okno dialogowe muszą być utworzone z **OFN_EXPLORER** styl; w przeciwnym razie metoda zakończy się niepowodzeniem z potwierdzeniem.  
  
 Tę metodę można wywołać tylko wtedy, gdy zostanie wyświetlone okno dialogowe. Po zamknięciu okna dialogowego, ta funkcja nie będzie dłużej działać, a metoda zakończy się niepowodzeniem z potwierdzeniem.  
  
##  <a name="getifiledialogcustomize"></a>  CFileDialog::GetIFileDialogCustomize  
 Pobiera wskaźnik wewnętrzny obiekt COM dla danego [CFileDialog](../../mfc/reference/cfiledialog-class.md).  
  
```  
IFileDialogCustomize* GetIFileDialogCustomize();
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Wskaźnik do wewnętrznego obiektu COM dla `CFileDialog`. Odpowiada Twojej wersji odpowiednio ten wskaźnik.  
  
### <a name="remarks"></a>Uwagi  
 Użyj tej funkcji tylko w systemie Windows Vista lub nowszym z obiektu, który ma `bVistaStyle` ustawioną `true`. Jeśli używasz tej funkcji po `bVistaStyle` jest `false`, zwróci `NULL` w trybie wersji i throw potwierdzenia w trybie debugowania.  
  
 Aby uzyskać więcej informacji na temat `IFileDialogCustomize` interfejsu, zobacz [IFileDialogCustomize](http://msdn.microsoft.com/library/windows/desktop/bb775912).  
  
### <a name="example"></a>Przykład  
 W tym przykładzie pobierana wewnętrznego obiektu COM. Aby uruchomić ten przykład kodu, należy go skompilować przez system Windows Vista lub nowszy.  
  
 [!code-cpp[NVC_MFC_CFileDialog#4](../../mfc/reference/codesnippet/cpp/cfiledialog-class_4.cpp)]  
  
##  <a name="getifileopendialog"></a>  CFileDialog::GetIFileOpenDialog  
 Pobiera wskaźnik wewnętrzny obiekt COM dla danego `CFileDialog`.  
  
```  
IFileOpenDialog* GetIFileOpenDialog();
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Wskaźnik do wewnętrznego obiektu COM dla `CFileDialog`. Odpowiada Twojej wersji odpowiednio ten wskaźnik.  
  
### <a name="remarks"></a>Uwagi  
 Użyj tej funkcji tylko w systemie Windows Vista lub nowszym z obiektu, który ma `bVistaStyle` ustawioną `true`. Ta funkcja zwraca `NULL` Jeśli `CFileDialog` nie jest **Otwórz** okno dialogowe lub, jeśli `bVistaStyle` ma ustawioną wartość `false`. W tym ostatnim przypadku zwraca tylko funkcja `NULL` w trybie wersji — w trybie debugowania go zgłosi potwierdzenia.  
  
 Aby uzyskać więcej informacji na temat `IFileOpenDialog` interfejsu, zobacz [IFileOpenDialog](http://msdn.microsoft.com/library/windows/desktop/bb775834).  
  
### <a name="example"></a>Przykład  
 W tym przykładzie pobierana wewnętrznego obiektu COM. Aby uruchomić ten kod, należy go skompilować przez system Windows Vista lub nowszy.  
  
 [!code-cpp[NVC_MFC_CFileDialog#2](../../mfc/reference/codesnippet/cpp/cfiledialog-class_5.cpp)]  
  
##  <a name="getifilesavedialog"></a>  CFileDialog::GetIFileSaveDialog  
 Pobiera wskaźnik wewnętrzny obiekt COM dla danego `CFileDialog`.  
  
```  
IFileSaveDialog* GetIFileSaveDialog();
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Wskaźnik do wewnętrznego obiektu COM dla `CFileDialog`. Odpowiada Twojej wersji odpowiednio ten wskaźnik.  
  
### <a name="remarks"></a>Uwagi  
 Użyj tej funkcji tylko w systemie Windows Vista lub nowszym z obiektu, który ma `bVistaStyle` ustawioną `true`. Ta funkcja zwróci `NULL` Jeśli `CFileDialog` nie jest **zapisać** okno dialogowe lub, jeśli `bVistaStyle` ma ustawioną wartość `false`. W tym ostatnim przypadku zwraca tylko funkcja `NULL` w trybie wersji — w trybie debugowania go zgłosi potwierdzenia.  
  
 Aby uzyskać więcej informacji na temat `IFileSaveDialog` interfejsu, zobacz [IFileSaveDialog](http://msdn.microsoft.com/library/windows/desktop/bb775688).  
  
### <a name="example"></a>Przykład  
 W tym przykładzie pobierana wewnętrznego obiektu COM. Aby uruchomić ten przykład kodu, należy go skompilować przez system Windows Vista lub nowszy.  
  
 [!code-cpp[NVC_MFC_CFileDialog#3](../../mfc/reference/codesnippet/cpp/cfiledialog-class_6.cpp)]  
  
##  <a name="getnextpathname"></a>  CFileDialog::GetNextPathName  
 Wywołanie tej funkcji można pobrać pliku dalej z grupy wybrany w oknie dialogowym.  
  
```  
CString GetNextPathName(POSITION& pos) const;  
```  
  
### <a name="parameters"></a>Parametry  
 `pos`  
 Odwołanie do **pozycji** wartość zwrócona przez poprzednie `GetNextPathName` lub `GetStartPosition` wywołania funkcji. **Wartość NULL** czy osiągnięto koniec listy.  
  
### <a name="return-value"></a>Wartość zwracana  
 Pełna ścieżka pliku.  
  
### <a name="remarks"></a>Uwagi  
 Ścieżka pliku zawiera tytuł pliku oraz całej ścieżce. Na przykład `GetNextPathName` zwróci "C:\FILES\TEXT. DAT"dla pliku C:\FILES\TEXT.DAT. Można użyć `GetNextPathName` w pętli do przodu iteracji, jeśli ustanowić położenie początkowe w wyniku wywołania `GetStartPosition`.  
  
 Jeśli zaznaczenie zawiera tylko jeden plik, że nazwa pliku zostanie zwrócony.  
  
##  <a name="getofn"></a>  CFileDialog::GetOFN  
 Pobiera skojarzonego **OPENFILENAME** struktury.  
  
```  
const OPENFILENAME& GetOFN() const;  
  
OPENFILENAME& GetOFN();
```  
  
### <a name="return-value"></a>Wartość zwracana  
 [OPENFILENAME](http://msdn.microsoft.com/library/windows/desktop/ms646839) struktury.  
  
### <a name="remarks"></a>Uwagi  
 Druga wersja ta funkcja umożliwia zainicjować wygląd **Otwórz plik** lub **Zapisz plik jako** po go jest tworzony, ale przed wyświetleniem z okna dialogowego `DoModal` funkcję elementu członkowskiego. Na przykład można ustawić **lpstrTitle** członkiem **m_ofn** podpis ma okno dialogowe, aby mieć.  
  
##  <a name="getpathname"></a>  CFileDialog::GetPathName  
 Wywołanie tej funkcji można pobrać pełnej ścieżki pliku wprowadzone w oknie dialogowym.  
  
```  
CString GetPathName() const;  
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Pełna ścieżka pliku.  
  
### <a name="remarks"></a>Uwagi  
 Ścieżka pliku zawiera tytuł pliku oraz całej ścieżce. Na przykład `GetPathName` zwróci "C:\FILES\TEXT. DAT"dla pliku C:\FILES\TEXT.DAT.  
  
 Jeśli `m_ofn.Flags` ma `OFN_ALLOWMULTISELECT` ustawiona flaga, ten ciąg zawiera sekwencję o wartości null teminated ciągów, pierwszy ciąg jest ścieżka katalogu grupy plików zaznaczone, oraz nazwy wszystkie pliki wybrane przez użytkownika. Z tego powodu, użyj [GetStartPosition](#getstartposition) i [GetNextPathName](#getnextpathname) funkcji elementów członkowskich do pobrania następnej nazwy pliku na liście.  
  
### <a name="example"></a>Przykład  
  Zobacz przykład [CFileDialog::DoModal](#domodal).  
  
##  <a name="getreadonlypref"></a>  CFileDialog::GetReadOnlyPref  
 Wywołanie tej funkcji w celu ustalenia, czy zaznaczono pole wyboru tylko do odczytu w systemie Windows standardowe Otwórz plik i Zapisz plik jako oknach dialogowych.  
  
```  
BOOL GetReadOnlyPref() const;  
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Niezerowa zaznaczenie pola wyboru tylko do odczytu w oknie dialogowym; w przeciwnym razie 0.  
  
### <a name="remarks"></a>Uwagi  
 Można ukryć pola wyboru tylko do odczytu, ustawiając `OFN_HIDEREADONLY` stylu w `CFileDialog` konstruktora.  
  
> [!NOTE]
> Windows Vista lub nowszym stylu `CFileDialog` obiekty nie obsługują tej funkcji. Podjęto próbę użycia tej funkcji na system Windows Vista lub nowszym stylu `CFileDialog` zgłosi [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md).   
  
##  <a name="getresult"></a>  CFileDialog::GetResult  
 Pobiera wybór użytkownika wprowadzone w oknie dialogowym.  
  
```  
IShellItem* GetResult() throw();
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Wskaźnik do IShellItem, który reprezentuje wybrany przez użytkownika.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="getresults"></a>  CFileDialog::GetResults  
 Pobiera użytkownika opcje w oknie dialogowym, który umożliwia wybór wielokrotny.  
  
```  
IShellItemArray* GetResults() throw();
```  
  
### <a name="return-value"></a>Wartość zwracana  
 Wskaźnik do IShellItemArray za pomocą którego elementy wybrane w oknie dialogowym są dostępne.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="getselectedcontrolitem"></a>  CFileDialog::GetSelectedControlItem  
 Pobiera konkretny element z określonym kontenerze formantu w oknie dialogowym.  
  
```  
HRESULT GetSelectedControlItem(
    DWORD dwIDCtl,  
    DWORD& dwIDItem);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu kontenera.  
  
 `dwIDItem`  
 Identyfikator elementu zaznaczonego w formancie użytkownika.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="getstartposition"></a>  CFileDialog::GetStartPosition  
 Wywołanie tej funkcji Członkowskich pobrać położenie pierwszego nazwa ścieżki pliku na liście, jeśli `m_ofn.Flags` ma `OFN_ALLOWMULTISELECT` Flaga.  
  
```  
POSITION GetStartPosition() const;  
```  
  
### <a name="return-value"></a>Wartość zwracana  
 A **pozycji** wartość, która może służyć do iteracji; **NULL** Jeśli lista jest pusta.  
  
##  <a name="hidecontrol"></a>  CFileDialog::HideControl  
 Wywołanie tej funkcji elementu członkowskiego, aby ukryć określony formant w stylu Eksploratora Otwórz lub Zapisz jako wspólne okno dialogowe.  
  
```  
void HideControl(int nID);
```  
  
### <a name="parameters"></a>Parametry  
 `nID`  
 Identyfikator formantu, aby ukryć.  
  
### <a name="remarks"></a>Uwagi  
 Okno dialogowe muszą być utworzone z **OFN_EXPLORER** styl; w przeciwnym razie funkcja zakończy się niepowodzeniem z potwierdzeniem.  
  
##  <a name="ispickfoldersmode"></a>  CFileDialog::IsPickFoldersMode  
 Określa, czy bieżące okno jest w trybie selektora folderu.  
  
```  
BOOL IsPickFoldersMode() const;  
```  
  
### <a name="return-value"></a>Wartość zwracana  
 `TRUE` Jeśli okno jest w trybie selektora folderu; w przeciwnym razie `FALSE`.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="m_ofn"></a>  CFileDialog::m_ofn  
 `m_ofn` jest to struktura typu `OPENFILENAME`. Bieżący stan reprezentuje dane w tej strukturze `CFileDialog`.  
  
### <a name="remarks"></a>Uwagi  
 Ta struktura jest używana do zainicjowania wygląd **Otwórz plik** lub **Zapisz plik jako** po go utworzyć, ale przed wyświetleniem go przy użyciu okna dialogowego [DoModal](#domodal) metody. Na przykład można ustawić `lpstrTitle` członkiem `m_ofn` podpis ma okno dialogowe, aby mieć.  
  
 Z systemu Windows Vista lub nowszym styl [CFileDialog](../../mfc/reference/cfiledialog-class.md), `m_ofn` nie musi zawsze odpowiadać stanu okna dialogowego. Jest on zsynchronizowany z okna dialogowego w starszych wersjach systemu Windows. Zobacz [CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog) i [CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog) Aby uzyskać więcej informacji na temat synchronizowania `m_ofn` struktury i `CFileDialog` stanu w systemie Windows Vista lub nowszym.  
  
 Windows Vista lub nowszy styl okna dialogowe pliku nie obsługują niektórych elementów członkowskich i flagi z `CFileDialog`. W związku z tym te nie wpłyną.  
  
 Oto lista elementów członkowskich, które nie są obsługiwane przez system Windows Vista lub nowszy:  
  
- `lpstrCustomFilter`  
  
- `lpstrInitialDir`  
  
- `lCustData`  
  
- `lpfnHook`  
  
- `lpTemplateName`  
  
 Następujące flagi nie są obsługiwane i dlatego nie mają wpływu korzystając z systemu Windows Vista lub nowszym styl `CFileDialog`:  
  
-   OFN_ENABLEHOOK  
  
-   OFN_ENABLEINCLUDENOTIFY  
  
-   OFN_ENABLETEMPLATE  
  
-   OFN_ENABLETEMPLATEHANDLE  
  
-   OFN_EXPLORER  
  
-   OFN_EXTENSIONDIFFERENT  
  
-   OFN_HIDEREADONLY  
  
-   OFN_LONGNAMES - skutecznie zawsze na w systemie Windows Vista lub nowszy  
  
-   OFN_NOLONGNAMES - skutecznie zawsze wyłączone w systemie Windows Vista lub nowszy  
  
-   OFN_NONETWORKBUTTON - skutecznie zawsze na w systemie Windows Vista lub nowszy  
  
-   OFN_READONLY  
  
-   OFN_SHOWHELP  
  
 Aby uzyskać więcej informacji na temat tej struktury, zobacz [OPENFILENAME](http://msdn.microsoft.com/library/windows/desktop/ms646839) struktury w zestawie Windows SDK.  
  
##  <a name="makeprominent"></a>  CFileDialog::MakeProminent  
 Miejsca formantu w oknie dialogowym, aby wyróżnić w porównaniu do innych kontrolek.  
  
```  
HRESULT MakeProminent(DWORD dwIDCtl);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="onbuttonclicked"></a>  CFileDialog::OnButtonClicked  
 Wywoływane, gdy przycisk zostanie kliknięty.  
  
```  
virtual void OnButtonClicked(DWORD dwIDCtl);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator przycisku.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="oncheckbuttontoggled"></a>  CFileDialog::OnCheckButtonToggled  
 Wywoływane, gdy pole wyboru jest zaznaczone lub zaznaczenie opcji.  
  
```  
virtual void OnCheckButtonToggled(
    DWORD dwIDCtl,  
    BOOL bChecked);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator pola wyboru.  
  
 `bChecked`  
 Zaznaczać lub usuwać zaznaczenia.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="oncontrolactivating"></a>  CFileDialog::OnControlActivating  
 Wywoływane, gdy formant jest uaktywniony.  
  
```  
virtual void OnControlActivating(DWORD dwIDCtl);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="onfilenamechange"></a>  CFileDialog::OnFileNY` `zmiany  
 Przesłonić tę metodę, jeśli chcesz obsługiwać `WM_NOTIFY` `CDN_SELCHANGE` wiadomości.  
  
```  
virtual void OnFileNameChange();
```  
  
### <a name="remarks"></a>Uwagi  
 Wysyła system `CDN_SELCHANGE` wiadomości, gdy użytkownik wybierze nowy plik lub folder na liście plików **Otwórz** lub **Zapisz jako** okno dialogowe. Należy przesłonić tę metodę, jeśli chcesz wykonać żadnych innych akcji w odpowiedzi na tę wiadomość.  
  
 Tylko wtedy, gdy okno dialogowe został utworzony przy użyciu flagi OFN_EXPLORER włączone, system wysyła tę wiadomość. Aby uzyskać więcej informacji o powiadomieniach, zobacz [CDN_SELCHANGE](http://msdn.microsoft.com/library/windows/desktop/ms646865). Informacji o flagi OFN_EXPLORER znajduje się w temacie [OPENFILENAME](http://msdn.microsoft.com/library/windows/desktop/ms646839) struktury i [Otwórz i Zapisz jako okien dialogowych](http://msdn.microsoft.com/library/windows/desktop/ms646960).  
  
##  <a name="onfilenameok"></a>  CFileDialog::OnFileNameOK  
 Należy przesłonić tę funkcję tylko wtedy, gdy chcesz zapewnić niestandardowego sprawdzania poprawności nazw plików, które są wprowadzane do typowych okno dialogowe pliku.  
  
```  
virtual BOOL OnFileNameOK();
```  
  
### <a name="return-value"></a>Wartość zwracana  
 1, jeśli nazwa pliku nie jest prawidłową nazwą pliku; w przeciwnym razie 0.  
  
### <a name="remarks"></a>Uwagi  
 Ta funkcja umożliwia odrzucanie pliku jakiegokolwiek powodu specyficzne dla aplikacji. Zwykle nie trzeba użyć tej funkcji, ponieważ w ramach udostępnia domyślnego procesu sprawdzania poprawności nazw plików i wyświetla komunikat, jeśli podano nieprawidłową nazwę pliku.  
  
 Jeśli zostanie zwrócony 1, okno dialogowe będą nadal wyświetlane użytkownikowi wprowadź inną nazwę pliku. Procedury okna dialogowego odrzuci okna dialogowego, gdy zwracany jest równa 0. Inne niezerową zwracać wartości są obecnie jest zastrzeżona i nie powinna być używana.  
  
##  <a name="onfolderchange"></a>  CFileDialog::OnFolderChange  
 Zastąpienie tej funkcji do obsługi **WM_NOTIFYCDN_FOLDERCHANGE** wiadomości.  
  
```  
virtual void OnFolderChange();
```  
  
### <a name="remarks"></a>Uwagi  
 Komunikat powiadomienia są wysyłane po otwarciu nowy folder w oknie dialogowym Otwórz lub Zapisz jako.  
  
 Powiadomienie jest wysyłane tylko wtedy, gdy okno dialogowe został utworzony przy użyciu stylu OFN_EXPLORER. Aby uzyskać więcej informacji o powiadomieniach, zobacz [CDN_FOLDERCHANGE](http://msdn.microsoft.com/library/windows/desktop/ms646859). Informacje o stylu OFN_EXPLORER znajdują się w temacie [OPENFILENAME](http://msdn.microsoft.com/library/windows/desktop/ms646839) struktury i [Otwórz i Zapisz jako okien dialogowych](http://msdn.microsoft.com/library/windows/desktop/ms646960).  
  
##  <a name="oninitdone"></a>  CFileDialog::OnInitDone  
 Zastąpienie tej funkcji do obsługi `WM_NOTIFY` `CDN_INITDONE` wiadomości.  
  
```  
virtual void OnInitDone();
```  
  
### <a name="remarks"></a>Uwagi  
 System wysyła tę wiadomość powiadomienia, gdy system zakończy rozmieszczanie formantów w **Otwórz** lub **Zapisz jako** okno dialogowe, aby zwolnić miejsce dla formantów okna dialogowego podrzędnych.  
  
 System wysyła tę opcję tylko wtedy, gdy okno dialogowe został utworzony przy użyciu stylu OFN_EXPLORER. Aby uzyskać więcej informacji o powiadomieniach, zobacz [CDN_INITDONE](http://msdn.microsoft.com/library/windows/desktop/ms646863). Informacje o stylu OFN_EXPLORER znajdują się w temacie [OPENFILENAME](http://msdn.microsoft.com/library/windows/desktop/ms646839) struktury i [Otwórz i Zapisz jako okien dialogowych](http://msdn.microsoft.com/library/windows/desktop/ms646960).  
  
> [!NOTE]
> Windows Vista lub nowszy styl okna dialogowe pliku nie obsługują tej funkcji. Podjęto próbę użycia tej funkcji w systemie Windows Vista lub nowszym styl okna dialogowego pliku zgłosi [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md). 
  
##  <a name="onitemselected"></a>  CFileDialog::OnItemSelected  
 Wywołuje się po wybraniu elementu kontenera.  
  
```  
virtual void OnItemSelected(
    DWORD dwIDCtl,  
    DWORD dwIDItem);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu kontenera.  
  
 `dwIDItem`  
 Identyfikator elementu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="onlbselchangednotify"></a>  CFileDialog::OnLBSelChangedNotify  
 Ta funkcja jest wywoływana, gdy bieżące zaznaczenie w pole listy ma zostać zmieniona.  
  
```  
virtual void OnLBSelChangedNotify(
    UINT nIDBox,  
    UINT iCurSel,  
    UINT nCode);
```  
  
### <a name="parameters"></a>Parametry  
 *nIDBox*  
 Identyfikator pola listy lub pola kombi, w którym wystąpił zaznaczenia.  
  
 `iCurSel`  
 Indeks bieżącego zaznaczenia.  
  
 `nCode`  
 Kod powiadamiania kontrolki. Ten parametr musi mieć jedną z następujących wartości:  
  
- **CD_LBSELCHANGE** Określa `iCurSel` jest wybrany element w polu listy pojedynczego wyboru.  
  
- **CD_LBSELSUB** Określa, że `iCurSel` nie jest zaznaczona w polu listy multiselection.  
  
- **CD_LBSELADD** Określa, że `iCurSel` jest zaznaczona w polu listy multiselection.  
  
- **CD_LBSELNOITEMS** Określa, że nie wybrany element znajduje się w polu listy multiselection.  
  
### <a name="remarks"></a>Uwagi  
 Należy przesłonić tę funkcję, by zapewnić niestandardową obsługę zmiany wyboru w polu listy. Na przykład ta funkcja służy do wyświetlania praw dostępu lub data-daty ostatniej modyfikacji każdego pliku użytkownik wybierze.  
  
##  <a name="onshareviolation"></a>  CFileDialog::OnShareViolation  
 Należy przesłonić tę funkcję, by zapewnić niestandardową obsługę naruszeń udziału.  
  
```  
virtual UINT OnShareViolation(LPCTSTR lpszPathName);
```  
  
### <a name="parameters"></a>Parametry  
 `lpszPathName`  
 Ścieżka pliku, w którym wystąpiło naruszenie zasad udostępniania.  
  
### <a name="return-value"></a>Wartość zwracana  
 Jedna z następujących wartości:  
  
- **OFN_SHAREFALLTHROUGH** nazwa pliku jest zwracana z okna dialogowego.  
  
- **OFN_SHARENOWARN** żadne dalsze działania należy podjąć.  
  
- **OFN_SHAREWARN** użytkownik otrzymuje standardowy komunikat ostrzegawczy dotyczący tego błędu.  
  
### <a name="remarks"></a>Uwagi  
 Zwykle nie trzeba używać tej funkcji, ponieważ w ramach udostępnia domyślne sprawdzanie naruszeń udziału i wyświetla komunikat, jeśli występuje naruszenie zasad współużytkowania.  
  
 Jeśli chcesz wyłączyć sprawdzanie naruszenie udziału, umożliwia łączenie flagę bitowy operator OR **OFN_SHAREAWARE** z `m_ofn.Flags`.  
  
##  <a name="ontypechange"></a>  CFileDialog::OnTypeChange  
 Zastąpienie tej funkcji do obsługi **WM_NOTIFYCDN_TYPECHANGE** wiadomości.  
  
```  
virtual void OnTypeChange();
```  
  
### <a name="remarks"></a>Uwagi  
 Komunikat powiadomienia są wysyłane, gdy użytkownik wybierze nowy typ pliku na liście typów plików w Otwórz lub Zapisz jako okno dialogowe.  
  
 Powiadomienie jest wysyłane tylko wtedy, gdy okno dialogowe został utworzony przy użyciu stylu OFN_EXPLORER. Aby uzyskać więcej informacji o powiadomieniach, zobacz [CDN_TYPECHANGE](http://msdn.microsoft.com/library/windows/desktop/ms646868). Informacje o stylu OFN_EXPLORER znajdują się w temacie [OPENFILENAME](http://msdn.microsoft.com/library/windows/desktop/ms646839) struktury i [Otwórz i Zapisz jako okien dialogowych](http://msdn.microsoft.com/library/windows/desktop/ms646960).  
  
##  <a name="removecontrolitem"></a>  CFileDialog::RemoveControlItem  
 Usuwa element z formantu kontenera, w oknie dialogowym.  
  
```  
HRESULT RemoveControlItem(
    DWORD dwIDCtl,  
    DWORD dwIDItem);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu kontenera, aby usunąć element z.  
  
 `dwIDItem`  
 Identyfikator elementu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="setcheckbuttonstate"></a>  CFileDialog::SetCheckButtonState  
 Ustawia bieżący stan przycisku wyboru (pole wyboru) w oknie dialogowym.  
  
```  
HRESULT SetCheckButtonState(
    DWORD dwIDCtl,  
    BOOL bChecked);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator pola wyboru.  
  
 `bChecked`  
 Stan pola wyboru. `TRUE` Wskazuje zaznaczone; `FALSE` wskazuje niezaznaczone.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="setcontrolitemstate"></a>  CFileDialog::SetControlItemState  
 Ustawia bieżący stan elementu w kontenerze formantu znajdującego się w oknie dialogowym.  
  
```  
HRESULT SetControlItemState(
    DWORD dwIDCtl,  
    DWORD dwIDItem,  
    CDCONTROLSTATEF dwState);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu kontenera.  
  
 `dwIDItem`  
 Identyfikator elementu.  
  
 `dwState`  
 Co najmniej jedna wartość z wyliczenia CDCONTROLSTATE wskazujące nowy stan formantu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="setcontrolitemtext"></a>  CFileDialog::SetControlItemText  
 Ustawia tekst elementu kontroli. Na przykład tekst, który towarzyszy przycisku radiowego lub element menu.  
  
```  
HRESULT SetControlItemText(
    DWORD dwIDCtl,  
    DWORD dwIDItem,  
    const CString& strLabel);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu kontenera.  
  
 `dwIDItem`  
 Identyfikator elementu.  
  
 `strLabel`  
 Tekst elementu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="setcontrollabel"></a>  CFileDialog::SetControlLabel  
 Ustawia tekst skojarzony z formantem, takich jak tekst przycisku lub Edytuj etykietę pola.  
  
```  
HRESULT SetControlLabel(
    DWORD dwIDCtl,  
    const CString& strLabel);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu.  
  
 `strLabel`  
 Nazwa kontrolki.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="setcontrolstate"></a>  CFileDialog::SetControlState  
 Ustawia bieżący widoczność i włączone stanów danego formantu.  
  
```  
HRESULT SetControlState(
    DWORD dwIDCtl,  
    CDCONTROLSTATEF dwState);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu.  
  
 `dwState`  
 Co najmniej jedna wartość z wyliczenia CDCONTROLSTATE, które wskazują bieżący stan formantu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="setcontroltext"></a>  CFileDialog::SetControlText  
 Wywołanie tej metody, aby ustawić tekst formantu określony w stylu Eksploratora **Otwórz** lub **Zapisz jako** okno dialogowe.  
  
```  
void SetControlText(
    int nID,  
    LPCSTR lpsz);

 
void SetControlText(
    int nID,  
    const wchar_t *lpsz);
```  
  
### <a name="parameters"></a>Parametry  
 [in] `nID`  
 Identyfikator formantu, do których chcesz ustawić tekst.  
  
 [in] `lpsz`  
 Wskaźnik do ciąg zawierający tekst, który ma wartość dla formantu.  
  
### <a name="remarks"></a>Uwagi  
 Obie wersje tej funkcji są prawidłowe dla aplikacji używających Unicode. Jednak tylko wersję z typem LPCSTR jest prawidłowy dla aplikacji używających [!INCLUDE[vcpransi](../../atl-mfc-shared/reference/includes/vcpransi_md.md)].  
  
 Aby użyć tej metody, należy utworzyć przy użyciu stylu OFN_EXPLORER okno dialogowe. W przeciwnym razie funkcja zakończy się niepowodzeniem z potwierdzeniem.  
  
##  <a name="setdefext"></a>  CFileDialog::SetDefExt  
 Wywołanie tej funkcji, aby ustawić domyślne rozszerzenie nazwy pliku stylu Eksploratora Otwórz lub Zapisz jako wspólne okno dialogowe.  
  
```  
void SetDefExt(LPCSTR lpsz);
```  
  
### <a name="parameters"></a>Parametry  
 `lpsz`  
 Wskaźnik do ciąg zawierający domyślne rozszerzenie dla obiekt okno dialogowe. Ten ciąg nie może zawierać kropki (.).  
  
### <a name="remarks"></a>Uwagi  
 Okno dialogowe muszą być utworzone z **OFN_EXPLORER** styl; w przeciwnym razie funkcja zakończy się niepowodzeniem z potwierdzeniem.  
  
##  <a name="seteditboxtext"></a>  CFileDialog::SetEditBoxText  
 Ustawia bieżący tekst w formancie pola edycji.  
  
```  
HRESULT SetEditBoxText(
    DWORD dwIDCtl,  
    const CString& strText);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator pola edycji.  
  
 `strText`  
 Wartość tekstu.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="setproperties"></a>  CFileDialog::SetProperties  
 Udostępnia Magazyn właściwości, który definiuje wartości domyślnych do użycia dla elementu zapisywany.  
  
```  
BOOL SetProperties(LPCWSTR lpszPropList);
```  
  
### <a name="parameters"></a>Parametry  
 `lpszPropList`  
 Listy wstępnie zdefiniowanych właściwości oddzielonymi znakiem ";". Aby uzyskać listę flag, zobacz `Flags` sekcji [OPENFILENAME](http://msdn.microsoft.com/en-us/8cecfd45-f7c1-4f8d-81a0-4e7fecc3b104).  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="setselectedcontrolitem"></a>  CFileDialog::SetSelectedControlItem  
 Ustawia stan zaznaczenia danego elementu w grupie przycisk opcji lub pole kombi w oknie dialogowym.  
  
```  
HRESULT SetSelectedControlItem(
    DWORD dwIDCtl,  
    DWORD dwIDItem);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator formantu kontenera.  
  
 `dwIDItem`  
 Identyfikator elementu zaznaczonego w formancie użytkownika.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="settemplate"></a>  CFileDialog::SetTemplate  
 Ustawia szablon okno dialogowe [CFileDialog](../../mfc/reference/cfiledialog-class.md) obiektu.  
  
```  
void SetTemplate(
    UINT nWin3ID,  
    UINT nWin4ID);

 
void SetTemplate(
    LPCTSTR lpWin3ID,  
    LPCTSTR lpWin4ID);
```  
  
### <a name="parameters"></a>Parametry  
 [in] `nWin3ID`  
 Zawiera identyfikator zasobu szablon z systemem innym niż Eksploratora `CFileDialog` obiektu. Ten szablon jest używana tylko w systemie Windows NT 3.51 lub styl OFN_EXPLORER nie jest obecny.  
  
 [in] `nWin4ID`  
 Zawiera identyfikator zasobu szablon Eksploratora `CFileDialog` obiektu. Ten szablon jest używany tylko w systemie [!INCLUDE[WinNt4Family](../../mfc/reference/includes/winnt4family_md.md)] i nowszy, system operacyjny Windows 95 i nowszych wersjach, lub gdy styl OFN_EXPLORER jest obecny.  
  
 [in] `lpWin3ID`  
 Zawiera nazwę zasobu szablon z systemem innym niż Eksploratora `CFileDialog` obiektu. Ten szablon jest używana tylko w systemie Windows NT 3.51 lub styl OFN_EXPLORER nie jest obecny.  
  
 [in] `lpWin4ID`  
 Zawiera nazwę zasobu szablon Eksploratora `CFileDialog` obiektu. Ten szablon jest używany tylko w systemie [!INCLUDE[WinNt4Family](../../mfc/reference/includes/winnt4family_md.md)] i nowszy, system operacyjny Windows 95 i nowszych wersjach, lub gdy styl OFN_EXPLORER jest obecny.  
  
### <a name="remarks"></a>Uwagi  
 System będzie używać tylko jednej określonej szablonów. System sprawdza, jaki szablon zostanie użyty na podstawie obecności styl OFN_EXPLORER i systemu operacyjnego działającej aplikacji. Określając zarówno z systemem innym niż Eksploratora i szablon stylu Eksploratora jest łatwa do obsługi systemu Windows NT 3.51 [!INCLUDE[WinNt4Family](../../mfc/reference/includes/winnt4family_md.md)] i nowszych wersjach oraz Windows 95 i nowszych wersjach.  
  
> [!NOTE]
> Windows Vista lub nowszym stylu pliku okien dialogowych nie obsługują tej funkcji. Podjęto próbę użycia tej funkcji w systemie Windows Vista lub nowszej styl plik — okno dialogowe zgłosi [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md). Alternatywą jest przy użyciu dostosowanych okna dialogowego. Aby uzyskać więcej informacji o korzystaniu z niestandardowego `CFileDialog`, zobacz [IFileDialogCustomize](http://msdn.microsoft.com/library/windows/desktop/bb775912).  
  
##  <a name="startvisualgroup"></a>  CFileDialog::StartVisualGroup  
 Deklaruje visual grupy w oknie dialogowym. Kolejne wywołania do dowolnej metody "add" Dodaj tych elementów do tej grupy.  
  
```  
HRESULT StartVisualGroup(
    DWORD dwIDCtl,  
    const CString& strLabel);
```  
  
### <a name="parameters"></a>Parametry  
 `dwIDCtl`  
 Identyfikator grupy visual.  
  
 `strLabel`  
 Nazwa grupy.  
  
### <a name="remarks"></a>Uwagi  
  
##  <a name="updateofnfromshelldialog"></a>  CFileDialog::UpdateOFNFromShellDialog  
 Aktualizacje `m_ofn` struktura danych [CFileDialog](../../mfc/reference/cfiledialog-class.md) na podstawie bieżącego stanu obiektu wewnętrznego.  
  
```  
void UpdateOFNFromShellDialog();
```  
  
### <a name="remarks"></a>Uwagi  
 W wersjach systemu Windows przed Windows Vista, element członkowski [OPENFILENAME](https://msdn.microsoft.com/library/ms911906.aspx) struktury danych stale został zsynchronizowany ze stanem `CFileDialog`. Zmiany wprowadzone w [m_ofn](#m_ofn) zmiennej członkowskiej bezpośrednio dotyczy stanu okna dialogowego. Ponadto wszelkie zmiany stanu okna dialogowego od razu aktualizowany zmiennej członkowskiej m_ofn.  
  
 W systemie Windows Vista lub nowszym `m_ofn` struktura danych nie jest aktualizowana automatycznie. Aby zagwarantować dokładności danych w `m_ofn` zmiennej członkowskiej, należy wywołać `UpdateOFNFromShellDialog` funkcja przed uzyskaniem dostępu do danych. System Windows wywołuje tego funkcja automatycznie podczas przetwarzania [IFileDialog::OnFileOK](http://msdn.microsoft.com/library/windows/desktop/bb775879).  
  
 Aby uzyskać więcej informacji o sposobie używania `CFileDialog` klas w systemie Windows Vista lub nowszy, odwiedź [CFileDialog klasy](../../mfc/reference/cfiledialog-class.md).  
  
### <a name="example"></a>Przykład  
 W tym przykładzie aktualizuje `CFileDialog` przed wyświetleniem go. Przed zaktualizowaniem `m_ofn` zmiennej członkowskiej, musimy ją do bieżącego stanu okna dialogowego zsynchronizować.  
  
 [!code-cpp[NVC_MFC_CFileDialog#1](../../mfc/reference/codesnippet/cpp/cfiledialog-class_7.cpp)]  
  
## <a name="see-also"></a>Zobacz też  
 [Klasa CCommonDialog](../../mfc/reference/ccommondialog-class.md)   
 [Wykres hierarchii](../../mfc/hierarchy-chart.md)

