---
title: Klasa CFileDialog
ms.date: 11/04/2016
f1_keywords:
- CFileDialog
- AFXDLGS/CFileDialog
- AFXDLGS/CFileDialog::CFileDialog
- AFXDLGS/CFileDialog::AddCheckButton
- AFXDLGS/CFileDialog::AddComboBox
- AFXDLGS/CFileDialog::AddControlItem
- AFXDLGS/CFileDialog::AddEditBox
- AFXDLGS/CFileDialog::AddMenu
- AFXDLGS/CFileDialog::AddPlace
- AFXDLGS/CFileDialog::AddPushButton
- AFXDLGS/CFileDialog::AddRadioButtonList
- AFXDLGS/CFileDialog::AddSeparator
- AFXDLGS/CFileDialog::AddText
- AFXDLGS/CFileDialog::ApplyOFNToShellDialog
- AFXDLGS/CFileDialog::DoModal
- AFXDLGS/CFileDialog::EnableOpenDropDown
- AFXDLGS/CFileDialog::EndVisualGroup
- AFXDLGS/CFileDialog::GetCheckButtonState
- AFXDLGS/CFileDialog::GetControlItemState
- AFXDLGS/CFileDialog::GetControlState
- AFXDLGS/CFileDialog::GetEditBoxText
- AFXDLGS/CFileDialog::GetFileExt
- AFXDLGS/CFileDialog::GetFileName
- AFXDLGS/CFileDialog::GetFileTitle
- AFXDLGS/CFileDialog::GetFolderPath
- AFXDLGS/CFileDialog::GetIFileDialogCustomize
- AFXDLGS/CFileDialog::GetIFileOpenDialog
- AFXDLGS/CFileDialog::GetIFileSaveDialog
- AFXDLGS/CFileDialog::GetNextPathName
- AFXDLGS/CFileDialog::GetOFN
- AFXDLGS/CFileDialog::GetPathName
- AFXDLGS/CFileDialog::GetReadOnlyPref
- AFXDLGS/CFileDialog::GetResult
- AFXDLGS/CFileDialog::GetResults
- AFXDLGS/CFileDialog::GetSelectedControlItem
- AFXDLGS/CFileDialog::GetStartPosition
- AFXDLGS/CFileDialog::HideControl
- AFXDLGS/CFileDialog::IsPickFoldersMode
- AFXDLGS/CFileDialog::MakeProminent
- AFXDLGS/CFileDialog::RemoveControlItem
- AFXDLGS/CFileDialog::SetCheckButtonState
- AFXDLGS/CFileDialog::SetControlItemState
- AFXDLGS/CFileDialog::SetControlItemText
- AFXDLGS/CFileDialog::SetControlLabel
- AFXDLGS/CFileDialog::SetControlState
- AFXDLGS/CFileDialog::SetControlText
- AFXDLGS/CFileDialog::SetDefExt
- AFXDLGS/CFileDialog::SetEditBoxText
- AFXDLGS/CFileDialog::SetProperties
- AFXDLGS/CFileDialog::SetSelectedControlItem
- AFXDLGS/CFileDialog::SetTemplate
- AFXDLGS/CFileDialog::StartVisualGroup
- AFXDLGS/CFileDialog::UpdateOFNFromShellDialog
- AFXDLGS/CFileDialog::OnButtonClicked
- AFXDLGS/CFileDialog::OnCheckButtonToggled
- AFXDLGS/CFileDialog::OnControlActivating
- AFXDLGS/CFileDialog::OnFileNameChange
- AFXDLGS/CFileDialog::OnFileNameOK
- AFXDLGS/CFileDialog::OnFolderChange
- AFXDLGS/CFileDialog::OnInitDone
- AFXDLGS/CFileDialog::OnItemSelected
- AFXDLGS/CFileDialog::OnLBSelChangedNotify
- AFXDLGS/CFileDialog::OnShareViolation
- AFXDLGS/CFileDialog::OnTypeChange
- AFXDLGS/CFileDialog::m_ofn
helpviewer_keywords:
- CFileDialog [MFC], CFileDialog
- CFileDialog [MFC], AddCheckButton
- CFileDialog [MFC], AddComboBox
- CFileDialog [MFC], AddControlItem
- CFileDialog [MFC], AddEditBox
- CFileDialog [MFC], AddMenu
- CFileDialog [MFC], AddPlace
- CFileDialog [MFC], AddPushButton
- CFileDialog [MFC], AddRadioButtonList
- CFileDialog [MFC], AddSeparator
- CFileDialog [MFC], AddText
- CFileDialog [MFC], ApplyOFNToShellDialog
- CFileDialog [MFC], DoModal
- CFileDialog [MFC], EnableOpenDropDown
- CFileDialog [MFC], EndVisualGroup
- CFileDialog [MFC], GetCheckButtonState
- CFileDialog [MFC], GetControlItemState
- CFileDialog [MFC], GetControlState
- CFileDialog [MFC], GetEditBoxText
- CFileDialog [MFC], GetFileExt
- CFileDialog [MFC], GetFileName
- CFileDialog [MFC], GetFileTitle
- CFileDialog [MFC], GetFolderPath
- CFileDialog [MFC], GetIFileDialogCustomize
- CFileDialog [MFC], GetIFileOpenDialog
- CFileDialog [MFC], GetIFileSaveDialog
- CFileDialog [MFC], GetNextPathName
- CFileDialog [MFC], GetOFN
- CFileDialog [MFC], GetPathName
- CFileDialog [MFC], GetReadOnlyPref
- CFileDialog [MFC], GetResult
- CFileDialog [MFC], GetResults
- CFileDialog [MFC], GetSelectedControlItem
- CFileDialog [MFC], GetStartPosition
- CFileDialog [MFC], HideControl
- CFileDialog [MFC], IsPickFoldersMode
- CFileDialog [MFC], MakeProminent
- CFileDialog [MFC], RemoveControlItem
- CFileDialog [MFC], SetCheckButtonState
- CFileDialog [MFC], SetControlItemState
- CFileDialog [MFC], SetControlItemText
- CFileDialog [MFC], SetControlLabel
- CFileDialog [MFC], SetControlState
- CFileDialog [MFC], SetControlText
- CFileDialog [MFC], SetDefExt
- CFileDialog [MFC], SetEditBoxText
- CFileDialog [MFC], SetProperties
- CFileDialog [MFC], SetSelectedControlItem
- CFileDialog [MFC], SetTemplate
- CFileDialog [MFC], StartVisualGroup
- CFileDialog [MFC], UpdateOFNFromShellDialog
- CFileDialog [MFC], OnButtonClicked
- CFileDialog [MFC], OnCheckButtonToggled
- CFileDialog [MFC], OnControlActivating
- CFileDialog [MFC], OnFileNameChange
- CFileDialog [MFC], OnFileNameOK
- CFileDialog [MFC], OnFolderChange
- CFileDialog [MFC], OnInitDone
- CFileDialog [MFC], OnItemSelected
- CFileDialog [MFC], OnLBSelChangedNotify
- CFileDialog [MFC], OnShareViolation
- CFileDialog [MFC], OnTypeChange
- CFileDialog [MFC], m_ofn
ms.assetid: fda4fd3c-08b8-4ce0-8e9d-7bab23f8c6c0
ms.openlocfilehash: 197dec23b4c715b0bca35976f9fa53a055cdd78f
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/14/2020
ms.locfileid: "81373904"
---
# <a name="cfiledialog-class"></a>Klasa CFileDialog

Hermetyzuje typowe okno dialogowe używane do operacji otwierania plików lub zapisywania plików.

## <a name="syntax"></a>Składnia

```
class CFileDialog : public CCommonDialog
```

## <a name="members"></a>Elementy członkowskie

### <a name="public-constructors"></a>Konstruktory publiczne

|Nazwa|Opis|
|----------|-----------------|
|[CFileDialog::CFileDialog](#cfiledialog)|Konstruuje `CFileDialog` obiekt.|

### <a name="public-methods"></a>Metody publiczne

|Nazwa|Opis|
|----------|-----------------|
|[CFileDialog::AddCheckButton](#addcheckbutton)|Dodaje przycisk wyboru do okna dialogowego.|
|[CFileDialog::AddComboBox](#addcombobox)|Dodaje pole kombi do okna dialogowego.|
|[CFileDialog::AddControlItem](#addcontrolitem)|Dodaje element do formantu kontenera w oknie dialogowym.|
|[CFileDialog::AddEditBox](#addeditbox)|Dodaje pole edycji do okna dialogowego.|
|[CFileDialog::Dodajmenu](#addmenu)|Dodaje menu do okna dialogowego.|
|[CFileDialog::AddPlace](#addplace)|Przeciążone. Dodaje folder do listy miejsc dostępnych dla użytkownika do otwierania lub zapisywania elementów.|
|[CFileDialog::AddPushButton](#addpushbutton)|Dodaje przycisk do okna dialogowego.|
|[CFileDialog::AddRadioButtonList](#addradiobuttonlist)|Dodaje do okna dialogowego grupę przycisku opcji (zwana również przyciskiem opcji).|
|[CFileDialog::AddSeparator](#addseparator)|Dodaje separator do okna dialogowego.|
|[CFileDialog::AddText](#addtext)|Dodaje zawartość tekstową do okna dialogowego.|
|[CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog)|Aktualizuje stan, `CFileDialog` aby dopasować parametry i `m_ofn` flagi przechowywane w zmiennej członkowskiej.|
|[CFileDialog::DoModal](#domodal)|Wyświetla okno dialogowe i umożliwia użytkownikowi dokonanie wyboru.|
|[CFileDialog::EnableOpenDropDown](#enableopendropdown)|Włącza listę rozwijaną przycisku **Otwórz** lub **Zapisz** w oknie dialogowym.|
|[CFileDialog::EndVisualGroup](#endvisualgroup)|Zatrzymuje dodawanie elementów do grupy wizualnej w oknie dialogowym.|
|[CFileDialog::GetCheckButtonState](#getcheckbuttonstate)|Pobiera bieżący stan przycisku wyboru (pole wyboru) w oknie dialogowym.|
|[CFileDialog::GetControlItemState](#getcontrolitemstate)|Pobiera bieżący stan elementu w formancie kontenera znalezione w oknie dialogowym.|
|[CFileDialog::GetControlState](#getcontrolstate)|Pobiera bieżącej widoczności i stanach włączone danego formantu.|
|[CFileDialog::GetEditBoxText](#geteditboxtext)|Pobiera bieżący tekst w formancie pola edycji.|
|[CFileDialog::GetFileExt](#getfileext)|Zwraca rozszerzenie wybranego pliku.|
|[CFileDialog::GetFileName](#getfilename)|Zwraca nazwę pliku wybranego pliku.|
|[CFileDialog::GetFileTitle](#getfiletitle)|Zwraca tytuł wybranego pliku.|
|[CFileDialog::GetFolderPath](#getfolderpath)|Pobiera ścieżkę aktualnie otwartego folderu lub katalogu dla wspólnego okna dialogowego **Otwieranie** lub **zapisywanie jako** typowe okno dialogowe Explorer.|
|[CFileDialog::GetIFileDialogKoszyzowanie](#getifiledialogcustomize)|Pobiera wewnętrzny obiekt COM dla `CFileDialog` dostosowanego obiektu.|
|[CFileDialog::GetIFileOpenDialog](#getifileopendialog)|Pobiera wewnętrzny obiekt COM `CFileDialog` dla okna dialogowego **Otwórz** plik.|
|[CFileDialog::GetIFileSaveDialog](#getifilesavedialog)|Pobiera wewnętrzny obiekt COM `CFileDialog` dla okna dialogowego **Zapisywanie** pliku.|
|[CFileDialog::GetNextPathName](#getnextpathname)|Zwraca pełną ścieżkę następnego wybranego pliku.|
|[CFileDialog::GetOFN](#getofn)|Pobiera strukturę `OPENFILENAME` `CFileDialog` obiektu.|
|[CFileDialog::GetPathName](#getpathname)|Zwraca pełną ścieżkę wybranego pliku.|
|[CFileDialog::GetReadOnlyPref](#getreadonlypref)|Zwraca stan tylko do odczytu wybranego pliku.|
|[CFileDialog::GetResult](#getresult)|Pobiera wybór, który użytkownik dokonał w oknie dialogowym.|
|[CFileDialog::Wyniki](#getresults)|Pobiera wybór użytkownika w oknie dialogowym, który umożliwia wiele wyboru.|
|[CFileDialog::GetSelectedControlItem](#getselectedcontrolitem)|Pobiera określonego elementu z określonych formantów kontenera w oknie dialogowym.|
|[CFileDialog::GetStartPosition](#getstartposition)|Zwraca położenie pierwszego elementu listy nazw plików.|
|[CFileDialog::HideControl](#hidecontrol)|Ukrywa określony formant w typowym oknie dialogowym **Otwieranie** lub **zapisywanie jako** typowe okno dialogowe Explorer.|
|[CFileDialog::IsPickFoldersMode](#ispickfoldersmode)|Określa, czy bieżące okno dialogowe w trybie selektora folderów.|
|[CFileDialog::MakeProminent](#makeprominent)|Umieszcza formant w oknie dialogowym, tak aby wyróżniał się w porównaniu do innych dodatkowych formantów.|
|[CFileDialog::Usuńjkontrola](#removecontrolitem)|Usuwa element z formantu kontenera w oknie dialogowym.|
|[CFileDialog::SetCheckButtonState](#setcheckbuttonstate)|Ustawia bieżący stan przycisku wyboru (pola wyboru) w oknie dialogowym.|
|[CFileDialog::SetControlItemState](#setcontrolitemstate)|Ustawia bieżący stan elementu w formancie kontenera znalezionym w oknie dialogowym.|
|[CFileDialog::SetControlItemText](#setcontrolitemtext)|Ustawia tekst elementu sterującego. Na przykład tekst, który towarzyszy przyciskowi radiowemu lub pozycji w menu.|
|[CFileDialog::SetControlLabel](#setcontrollabel)|Ustawia tekst skojarzony z formantem, taki jak tekst przycisku lub etykieta pola edycji.|
|[CFileDialog::SetControlState](#setcontrolstate)|Ustawia bieżącą widoczność i włączone stany danego formantu.|
|[CFileDialog::SetControlText](#setcontroltext)|Ustawia tekst dla określonego formantu w oknie dialogowym **Otwórz** lub **Zapisz jako** typowy eksplorator.|
|[CFileDialog::SetDefExt](#setdefext)|Ustawia domyślne rozszerzenie nazwy pliku dla wspólnego okna dialogowego **Otwieranie** lub **zapisywanie jako** typowe okno dialogowe Explorer.|
|[CFileDialog::SetEditBoxText](#seteditboxtext)|Ustawia bieżący tekst w formancie pola edycji.|
|[CFileDialog::Właściwości setproperties](#setproperties)|Udostępnia magazyn właściwości, który definiuje wartości domyślne, które mają być używane dla zapisywanego elementu.|
|[CFileDialog::SetSelectedControlItem](#setselectedcontrolitem)|Ustawia wybrany stan określonego elementu w grupie przycisków opcji lub polu kombi znajdującym się w oknie dialogowym.|
|[CFileDialog::SetTemplate](#settemplate)|Ustawia szablon okna dialogowego `CFileDialog` dla obiektu.|
|[CFileDialog::Grupa startvisual](#startvisualgroup)|Deklaruje grupę wizualną w oknie dialogowym. Kolejne wywołania dowolnej metody "add" dodają te elementy do tej grupy.|
|[CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog)|Aktualizuje dane przechowywane `m_ofn` w zmiennej członkowskiej, aby dopasować bieżący stan okna dialogowego pliku.|

### <a name="protected-methods"></a>Metody chronione

|Nazwa|Opis|
|----------|-----------------|
|[CFileDialog::OnButtonClicked](#onbuttonclicked)|Wywoływana po kliknięciu przycisku.|
|[CFileDialog::OnCheckButtonToggled](#oncheckbuttontoggled)|Wywoływane, gdy pole wyboru jest zaznaczone/nie zaznaczone.|
|[CFileDialog::OnControlActivating](#oncontrolactivating)|Wywoływane, gdy formant jest aktywny.|
|[CFileDialog::OnFileNameZnakowanie](#onfilenamechange)|Obsługuje komunikat CDN_SELCHANGE WM_NOTIFY.|
|[CFileDialog::OnFileNameOK](#onfilenameok)|Sprawdza poprawność nazwy pliku wprowadzonej w oknie dialogowym.|
|[CFileDialog::OnFolderChange](#onfolderchange)|Obsługuje komunikat CDN_FOLDERCHANGE WM_NOTIFY.|
|[CFileDialog::OnInitDone](#oninitdone)|Obsługuje komunikat CDN_INITDONE WM_NOTIFY.|
|[CFileDialog::OnItemWybrany](#onitemselected)|Wywoływana, gdy element kontenera jest zaznaczony.|
|[CFileDialog::OnLBSelChangedNotify](#onlbselchangednotify)|Umożliwia wykonywanie akcji niestandardowych po zmianie zaznaczenia pliku.|
|[CFileDialog::OnShareViolation](#onshareviolation)|Obsługuje naruszenia udostępniania.|
|[CFileDialog::OnTypeChange](#ontypechange)|Obsługuje komunikat CDN_TYPECHANGE WM_NOTIFY.|

### <a name="public-data-members"></a>Publiczne elementy członkowskie danych

|Nazwa|Opis|
|----------|-----------------|
|[CFileDialog::m_ofn](#m_ofn)|Struktura `OPENFILENAME` systemu Windows. Zapewnia dostęp do podstawowych parametrów okna dialogowego pliku.|

## <a name="remarks"></a>Uwagi

Typowe okna dialogowe plików umożliwiają implementowanie okien dialogowych wyboru plików, na przykład **Otwórz plik** i **Zapisz jako,** w sposób zgodny ze standardami systemu Windows.

Można użyć, `CFileDialog` jak jest z konstruktora pod warunkiem lub `CFileDialog` można wyprowadzić własną klasę okna dialogowego z i napisać konstruktora do własnych potrzeb. W obu przypadkach te okna dialogowe będą zachowywać się jak standardowe okna dialogowe MFC, ponieważ pochodzą z [klasy CCommonDialog.](../../mfc/reference/ccommondialog-class.md) `CFileDialog`opiera się na COMMDLG. DLL, który znajduje się w systemie Windows.

Zarówno wygląd, jak i `CFileDialog` funkcjonalność systemu Windows Vista lub nowszego różnią się od wcześniejszych wersji systemu Windows. Domyślnie `CFileDialog` nowy styl systemu Windows Vista lub nowszego używa się automatycznie bez zmian kodu, jeśli program jest kompilowany i uruchamiany w systemie Windows Vista lub nowszym. Użyj parametru *bVistaStyle* w konstruktorze, aby ręcznie zastąpić tę automatyczną aktualizację. Wyjątkiem od automatycznej aktualizacji są dostosowane okna dialogowe. Nie zostaną one przekonwertowane na nowy styl. Aby uzyskać więcej informacji na temat konstruktora, zobacz [CFileDialog::CFileDialog](#cfiledialog).

> [!NOTE]
> System identyfikatora sterowania różni się w systemie Windows Vista lub `CFileDialog`nowszym od wcześniejszych wersji systemu Windows podczas korzystania z programu . Należy zaktualizować wszystkie odwołania `CFileDialog` do formantów w kodzie, zanim będzie można przenieść projekt z wcześniejszej wersji systemu Windows.

Niektóre `CFileDialog` metody nie są obsługiwane w systemie Windows Vista lub nowszym. Sprawdź temat poszczególnych metod, aby uzyskać informacje o tym, czy metoda jest obsługiwana. Ponadto następujące funkcje dziedziczone nie są obsługiwane w systemie Windows Vista lub nowszym:

- [CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog)

- [CDialog::OnSetFont](../../mfc/reference/cdialog-class.md#onsetfont)

Komunikaty systemu `CFileDialog` Windows dla klasy różnią się w zależności od używanego systemu operacyjnego. Na przykład system Windows XP nie obsługuje [CDialog::OnCancel](../../mfc/reference/cdialog-class.md#oncancel) i [CDialog::OnOK](../../mfc/reference/cdialog-class.md#onok) dla `CFileDialog` klasy. Jednak windows vista i nowsze systemy operacyjne obsługują je. Aby uzyskać więcej informacji na temat różnych wiadomości, które są generowane i kolejność, w jakiej są odbierane, zobacz [CFileDialog Sample: Logging Event Order](../../overview/visual-cpp-samples.md).

Aby użyć `CFileDialog` obiektu, należy najpierw utworzyć `CFileDialog` obiekt przy użyciu konstruktora. Po skonstruowaniu okna dialogowego można ustawić lub zmodyfikować dowolne wartości w strukturze [CFileDialog::m_ofn,](#m_ofn) aby zainicjować wartości lub stany formantów okna dialogowego. Struktura `m_ofn` jest typu `OPENFILENAME`. Aby uzyskać więcej informacji, zobacz [STRUKTURĘ OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) w windows SDK.

Po zainicjowaniu formantów okna dialogowego należy wywołać metodę [CFileDialog::DoModal,](#domodal) aby wyświetlić okno dialogowe, aby użytkownik mógł wpisać ścieżkę i nazwę pliku. `DoModal`zwraca, czy użytkownik kliknął przycisk OK (IDOK) lub Anuluj (IDCANCEL). Jeśli `DoModal` zwraca IDOK, można użyć `CFileDialog` jednej z publicznych funkcji członkowskich, aby pobrać informacje wprowadzone przez użytkownika.

> [!NOTE]
> W systemie Windows Vista lub nowszym wiele wywołań [do IFileDialog::SetFileTypes](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ifiledialog-setfiletypes) powoduje błąd. Drugie wywołanie `SetFileTypes` dla każdego `CFileDialog` wystąpienia spowoduje zwrócenie E_UNEXPECTED w systemie Windows Vista lub nowszym. Niektóre `CFileDialog` funkcje `SetFileTypes`metody wywołać . Na przykład dwa `CFileDialog::DoModal` wywołania dla tego `CFileDialog` samego wystąpienia generuje [ASSERT](diagnostic-services.md#assert).

`CFileDialog`zawiera kilka chronionych członków, które umożliwiają niestandardową obsługę naruszeń udostępniania, sprawdzanie poprawności nazwy pliku i powiadomienia o zmianie pola listy. Te chronione elementy członkowskie są funkcjami wywołania zwrotnego, których większość aplikacji nie musi używać, ponieważ domyślna obsługa jest wykonywana automatycznie. Wpisy mapy wiadomości dla tych funkcji nie są wymagane, ponieważ są one standardowe funkcje wirtualne.

Za pomocą funkcji [CommDlgExtendedError](/windows/win32/api/commdlg/nf-commdlg-commdlgextendederror) systemu Windows można ustalić, czy wystąpił błąd podczas inicjowania okna dialogowego i dowiedzieć się więcej o błędzie.

Zniszczenie `CFileDialog` obiektów odbywa się automatycznie. Nie musisz wywoływać [CDialog::EndDialog](../../mfc/reference/cdialog-class.md#enddialog).

Aby umożliwić użytkownikowi wybranie wielu plików, przed wywołaniem należy `DoModal`ustawić flagę OFN_ALLOWMULTISELECT . Należy podać własny bufor nazwy pliku, aby pomieścić zwróconą listę wielu nazw plików. Należy to `m_ofn.lpstrFile` zrobić, zastępując wskaźnik do przydzielonego buforu, po skonstruowaniu `CFileDialog`, ale przed wywołaniem `DoModal`.

Ponadto należy ustawić `m_ofn.nMaxFile` przy użyciu liczby znaków w buforze `m_ofn.lpstrFile`wskazywu przez . Jeśli ustawisz maksymalną liczbę plików, które mają zostać wybrane, `n`wymagany rozmiar buforu to `n * (_MAX_PATH + 1) + 1`. Pierwszym elementem zwróconym w buforze jest ścieżka do folderu, w którym zostały wybrane pliki. W oknach dialogowych systemu Windows Vista lub nowszych ciągi dialogowe katalogu i nazwy plików są zakończone z wartością null, z dodatkowym znakiem null po nazwie ostatniego pliku. Ten format umożliwia okno dialogowe w stylu Eksploratora zwracanie długich nazw plików, które zawierają spacje. W przypadku okien dialogowych starego stylu ciągi katalogów i nazw plików są oddzielone spacjami, a funkcja używa krótkich nazw plików dla nazw plików ze spacjami.

W poniższym przykładzie pokazano, jak używać buforu do pobierania i listy wielu nazw plików.

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Aby zmienić rozmiar buforu w odpowiedzi na wybranie przez użytkownika wielu `CFileDialog` nazw plików, należy wyprowadzić nową klasę z metody [CFileDialog::OnFileNameChange.](#onfilenamechange)

Jeśli pochodzisz z nowej `CFileDialog`klasy z programu , możesz użyć mapy wiadomości do obsługi wszelkich wiadomości. Aby rozszerzyć domyślną obsługę wiadomości, `CFileDialog`należy wyprowadzić klasę z , dodać mapę wiadomości do nowej klasy i zapewnić funkcje członkowskie dla nowych wiadomości. Nie trzeba podawać funkcji haka, aby dostosować okno dialogowe.

Aby dostosować okno dialogowe, wydziel klasę z `CFileDialog`, podaj szablon niestandardowego okna dialogowego i dodaj mapę wiadomości, aby przetworzyć wiadomości powiadomień z rozszerzonych formantów. Przekazywanie wszelkich nieprzetwochniętych wiadomości do klasy podstawowej. Nie trzeba dostosowywać funkcji haka.

Podczas korzystania ze stylu systemu Windows `CFileDialog`Vista lub nowszego programu nie można używać map wiadomości i szablonów okien dialogowych. Zamiast tego należy użyć interfejsów COM dla podobnych funkcji.

Aby uzyskać więcej informacji `CFileDialog`na temat używania programu , zobacz [Typowe klasy dialogów dialogowych](../../mfc/common-dialog-classes.md).

## <a name="inheritance-hierarchy"></a>Hierarchia dziedziczenia

[Cobject](../../mfc/reference/cobject-class.md)

[Ccmdtarget](../../mfc/reference/ccmdtarget-class.md)

[Cwnd](../../mfc/reference/cwnd-class.md)

[Cdialog](../../mfc/reference/cdialog-class.md)

[CKlogialny](../../mfc/reference/ccommondialog-class.md)

`CFileDialog`

## <a name="requirements"></a>Wymagania

**Nagłówek:** afxdlgs.h

## <a name="cfiledialogaddcheckbutton"></a><a name="addcheckbutton"></a>CFileDialog::AddCheckButton

Dodaje przycisk wyboru do okna dialogowego.

```
HRESULT AddCheckButton(
    DWORD dwIDCtl,
    const CString& strLabel,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator przycisku wyboru do dodania.

*strLabel (ul.*<br/>
Nazwa przycisku wyboru.

*bSprawiona*<br/>
Wartość logiczna wskazująca bieżący stan przycisku wyboru. PRAWDA, jeśli jest zaznaczona; FAŁSZ w przeciwnym razie

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogaddcombobox"></a><a name="addcombobox"></a>CFileDialog::AddComboBox

Dodaje pole kombi do okna dialogowego.

```
HRESULT AddComboBox(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator pola kombi do dodania.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogaddcontrolitem"></a><a name="addcontrolitem"></a>CFileDialog::AddControlItem

Dodaje element do formantu kontenera w oknie dialogowym.

```
HRESULT AddControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu kontenera, do którego należy dodać element.

*dwIDItem (dwIDItem)*<br/>
Identyfikator elementu.

*strLabel (ul.*<br/>
Tekst elementu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogaddeditbox"></a><a name="addeditbox"></a>CFileDialog::AddEditBox

Dodaje pole edycji do okna dialogowego.

```
HRESULT AddEditBox(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator pola edycji do dodania.

*strText (tekst)*<br/>
Nazwa pola edycji.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogaddmenu"></a><a name="addmenu"></a>CFileDialog::Dodajmenu

Dodaje menu do okna dialogowego.

```
HRESULT AddMenu(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator menu do dodania.

*strLabel (ul.*<br/>
Nazwa menu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogaddplace"></a><a name="addplace"></a>CFileDialog::AddPlace

Dodaje folder do listy miejsc dostępnych dla użytkownika do otwierania lub zapisywania elementów.

```
void AddPlace(
    LPCWSTR lpszFolder,
    FDAP fdap = FDAP_TOP) throw();

void AddPlace(
    IShellItem* psi,
    FDAP fdap = FDAP_TOP) throw();
```

### <a name="parameters"></a>Parametry

*lpszFolder (lpszFolder)*<br/>
Ścieżka do folderu, który ma zostać udostępniony użytkownikowi. Może to być tylko folder.

*fdap (fdap)*<br/>
Określa, gdzie folder jest umieszczony na liście.

*psi*<br/>
Wskaźnik do IShellItem, który reprezentuje folder, który ma być udostępniony użytkownikowi. Może to być tylko folder.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogaddpushbutton"></a><a name="addpushbutton"></a>CFileDialog::AddPushButton

Dodaje przycisk do okna dialogowego.

```
HRESULT AddPushButton(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator przycisku do dodania.

*strLabel (ul.*<br/>
Nazwa przycisku.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogaddradiobuttonlist"></a><a name="addradiobuttonlist"></a>CFileDialog::AddRadioButtonList

Dodaje do okna dialogowego grupę przycisku opcji (zwana również przyciskiem opcji).

```
HRESULT AddRadioButtonList(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator grupy przycisków opcji do dodania.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogaddseparator"></a><a name="addseparator"></a>CFileDialog::AddSeparator

Dodaje separator do okna dialogowego.

```
HRESULT AddSeparator(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator separatora dodać.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogaddtext"></a><a name="addtext"></a>CFileDialog::AddText

Dodaje tekst do okna dialogowego.

```
HRESULT AddText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator tekstu do dodania.

*strText (tekst)*<br/>
Nazwa tekstu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogapplyofntoshelldialog"></a><a name="applyofntoshelldialog"></a>CFileDialog::ApplyOFNToShellDialog

Aktualizuje bieżący stan [CFileDialog](../../mfc/reference/cfiledialog-class.md) na podstawie `m_ofn` wartości przechowywanych w strukturze danych.

```
void ApplyOFNToShellDialog();
```

### <a name="remarks"></a>Uwagi

W wersjach systemu Windows przed systemem Windows Vista struktura danych [OPENFILENAME](/previous-versions/windows/embedded/ms911906\(v=msdn.10\)) `CFileDialog`elementu członkowskiego była stale synchronizowana ze stanem pliku . Wszelkie zmiany [zmiennej m_ofn](#m_ofn) członkowskiej zostały natychmiast odzwierciedlone w stanie okna dialogowego. Ponadto wszelkie zmiany stanu okna dialogowego natychmiast `m_ofn` zaktualizować zmienną elementu członkowskiego.

W systemie Windows Vista lub `m_ofn` nowszym wartości `CFileDialog` w zmiennej członkowskiej i stanie nie są gwarantowane do synchronizacji. Ta funkcja wymusza `CFileDialog` stan do aktualizacji, aby dopasować strukturę. `m_ofn` System Windows wywołuje tę funkcję automatycznie podczas [CFileDialog::DoModal](#domodal).

Aby uzyskać więcej informacji `CFileDialog` na temat używania klasy w systemie Windows Vista lub [nowszym, zobacz CFileDialog Class](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Przykład

  Zobacz przykład [CFileDialog::UpdateOFNFromShellDialog](#updateofnfromshelldialog).

## <a name="cfiledialogcfiledialog"></a><a name="cfiledialog"></a>CFileDialog::CFileDialog

Wywołanie tej funkcji, aby utworzyć standardowe okno dialogowe pliku systemu Windows.

```
explicit CFileDialog(
    BOOL bOpenFileDialog,
    LPCTSTR lpszDefExt = NULL,
    LPCTSTR lpszFileName = NULL,
    DWORD dwFlags = OFN_HIDEREADONLY | OFN_OVERWRITEPROMPT,
    LPCTSTR lpszFilter = NULL,
    CWnd* pParentWnd = NULL,
    DWORD dwSize = 0,
    BOOL bVistaStyle = TRUE);
```

### <a name="parameters"></a>Parametry

*bOpenFileDialog*<br/>
[w] Parametr określający typ okna dialogowego do utworzenia. Ustaw wartość TRUE, aby utworzyć okno dialogowe **Otwieranie pliku.** Ustaw wartość FAŁSZ, aby utworzyć okno dialogowe **Zapisywanie plików jako.**

*lpszDefext*<br/>
[w] Domyślne rozszerzenie nazwy pliku. Jeśli użytkownik nie zawiera znanego rozszerzenia (które ma skojarzenie na komputerze użytkownika) w polu Nazwa pliku, rozszerzenie określone przez *lpszDefExt* jest automatycznie dołączane do nazwy pliku. Jeśli ten parametr ma wartość NULL, nie jest dołączane żadne rozszerzenie.

*lpszFileName*<br/>
[w] Początkowa nazwa pliku wyświetlana w polu Nazwa pliku. Jeśli wartość NULL, nie zostanie wyświetlena żadna początkowa nazwa pliku.

*Dwflags*<br/>
[w] Kombinacja co najmniej jednej flagi, której można użyć do dostosowania okna dialogowego. Opis tych flag można znaleźć w strukturze [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) w zestaw windows SDK. Jeśli zmodyfikujesz element członkowski `m_ofn.Flags` struktury, użyj operatora bitowego OR w zmianach, aby zachować domyślne zachowanie w stanie nienaruszonym.

*lpszFilter*<br/>
[w] Seria par ciągów określających filtry, które można zastosować do pliku. Jeśli określisz filtry plików, na liście Pliki pojawią się tylko pliki zgodne z kryteriami filtrowania. Zobacz uwagi sekcji, aby uzyskać więcej informacji na temat pracy z filtrami plików.

*pParentWnd*<br/>
[w] Wskaźnik do okna nadrzędnego lub właściciela okna dialogowego pliku.

*dwSize (rozmiar)*<br/>
[w] Wielkość `OPENFILENAME` struktury. Ta wartość zależy od wersji systemu operacyjnego. MFC używane ten parametr do określenia odpowiedniego rodzaju okna dialogowego do utworzenia. Domyślny rozmiar 0 oznacza, że kod MFC określi poprawny rozmiar okna dialogowego do użycia na podstawie wersji systemu operacyjnego, na której jest uruchamiany program.

*bVistaStyle*<br/>
[w] **Uwaga** Ten parametr jest dostępny w programie Visual Studio 2008 i nowszych i powoduje, że okno dialogowe nowego stylu ma być używane tylko wtedy, gdy jest uruchomiony w systemie Windows Vista lub nowszym.

Parametr określający styl okna dialogowego pliku. Ustaw wartość TRUE, aby używać nowych okien dialogowych pliku stylu systemu Vista. W przeciwnym razie zostanie użyty stary styl okien dialogowych. Zobacz uwagi sekcji, aby uzyskać więcej informacji na temat uruchamiania w obszarze Vista.

### <a name="remarks"></a>Uwagi

W zależności od wartości bOpenFileDialog jest skonstruowane okno dialogowe **Otwieranie pliku** lub **Zapisywanie pliku jako,** w zależności od wartości *pliku bOpenFileDialog*.

Określenie rozszerzenia domyślnego przy użyciu *lpszDefExt* może nie powodować oczekiwanego zachowania, ponieważ rzadko jest przewidywalne, jakie rozszerzenia mają skojarzenia plików na komputerze użytkownika. Jeśli potrzebujesz większej kontroli nad dołączaniem rozszerzenia domyślnego, możesz wyprowadzić `CFileDialog`własną klasę z `CFileDialog::OnFileNameOK` programu i zastąpić metodę wykonywania własnej obsługi rozszerzenia.

Aby umożliwić użytkownikowi wybranie wielu plików, przed wywołaniem połączenia z [programem DoModal](#domodal)należy ustawić flagę OFN_ALLOWMULTISELECT. Należy podać własny bufor nazwy pliku do przechowywania listy zwracanych wielu nazw plików. Należy to `m_ofn.lpstrFile` zrobić, zastępując wskaźnik do przydzielonego buforu, po skonstruowaniu [CFileDialog](../../mfc/reference/cfiledialog-class.md), ale przed wywołaniem `DoModal`. Ponadto należy ustawić `m_ofn.nMaxFile` liczbę znaków w buforze wskazywu przez `m_ofn.lpstrFile`. Jeśli ustawisz maksymalną liczbę plików, które mają zostać `n`wybrane na *n,* wymagany rozmiar buforu to *(_MAX_PATH + 1) + 1. Przykład:

[!code-cpp[NVC_MFCFiles#23](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_1.cpp)]

Aby umożliwić użytkownikowi ponowne rozmiary okna dialogowego w stylu Eksploratora za pomocą myszy lub klawiatury, ustaw flagę OFN_ENABLESIZING. Ustawienie tej flagi jest konieczne tylko wtedy, gdy podasz procedurę haka lub szablon niestandardowy. Flaga działa tylko z dialogiem w stylu Eksploratora; nie można zwymiarować starych okien dialogowych.

Parametr *lpszFilter* służy do określenia typu nazwy pliku, który musi być wyświetlany na liście plików. Pierwszy ciąg w parze ciągów opisuje filtr; drugi ciąg wskazuje rozszerzenie nazwy pliku do użycia. Wiele rozszerzeń może być określony przy użyciu średnika (znak ";" jako ogranicznik. Ciąg kończy się dwoma znakami "&#124;", po których następuje znak NULL. Można również użyć [CString](../../atl-mfc-shared/using-cstring.md) obiektu dla tego parametru.

Na przykład program Microsoft Excel umożliwia użytkownikom otwieranie między innymi plików z rozszerzeniami xlc (wykres) lub xls (arkusz). Filtr dla programu Excel można zapisać jako:

[!code-cpp[NVC_MFCFiles#24](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_2.cpp)]

Jeśli jednak ten ciąg ma być używany `OPENFILENAME` do bezpośredniej aktualizacji struktury, należy rozgraniczyć ciągi znakiem null ,\0', zamiast pionowych pasków ("&#124;").

Parametr *bVistaStyle* ma zastosowanie tylko w przypadku działania w systemie Windows Vista lub nowszym. W przypadku wcześniejszych wersji systemu Windows ten parametr jest ignorowany. Jeśli *bVistaStyle* jest ustawiona na TRUE, podczas kompilowania programu z programem Visual Studio 2008 lub nowszym, zostanie użyte nowe **okno dialogowe pliku** w stylu vista. W przeciwnym razie zostanie użyte poprzednie **okno dialogowe pliku** w stylu MFC.

Szablony okien dialogowych nie są obsługiwane w oknach dialogowych opartych na *bVistaStyle*

### <a name="example"></a>Przykład

  Zobacz przykład [CFileDialog::DoModal](#domodal).

## <a name="cfiledialogdomodal"></a><a name="domodal"></a>CFileDialog::DoModal

Wywołanie tej funkcji, aby wyświetlić okno dialogowe wspólnego pliku systemu Windows i zezwolić użytkownikowi na przeglądanie plików i katalogów oraz wprowadzanie nazwy pliku.

```
virtual INT_PTR DoModal();
```

### <a name="return-value"></a>Wartość zwracana

IDOK lub IDCANCEL. Jeśli funkcja IDCANCEL jest zwracana, należy wywołać funkcję Programu Windows [CommDlgExtendedError,](/windows/win32/api/commdlg/nf-commdlg-commdlgextendederror) aby ustalić, czy wystąpił błąd.

IDOK i IDCANCEL to stałe wskazujące, czy użytkownik wybrał przycisk OK, czy Anuluj.

### <a name="remarks"></a>Uwagi

Jeśli chcesz zainicjować różne opcje okna dialogowego pliku, `m_ofn` ustawiając elementy członkowskie `DoModal`struktury, należy to zrobić przed wywołaniem , ale po skonstruowaniu obiektu okna dialogowego.

Na przykład, jeśli chcesz zezwolić użytkownikowi na wybranie wielu plików, `DoModal`ustaw flagę OFN_ALLOWMULTISELECT przed wywołaniem , jak pokazano w przykładzie kodu w tym temacie.

Gdy użytkownik kliknie przyciski OK lub Anuluj w oknie dialogowym lub wybierze opcję Zamknij z menu sterowania okna dialogowego, formant zostanie zwrócony do aplikacji. Następnie można wywołać inne funkcje członkowskie, aby pobrać ustawienia lub informacje wprowadzone przez użytkownika w oknie dialogowym.

`DoModal`jest wirtualną funkcją zastąpioną z klasy `CDialog`.

### <a name="example"></a>Przykład

[!code-cpp[NVC_MFCFiles#25](../../atl-mfc-shared/reference/codesnippet/cpp/cfiledialog-class_3.cpp)]

## <a name="cfiledialogenableopendropdown"></a><a name="enableopendropdown"></a>CFileDialog::EnableOpenDropDown

Włącza listę rozwijaną przycisku Otwórz lub Zapisz w oknie dialogowym.

```
HRESULT EnableOpenDropDown(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator listy rozwijanej.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogendvisualgroup"></a><a name="endvisualgroup"></a>CFileDialog::EndVisualGroup

Zatrzymuje dodawanie elementów do grupy wizualnej w oknie dialogowym.

```
HRESULT EndVisualGroup();
```

### <a name="return-value"></a>Wartość zwracana

Zwraca S_OK, jeśli zakończy się pomyślnie; wartość błędu w przeciwnym razie.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialoggetcheckbuttonstate"></a><a name="getcheckbuttonstate"></a>CFileDialog::GetCheckButtonState

Pobiera bieżący stan przycisku wyboru (pola wyboru) w oknie dialogowym.

```
HRESULT GetCheckButtonState(
    DWORD dwIDCtl,
    BOOL& bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator pola wyboru.

*bSprawiona*<br/>
Stan pola wyboru. WARTOŚĆ TRUE oznacza zaznaczone; FALSE oznacza niezaznaczone.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialoggetcontrolitemstate"></a><a name="getcontrolitemstate"></a>CFileDialog::GetControlItemState

Pobiera bieżący stan elementu w formancie kontenera znalezionym w oknie dialogowym.

```
HRESULT GetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu kontenera.

*dwIDItem (dwIDItem)*<br/>
Identyfikator elementu.

*dwPaństwo*<br/>
Odwołanie do zmiennej, która odbiera jedną z więcej wartości z wyliczenia CDCONTROLSTATE, który wskazuje bieżący stan formantu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialoggetcontrolstate"></a><a name="getcontrolstate"></a>CFileDialog::GetControlState

Pobiera bieżącą widoczność i włączone stany danego formantu.

```
HRESULT GetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF& dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu.

*dwPaństwo*<br/>
Odwołanie do zmiennej, która odbiera jedną lub więcej wartości z wyliczenia CDCONTROLSTATE, który wskazuje bieżący stan formantu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialoggeteditboxtext"></a><a name="geteditboxtext"></a>CFileDialog::GetEditBoxText

Pobiera bieżący tekst w formancie pola edycji.

```
HRESULT GetEditBoxText(
    DWORD dwIDCtl,
    CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator pola edycji.

*strText (tekst)*<br/>
Wartość tekstowa.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialoggetfileext"></a><a name="getfileext"></a>CFileDialog::GetFileExt

Wywołanie tej funkcji w celu pobrania rozszerzenia nazwy pliku wprowadzonego do okna dialogowego.

```
CString GetFileExt() const;
```

### <a name="return-value"></a>Wartość zwracana

Rozszerzenie nazwy pliku.

### <a name="remarks"></a>Uwagi

Na przykład, jeśli nazwa wprowadzonego pliku to DATA. TXT, `GetFileExt` zwraca "TXT".

Jeśli `m_ofn.Flags` ustawiono flagę OFN_ALLOWMULTISELECT, ten ciąg zawiera sekwencję ciągów zakończonych wartością null, przy czym pierwszym ciągiem jest ścieżka katalogowa wybranej grupy plików, a następnie nazwy wszystkich plików wybranych przez użytkownika. Aby pobrać nazwy ścieżek plików, należy użyć funkcji członkowskich [GetStartPosition](#getstartposition) i [GetNextPathName.](#getnextpathname)

## <a name="cfiledialoggetfilename"></a><a name="getfilename"></a>CFileDialog::GetFileName

Wywołanie tej funkcji w celu pobrania nazwy nazwy pliku wprowadzonej w oknie dialogowym.

```
CString GetFileName() const;
```

### <a name="return-value"></a>Wartość zwracana

Nazwa pliku.

### <a name="remarks"></a>Uwagi

Nazwa pliku zawiera zarówno prefiks, jak i rozszerzenie. Na przykład `GetFileName` zwróci "SMS. DAT" dla pliku C:\FILES\TEXT.DAT.

Jeśli `m_ofn.Flags` ustawiono flagę, `OFN_ALLOWMULTISELECT` należy wywołać [GetStartPosition](#getstartposition) i [GetNextPathName,](#getnextpathname) aby pobrać nazwę ścieżki pliku.

## <a name="cfiledialoggetfiletitle"></a><a name="getfiletitle"></a>CFileDialog::GetFileTitle

Wywołanie tej funkcji w celu pobrania tytułu pliku wprowadzonego w oknie dialogowym.

```
CString GetFileTitle() const;
```

### <a name="return-value"></a>Wartość zwracana

Tytuł pliku.

### <a name="remarks"></a>Uwagi

Tytuł pliku zawiera tylko jego prefiks, bez ścieżki lub rozszerzenia. Na przykład `GetFileTitle` zwróci "TEXT" dla pliku C:\FILES\TEXT.DAT.

Jeśli `m_ofn.Flags` ustawiono flagę OFN_ALLOWMULTISELECT, ten ciąg zawiera sekwencję ciągów zakończonych wartością null, przy czym pierwszym ciągiem jest ścieżka katalogowa wybranej grupy plików, a następnie nazwy wszystkich plików wybranych przez użytkownika. Z tego powodu użyj [getstartposition](#getstartposition) i [GetNextPathName](#getnextpathname) funkcji członkowskich, aby pobrać następną nazwę pliku na liście.

### <a name="example"></a>Przykład

  Zobacz przykład [CFileDialog::DoModal](#domodal).

## <a name="cfiledialoggetfolderpath"></a><a name="getfolderpath"></a>CFileDialog::GetFolderPath

Wywołanie tej funkcji elementu członkowskiego w celu pobrania ścieżki aktualnie otwartego folderu lub katalogu dla wspólnego okna dialogowego Otwórz lub Zapisz jako typowe explorer.

```
CString GetFolderPath() const;
```

### <a name="return-value"></a>Wartość zwracana

Obiekt [CString](../../atl-mfc-shared/reference/cstringt-class.md) zawierający aktualnie otwarty folder lub katalog.

### <a name="remarks"></a>Uwagi

Okno dialogowe musi zostać utworzone w stylu OFN_EXPLORER; w przeciwnym razie metoda zakończy się niepowodzeniem z twierdzeniem.

Tę metodę można wywołać tylko wtedy, gdy wyświetlane jest okno dialogowe. Po zamknięciu okna dialogowego ta funkcja nie będzie już działać, a metoda zakończy się niepowodzeniem z twierdzeniem.

## <a name="cfiledialoggetifiledialogcustomize"></a><a name="getifiledialogcustomize"></a>CFileDialog::GetIFileDialogKoszyzowanie

Pobiera wskaźnik do wewnętrznego obiektu COM dla danego [CFileDialog](../../mfc/reference/cfiledialog-class.md).

```
IFileDialogCustomize* GetIFileDialogCustomize();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do wewnętrznego obiektu `CFileDialog`COM dla . Twoim obowiązkiem jest odpowiednio zwolnić ten wskaźnik.

### <a name="remarks"></a>Uwagi

Tej funkcji należy używać tylko w systemie Windows Vista lub nowszym z obiektem z *ustawionym* na wartość TRUE. Jeśli ta funkcja jest używana, gdy *bVistaStyle* jest FALSE, zwróci null w trybie wydania i zgłosić twierdzenie w trybie debugowania.

Aby uzyskać więcej `IFileDialogCustomize` informacji na temat interfejsu, zobacz [IFileDialogCustomize](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

### <a name="example"></a>Przykład

W tym przykładzie pobiera wewnętrzny obiekt COM. Aby uruchomić ten przykład kodu, należy skompilować go w systemie Windows Vista lub nowszym.

[!code-cpp[NVC_MFC_CFileDialog#4](../../mfc/reference/codesnippet/cpp/cfiledialog-class_4.cpp)]

## <a name="cfiledialoggetifileopendialog"></a><a name="getifileopendialog"></a>CFileDialog::GetIFileOpenDialog

Pobiera wskaźnik do wewnętrznego obiektu COM `CFileDialog`dla danego .

```
IFileOpenDialog* GetIFileOpenDialog();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do wewnętrznego obiektu `CFileDialog`COM dla . Twoim obowiązkiem jest odpowiednio zwolnić ten wskaźnik.

### <a name="remarks"></a>Uwagi

Tej funkcji należy używać tylko w systemie Windows Vista lub nowszym z obiektem z *ustawionym* na wartość TRUE. Ta funkcja zwraca `CFileDialog` wartość NULL, jeśli nie jest to okno dialogowe **Otwieranie** lub jeśli *bVistaStyle* jest ustawiona na FAŁSZ. W tym ostatnim przypadku funkcja zwraca tylko NULL w trybie wydania - w trybie debugowania będzie rzucać potwierdzenia.

Aby uzyskać więcej `IFileOpenDialog` informacji na temat interfejsu, zobacz [IFileOpenDialog](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifileopendialog).

### <a name="example"></a>Przykład

W tym przykładzie pobiera wewnętrzny obiekt COM. Aby uruchomić ten kod, należy skompilować go w systemie Windows Vista lub nowszym.

[!code-cpp[NVC_MFC_CFileDialog#2](../../mfc/reference/codesnippet/cpp/cfiledialog-class_5.cpp)]

## <a name="cfiledialoggetifilesavedialog"></a><a name="getifilesavedialog"></a>CFileDialog::GetIFileSaveDialog

Pobiera wskaźnik do wewnętrznego obiektu COM `CFileDialog`dla danego .

```
IFileSaveDialog* GetIFileSaveDialog();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do wewnętrznego obiektu `CFileDialog`COM dla . Twoim obowiązkiem jest odpowiednio zwolnić ten wskaźnik.

### <a name="remarks"></a>Uwagi

Tej funkcji należy używać tylko w systemie Windows Vista lub nowszym z obiektem z *ustawionym* na wartość TRUE. Ta funkcja zwróci wartość `CFileDialog` NULL, jeśli nie jest to okno dialogowe **Zapisywanie** lub jeśli *bVistaStyle* jest ustawiona na FALSE. W tym ostatnim przypadku funkcja zwraca tylko NULL w trybie wydania - w trybie debugowania będzie rzucać potwierdzenia.

Aby uzyskać więcej `IFileSaveDialog` informacji na temat interfejsu, zobacz [IFileSaveDialog](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifilesavedialog).

### <a name="example"></a>Przykład

W tym przykładzie pobiera wewnętrzny obiekt COM. Aby uruchomić ten przykład kodu, należy skompilować go w systemie Windows Vista lub nowszym.

[!code-cpp[NVC_MFC_CFileDialog#3](../../mfc/reference/codesnippet/cpp/cfiledialog-class_6.cpp)]

## <a name="cfiledialoggetnextpathname"></a><a name="getnextpathname"></a>CFileDialog::GetNextPathName

Wywołanie tej funkcji w celu pobrania następnej nazwy pliku z grupy wybranej w oknie dialogowym.

```
CString GetNextPathName(POSITION& pos) const;
```

### <a name="parameters"></a>Parametry

*Poz*<br/>
Odwołanie do wartości POSITION zwróconej `GetNextPathName` `GetStartPosition` przez poprzednie wywołanie funkcji lub. NULL, jeśli osiągnięto koniec listy.

### <a name="return-value"></a>Wartość zwracana

Pełna ścieżka pliku.

### <a name="remarks"></a>Uwagi

Ścieżka nazwy pliku zawiera tytuł pliku oraz całą ścieżkę katalogu. Na przykład `GetNextPathName` zwróci "C:\FILES\TEXT. DAT" dla pliku C:\FILES\TEXT.DAT. Można użyć `GetNextPathName` w pętli iteracji do przodu, jeśli ustalisz pozycję początkową za pomocą wywołania `GetStartPosition`.

Jeśli wybór składa się tylko z jednego pliku, zostanie zwrócona ta nazwa pliku.

## <a name="cfiledialoggetofn"></a><a name="getofn"></a>CFileDialog::GetOFN

Pobiera skojarzoną `OPENFILENAME` strukturę.

```
const OPENFILENAME& GetOFN() const;

OPENFILENAME& GetOFN();
```

### <a name="return-value"></a>Wartość zwracana

Struktura [OPENFILENAME.](/windows/win32/api/commdlg/ns-commdlg-openfilenamew)

### <a name="remarks"></a>Uwagi

Użyj drugiej wersji tej funkcji, aby zainicjować wygląd okna dialogowego **Otwieranie pliku** lub **Zapisywanie plików** `DoModal` jako po jego skonstruowaniu, ale przed wyświetleniem z funkcją elementu członkowskiego. Na przykład można ustawić `lpstrTitle` element `m_ofn` członkowski do podpisu, który ma mieć okno dialogowe.

## <a name="cfiledialoggetpathname"></a><a name="getpathname"></a>CFileDialog::GetPathName

Wywołanie tej funkcji, aby pobrać pełną ścieżkę pliku wprowadzonego w oknie dialogowym.

```
CString GetPathName() const;
```

### <a name="return-value"></a>Wartość zwracana

Pełna ścieżka pliku.

### <a name="remarks"></a>Uwagi

Ścieżka nazwy pliku zawiera tytuł pliku oraz całą ścieżkę katalogu. Na przykład `GetPathName` zwróci "C:\FILES\TEXT. DAT" dla pliku C:\FILES\TEXT.DAT.

Jeśli `m_ofn.Flags` ustawiono flagę OFN_ALLOWMULTISELECT, ten ciąg zawiera sekwencję ciągów z teminowanymi wartościami zerowymi, przy czym pierwszym ciągiem jest ścieżka katalogowa wybranej grupy plików, a następnie nazwy wszystkich plików wybranych przez użytkownika. Z tego powodu użyj [getstartposition](#getstartposition) i [GetNextPathName](#getnextpathname) funkcji członkowskich, aby pobrać następną nazwę pliku na liście.

### <a name="example"></a>Przykład

  Zobacz przykład [CFileDialog::DoModal](#domodal).

## <a name="cfiledialoggetreadonlypref"></a><a name="getreadonlypref"></a>CFileDialog::GetReadOnlyPref

Wywołanie tej funkcji w celu ustalenia, czy pole wyboru Tylko do odczytu zostało zaznaczone w oknach dialogowych Otwieranie i zapisywanie plików jako w standardowym systemie Windows.

```
BOOL GetReadOnlyPref() const;
```

### <a name="return-value"></a>Wartość zwracana

Niezerowe, jeśli zaznaczono pole wyboru Tylko do odczytu w oknie dialogowym; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Pole wyboru Tylko do odczytu można ukryć, ustawiając styl OFN_HIDEREADONLY w konstruktorze. `CFileDialog`

> [!NOTE]
> Obiekty w stylu `CFileDialog` systemu Windows Vista lub nowszego nie obsługują tej funkcji. Próba użycia tej funkcji w systemie Windows `CFileDialog` Vista lub nowszym spowoduje wrzucenie [CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md).

## <a name="cfiledialoggetresult"></a><a name="getresult"></a>CFileDialog::GetResult

Pobiera wybór, który użytkownik dokonał w oknie dialogowym.

```
IShellItem* GetResult() throw();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do IShellItem, który reprezentuje wybór użytkownika.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialoggetresults"></a><a name="getresults"></a>CFileDialog::Wyniki

Pobiera wybory użytkownika w oknie dialogowym, które umożliwia wielokrotne zaznaczanie.

```
IShellItemArray* GetResults() throw();
```

### <a name="return-value"></a>Wartość zwracana

Wskaźnik do IShellItemArray, za pośrednictwem którego można uzyskać dostęp do elementów wybranych w oknie dialogowym.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialoggetselectedcontrolitem"></a><a name="getselectedcontrolitem"></a>CFileDialog::GetSelectedControlItem

Pobiera określony element z określonego formantu kontenera w oknie dialogowym.

```
HRESULT GetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD& dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu kontenera.

*dwIDItem (dwIDItem)*<br/>
Identyfikator elementu wybranego przez użytkownika w formancie.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialoggetstartposition"></a><a name="getstartposition"></a>CFileDialog::GetStartPosition

Wywołanie tej funkcji elementu członkowskiego, aby pobrać pozycję pierwszej nazwy `m_ofn.Flags` pliku na liście, jeśli ma ustawioną flagę OFN_ALLOWMULTISELECT.

```
POSITION GetStartPosition() const;
```

### <a name="return-value"></a>Wartość zwracana

Wartość POSITION, która może być używana do iteracji; NULL, jeśli lista jest pusta.

## <a name="cfiledialoghidecontrol"></a><a name="hidecontrol"></a>CFileDialog::HideControl

Wywołanie tej funkcji elementu członkowskiego, aby ukryć określony formant w oknie dialogowym Otwórz lub Zapisz jako typowe explorer.

```
void HideControl(int nID);
```

### <a name="parameters"></a>Parametry

*Nid*<br/>
Identyfikator formantu do ukrycia.

### <a name="remarks"></a>Uwagi

Okno dialogowe musi zostać utworzone w stylu OFN_EXPLORER; w przeciwnym razie funkcja zakończy się niepowodzeniem z twierdzeniem.

## <a name="cfiledialogispickfoldersmode"></a><a name="ispickfoldersmode"></a>CFileDialog::IsPickFoldersMode

Określa, czy bieżące okno dialogowe jest w trybie selektora folderów.

```
BOOL IsPickFoldersMode() const;
```

### <a name="return-value"></a>Wartość zwracana

PRAWDA, jeśli okno dialogowe jest w trybie selektora folderów; w przeciwnym razie FALSE.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogm_ofn"></a><a name="m_ofn"></a>CFileDialog::m_ofn

`m_ofn`jest strukturą `OPENFILENAME`typu . Dane w tej strukturze reprezentują bieżący stan . `CFileDialog`

### <a name="remarks"></a>Uwagi

Ta struktura służy do inicjowania wyglądu okna dialogowego **Otwieranie pliku** lub **Zapisywanie plików jako** po skonstruowaniu, ale przed wyświetleniem go za pomocą metody [DoModal.](#domodal) Na przykład można ustawić element członkowski *lpstrTitle* `m_ofn` na podpis, który ma mieć okno dialogowe.

W systemie Windows Vista lub nowszym `m_ofn` stylu [CFileDialog](../../mfc/reference/cfiledialog-class.md), nie jest gwarantowane, aby zawsze odpowiadać stan okna dialogowego. Jest on synchronizowany z okna dialogowego we wcześniejszych wersjach systemu Windows. Zobacz [CFileDialog::ApplyOFNToShellDialog](#applyofntoshelldialog) i [CFileDialog::UpdateOFNFromShellDialog,](#updateofnfromshelldialog) aby `m_ofn` uzyskać więcej `CFileDialog` informacji na temat synchronizowania struktury i stanu w systemie Windows Vista lub nowszym.

Okna dialogowe plików w systemie Windows Vista lub `CFileDialog`nowszego stylu nie obsługują niektórych elementów członkowskich i flag programu . W rezultacie nie będą one miały żadnego skutku.

Poniżej znajduje się lista członków, którzy nie są obsługiwani przez system Windows Vista lub nowszy:

- `lpstrCustomFilter`

- `lpstrInitialDir`

- `lCustData`

- `lpfnHook`

- `lpTemplateName`

Następujące flagi nie są obsługiwane i dlatego nie mają wpływu podczas korzystania `CFileDialog`z systemu Windows Vista lub nowszego stylu :

- OFN_ENABLEHOOK

- OFN_ENABLEINCLUDENOTIFY

- OFN_ENABLETEMPLATE

- OFN_ENABLETEMPLATEHANDLE

- OFN_EXPLORER

- OFN_EXTENSIONDIFFERENT

- OFN_HIDEREADONLY

- OFN_LONGNAMES - skutecznie zawsze włączony w systemie Windows Vista lub nowszym

- OFN_NOLONGNAMES - skutecznie zawsze wyłączony w systemie Windows Vista lub nowszym

- OFN_NONETWORKBUTTON - skutecznie zawsze włączony w systemie Windows Vista lub nowszym

- OFN_READONLY

- OFN_SHOWHELP

Aby uzyskać więcej informacji na temat tej struktury, zobacz [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) struktury w windows SDK.

## <a name="cfiledialogmakeprominent"></a><a name="makeprominent"></a>CFileDialog::MakeProminent

Umieszcza formant w oknie dialogowym, tak aby wyróżniał się w porównaniu do innych formantów.

```
HRESULT MakeProminent(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogonbuttonclicked"></a><a name="onbuttonclicked"></a>CFileDialog::OnButtonClicked

Wywoływana po kliknięciu przycisku.

```
virtual void OnButtonClicked(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator przycisku.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogoncheckbuttontoggled"></a><a name="oncheckbuttontoggled"></a>CFileDialog::OnCheckButtonToggled

Wywoływane, gdy pole wyboru jest zaznaczone lub niezaznaczone.

```
virtual void OnCheckButtonToggled(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator pola wyboru.

*bSprawiona*<br/>
Zaznaczone lub niezaznaczone.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogoncontrolactivating"></a><a name="oncontrolactivating"></a>CFileDialog::OnControlActivating

Wywoływana po włączeniu sterowania.

```
virtual void OnControlActivating(DWORD dwIDCtl);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogonfilenamechange"></a><a name="onfilenamechange"></a>CFileDialog::OnFileNameZnakowanie

Zastąp tę metodę, jeśli chcesz obsłużyć WM_NOTIFY CDN_SELCHANGE komunikat.

```
virtual void OnFileNameChange();
```

### <a name="remarks"></a>Uwagi

System wysyła komunikat CDN_SELCHANGE, gdy użytkownik wybierze nowy plik lub folder na liście plików okna dialogowego **Otwórz** lub **Zapisz jako.** Zastąd w tej metodzie należy wykonać dowolną funkcję w odpowiedzi na ten komunikat.

System wysyła ten komunikat tylko wtedy, gdy okno dialogowe zostało utworzone z włączeną flagą OFN_EXPLORER. Aby uzyskać więcej informacji na temat powiadomienia, zobacz [CDN_SELCHANGE](/windows/win32/dlgbox/cdn-selchange). Aby uzyskać informacje o OFN_EXPLORER flagi, zobacz strukturę [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) oraz [Otwórz i zapisz jako okna dialogowe](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

## <a name="cfiledialogonfilenameok"></a><a name="onfilenameok"></a>CFileDialog::OnFileNameOK

Zastąp tę funkcję tylko wtedy, gdy chcesz zapewnić niestandardowe sprawdzanie poprawności nazwy plików, które są wprowadzane do wspólnego okna dialogowego pliku.

```
virtual BOOL OnFileNameOK();
```

### <a name="return-value"></a>Wartość zwracana

1, jeśli nazwa pliku nie jest prawidłową nazwa pliku; w przeciwnym razie 0.

### <a name="remarks"></a>Uwagi

Ta funkcja umożliwia odrzucenie nazwy pliku z dowolnego powodu specyficznego dla aplikacji. Zwykle nie trzeba używać tej funkcji, ponieważ struktura zapewnia domyślną weryfikację nazwy plików i wyświetla okno komunikatu, jeśli zostanie wprowadzona nieprawidłowa nazwa pliku.

Jeśli zostanie zwrócona 1, okno dialogowe pozostanie wyświetlane, aby użytkownik wprowadził inną nazwę pliku. Procedura okna dialogowego odrzuca okno dialogowe, jeśli zwraca się o 0. Inne wartości zwracane niezerowe są obecnie zarezerwowane i nie powinny być używane.

## <a name="cfiledialogonfolderchange"></a><a name="onfolderchange"></a>CFileDialog::OnFolderChange

Zastądń tej funkcji do obsługi wiadomości WM_NOTIFYCDN_FOLDERCHANGE.

```
virtual void OnFolderChange();
```

### <a name="remarks"></a>Uwagi

Wiadomość z powiadomieniem jest wysyłana po otwarciu nowego folderu w oknie dialogowym Otwieranie lub zapisywanie jako.

Powiadomienie jest wysyłane tylko wtedy, gdy okno dialogowe zostało utworzone w stylu OFN_EXPLORER. Aby uzyskać więcej informacji na temat powiadomienia, zobacz [CDN_FOLDERCHANGE](/windows/win32/dlgbox/cdn-folderchange). Aby uzyskać informacje o stylu OFN_EXPLORER, zobacz strukturę [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) oraz [Otwórz i zapisz jako okna dialogowe](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

## <a name="cfiledialogoninitdone"></a><a name="oninitdone"></a>CFileDialog::OnInitDone

Zastąp tę funkcję, aby obsłużyć komunikat CDN_INITDONE WM_NOTIFY.

```
virtual void OnInitDone();
```

### <a name="remarks"></a>Uwagi

System wysyła ten komunikat powiadomienia po zakończeniu organizowania formantów w oknie dialogowym **Otwieranie** lub **zapisywanie jako,** aby zrobić miejsce dla kontrolek okna dialogowego podrzędnego.

System wysyła to tylko wtedy, gdy okno dialogowe zostało utworzone w stylu OFN_EXPLORER. Aby uzyskać więcej informacji na temat powiadomienia, zobacz [CDN_INITDONE](/windows/win32/dlgbox/cdn-initdone). Aby uzyskać informacje o stylu OFN_EXPLORER, zobacz strukturę [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) oraz [Otwórz i zapisz jako okna dialogowe](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

> [!NOTE]
> Okna dialogowe plików w systemie Windows Vista lub nowszych stylów nie obsługują tej funkcji. Próba użycia tej funkcji w oknie dialogowym pliku stylu systemu Windows Vista lub nowszego spowoduje [wrzucenie CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md).

## <a name="cfiledialogonitemselected"></a><a name="onitemselected"></a>CFileDialog::OnItemWybrany

Wywoływana po wybraniu elementu kontenera.

```
virtual void OnItemSelected(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu kontenera.

*dwIDItem (dwIDItem)*<br/>
Identyfikator elementu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogonlbselchangednotify"></a><a name="onlbselchangednotify"></a>CFileDialog::OnLBSelChangedNotify

Ta funkcja jest wywoływana za każdym razem, gdy bieżące zaznaczenie w polu listy ma się zmienić.

```
virtual void OnLBSelChangedNotify(
    UINT nIDBox,
    UINT iCurSel,
    UINT nCode);
```

### <a name="parameters"></a>Parametry

*nIDBox (skrzynka z mieszkiem)*<br/>
Identyfikator pola listy lub pola kombi, w którym nastąpiło zaznaczenie.

*iCurSel ( iCurSel )*<br/>
Indeks bieżącego zaznaczenia.

*kod n*<br/>
Kod powiadomienia sterującego. Ten parametr musi mieć jedną z następujących wartości:

- CD_LBSELCHANGE Określa *iCurSel* jest zaznaczonym elementem w polu listy pojedynczego wyboru.

- CD_LBSELSUB Określa, że *iCurSel* nie jest już zaznaczony w polu listy wielu wyborów.

- CD_LBSELADD Określa, że *iCurSel* jest zaznaczony w polu listy wielu wyborów.

- CD_LBSELNOITEMS Określa, że w polu listy wielu wyborów nie istnieje żadne zaznaczenie.

### <a name="remarks"></a>Uwagi

Zastąpaj tę funkcję, aby zapewnić niestandardową obsługę zmian zaznaczenia w polu listy. Na przykład można użyć tej funkcji do wyświetlania praw dostępu lub data ostatnia modyfikacja każdego pliku, który użytkownik wybierze.

## <a name="cfiledialogonshareviolation"></a><a name="onshareviolation"></a>CFileDialog::OnShareViolation

Zastąd w tej funkcji należy niestandardowych do obsługi naruszeń udziału.

```
virtual UINT OnShareViolation(LPCTSTR lpszPathName);
```

### <a name="parameters"></a>Parametry

*lpszPathName (nazwa lpszPathName)*<br/>
Ścieżka pliku, na którym wystąpiło naruszenie udziału.

### <a name="return-value"></a>Wartość zwracana

Jedna z następujących wartości:

- OFN_SHAREFALLTHROUGH Nazwa pliku jest zwracana z okna dialogowego.

- OFN_SHARENOWARN Nie należy podejmować dalszych działań.

- OFN_SHAREWARN Użytkownik otrzymuje standardowy komunikat ostrzegawczy dla tego błędu.

### <a name="remarks"></a>Uwagi

Zwykle nie trzeba używać tej funkcji, ponieważ struktura zapewnia domyślne sprawdzanie naruszeń udziału i wyświetla okno komunikatu, jeśli wystąpi naruszenie udziału.

Jeśli chcesz wyłączyć sprawdzanie naruszeń udostępniania, użyj operatora or bitowego, `m_ofn.Flags`aby połączyć flagę OFN_SHAREAWARE z .

## <a name="cfiledialogontypechange"></a><a name="ontypechange"></a>CFileDialog::OnTypeChange

Zastądń tej funkcji do obsługi wiadomości WM_NOTIFYCDN_TYPECHANGE.

```
virtual void OnTypeChange();
```

### <a name="remarks"></a>Uwagi

Komunikat powiadomienia jest wysyłany, gdy użytkownik wybierze nowy typ pliku z listy typów plików w oknie dialogowym Otwieranie lub zapisywanie jako.

Powiadomienie jest wysyłane tylko wtedy, gdy okno dialogowe zostało utworzone w stylu OFN_EXPLORER. Aby uzyskać więcej informacji na temat powiadomienia, zobacz [CDN_TYPECHANGE](/windows/win32/dlgbox/cdn-typechange). Aby uzyskać informacje o stylu OFN_EXPLORER, zobacz strukturę [OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew) oraz [Otwórz i zapisz jako okna dialogowe](/windows/win32/dlgbox/open-and-save-as-dialog-boxes).

## <a name="cfiledialogremovecontrolitem"></a><a name="removecontrolitem"></a>CFileDialog::Usuńjkontrola

Usuwa element z formantu kontenera w oknie dialogowym.

```
HRESULT RemoveControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu kontenera, aby usunąć element z.

*dwIDItem (dwIDItem)*<br/>
Identyfikator elementu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogsetcheckbuttonstate"></a><a name="setcheckbuttonstate"></a>CFileDialog::SetCheckButtonState

Ustawia bieżący stan przycisku wyboru (pola wyboru) w oknie dialogowym.

```
HRESULT SetCheckButtonState(
    DWORD dwIDCtl,
    BOOL bChecked);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator pola wyboru.

*bSprawiona*<br/>
Stan pola wyboru. WARTOŚĆ TRUE oznacza zaznaczone; FALSE oznacza niezaznaczone.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogsetcontrolitemstate"></a><a name="setcontrolitemstate"></a>CFileDialog::SetControlItemState

Ustawia bieżący stan elementu w formancie kontenera znalezionym w oknie dialogowym.

```
HRESULT SetControlItemState(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu kontenera.

*dwIDItem (dwIDItem)*<br/>
Identyfikator elementu.

*dwPaństwo*<br/>
Co najmniej jedna wartość z wyliczenia CDCONTROLSTATE, które wskazują nowy stan formantu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogsetcontrolitemtext"></a><a name="setcontrolitemtext"></a>CFileDialog::SetControlItemText

Ustawia tekst elementu sterującego. Na przykład tekst, który towarzyszy przyciskowi radiowemu lub pozycji w menu.

```
HRESULT SetControlItemText(
    DWORD dwIDCtl,
    DWORD dwIDItem,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu kontenera.

*dwIDItem (dwIDItem)*<br/>
Identyfikator elementu.

*strLabel (ul.*<br/>
Tekst elementu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogsetcontrollabel"></a><a name="setcontrollabel"></a>CFileDialog::SetControlLabel

Ustawia tekst skojarzony z formantem, taki jak tekst przycisku lub etykieta pola edycji.

```
HRESULT SetControlLabel(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu.

*strLabel (ul.*<br/>
Nazwa formantu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogsetcontrolstate"></a><a name="setcontrolstate"></a>CFileDialog::SetControlState

Ustawia bieżącą widoczność i włączone stany danego formantu.

```
HRESULT SetControlState(
    DWORD dwIDCtl,
    CDCONTROLSTATEF dwState);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu.

*dwPaństwo*<br/>
Co najmniej jedna wartość z wyliczenia CDCONTROLSTATE, które wskazują bieżący stan formantu.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogsetcontroltext"></a><a name="setcontroltext"></a>CFileDialog::SetControlText

Wywołanie tej metody, aby ustawić tekst dla określonego formantu w stylu Explorer **Otwórz** lub **Zapisz jako** okno dialogowe.

```
void SetControlText(
    int nID,
    LPCSTR lpsz);

void SetControlText(
    int nID,
    const wchar_t *lpsz);
```

### <a name="parameters"></a>Parametry

*Nid*<br/>
[w] Identyfikator formantu, dla którego ma być ustawiony tekst.

*lpsz (lpsz)*<br/>
[w] Wskaźnik do ciągu, który zawiera tekst do ustawionego dla formantu.

### <a name="remarks"></a>Uwagi

Obie wersje tej funkcji są prawidłowe dla aplikacji korzystających z unicode. Jednak tylko wersja z typem LPCSTR jest prawidłowa dla aplikacji korzystających z ANSI.

Aby użyć tej metody, należy utworzyć okno dialogowe z OFN_EXPLORER stylu. W przeciwnym razie funkcja zakończy się niepowodzeniem z twierdzeniem.

## <a name="cfiledialogsetdefext"></a><a name="setdefext"></a>CFileDialog::SetDefExt

Wywołanie tej funkcji w celu ustawienia domyślnego rozszerzenia nazwy pliku dla wspólnego okna dialogowego Otwórz lub Zapisz jako typowe w stylu Eksploratora.

```
void SetDefExt(LPCSTR lpsz);
```

### <a name="parameters"></a>Parametry

*lpsz (lpsz)*<br/>
Wskaźnik do ciągu zawierającego domyślne rozszerzenie do użycia dla obiektu okna dialogowego. Ten ciąg nie może zawierać kropki (.).

### <a name="remarks"></a>Uwagi

Okno dialogowe musi zostać utworzone w stylu OFN_EXPLORER; w przeciwnym razie funkcja zakończy się niepowodzeniem z twierdzeniem.

## <a name="cfiledialogseteditboxtext"></a><a name="seteditboxtext"></a>CFileDialog::SetEditBoxText

Ustawia bieżący tekst w formancie pola edycji.

```
HRESULT SetEditBoxText(
    DWORD dwIDCtl,
    const CString& strText);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator pola edycji.

*strText (tekst)*<br/>
Wartość tekstowa.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogsetproperties"></a><a name="setproperties"></a>CFileDialog::Właściwości setproperties

Udostępnia magazyn właściwości, który definiuje wartości domyślne, które mają być używane dla zapisywanego elementu.

```
BOOL SetProperties(LPCWSTR lpszPropList);
```

### <a name="parameters"></a>Parametry

*lpszPropLista*<br/>
Lista wstępnie zdefiniowanych właściwości oddzielonych ";". Aby uzyskać listę flag, zobacz **sekcję Flagi** [w pliku OPENFILENAME](/windows/win32/api/commdlg/ns-commdlg-openfilenamew).

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogsetselectedcontrolitem"></a><a name="setselectedcontrolitem"></a>CFileDialog::SetSelectedControlItem

Ustawia wybrany stan określonego elementu w grupie przycisków opcji lub polu kombi znajdującym się w oknie dialogowym.

```
HRESULT SetSelectedControlItem(
    DWORD dwIDCtl,
    DWORD dwIDItem);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator formantu kontenera.

*dwIDItem (dwIDItem)*<br/>
Identyfikator elementu wybranego przez użytkownika w formancie.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogsettemplate"></a><a name="settemplate"></a>CFileDialog::SetTemplate

Ustawia szablon okna dialogowego dla obiektu [CFileDialog.](../../mfc/reference/cfiledialog-class.md)

```
void SetTemplate(
    UINT nWin3ID,
    UINT nWin4ID);

void SetTemplate(
    LPCTSTR lpWin3ID,
    LPCTSTR lpWin4ID);
```

### <a name="parameters"></a>Parametry

*nWin3ID*<br/>
[w] Zawiera numer identyfikatora zasobu szablonu dla `CFileDialog` obiektu nieekloratora. Ten szablon jest używany tylko w systemie Windows NT 3.51 lub gdy styl OFN_EXPLORER nie jest obecny.

*nWin4ID*<br/>
[w] Zawiera numer identyfikatora zasobu szablonu `CFileDialog` obiektu Eksploratora. Ten szablon jest używany tylko w systemach Windows NT 4.0 i nowszych wersjach, systemie Windows 95 i nowszych wersjach lub gdy występuje styl OFN_EXPLORER.

*lpWin3ID*<br/>
[w] Zawiera nazwę zasobu szablonu dla `CFileDialog` obiektu nieekloratora. Ten szablon jest używany tylko w systemie Windows NT 3.51 lub gdy styl OFN_EXPLORER nie jest obecny.

*lpWin4ID*<br/>
[w] Zawiera nazwę zasobu szablonu `CFileDialog` obiektu Eksploratora. Ten szablon jest używany tylko w systemach Windows NT 4.0 i nowszych wersjach, systemie Windows 95 i nowszych wersjach lub gdy występuje styl OFN_EXPLORER.

### <a name="remarks"></a>Uwagi

System będzie używał tylko jednego z określonych szablonów. System określa, który szablon ma być używany na podstawie obecności stylu OFN_EXPLORER i systemu operacyjnego, na którym jest uruchomiona aplikacja. Określając zarówno szablon w stylu nieekloratora, jak i w stylu Eksploratora, można łatwo obsługiwać systemy Windows NT 3.51, Windows NT 4.0 i nowsze wersje oraz system Windows 95 i nowsze wersje.

> [!NOTE]
> Okna dialogowe pliku stylu systemu Windows Vista lub nowszego stylu nie obsługują tej funkcji. Próba użycia tej funkcji w oknie dialogowym pliku stylu systemu Windows Vista lub nowszego spowoduje [wrzucenie CNotSupportedException](../../mfc/reference/cnotsupportedexception-class.md). Alternatywą jest użycie dostosowanego okna dialogowego. Aby uzyskać więcej informacji `CFileDialog`na temat używania niestandardowego , zobacz [IFileDialogCustomize](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ifiledialogcustomize).

## <a name="cfiledialogstartvisualgroup"></a><a name="startvisualgroup"></a>CFileDialog::Grupa startvisual

Deklaruje grupę wizualną w oknie dialogowym. Kolejne wywołania dowolnej metody "add" dodają te elementy do tej grupy.

```
HRESULT StartVisualGroup(
    DWORD dwIDCtl,
    const CString& strLabel);
```

### <a name="parameters"></a>Parametry

*dwIDCtl (dwIDCtl)*<br/>
Identyfikator grupy wizualnej.

*strLabel (ul.*<br/>
Nazwa grupy.

### <a name="remarks"></a>Uwagi

## <a name="cfiledialogupdateofnfromshelldialog"></a><a name="updateofnfromshelldialog"></a>CFileDialog::UpdateOFNFromShellDialog

Aktualizuje `m_ofn` strukturę danych [CFileDialog](../../mfc/reference/cfiledialog-class.md) na podstawie bieżącego stanu obiektu wewnętrznego.

```
void UpdateOFNFromShellDialog();
```

### <a name="remarks"></a>Uwagi

W wersjach systemu Windows przed systemem Windows Vista struktura danych [OPENFILENAME](/previous-versions/windows/embedded/ms911906\(v=msdn.10\)) `CFileDialog`elementu członkowskiego była stale synchronizowana ze stanem pliku . Wszelkie zmiany [zmiennej m_ofn](#m_ofn) członkowskiej bezpośrednio wpłynęły na stan okna dialogowego. Ponadto wszelkie zmiany stanu okna dialogowego natychmiast zaktualizował zmienną m_ofn elementu członkowskiego.

W systemie Windows Vista `m_ofn` lub nowszym struktura danych nie jest automatycznie aktualizowana. Aby zagwarantować dokładność danych w `m_ofn` zmiennej członkowskiej, `UpdateOFNFromShellDialog` należy wywołać funkcję przed dostępem do danych. System Windows wywołuje tę funkcję automatycznie podczas przetwarzania [IFileDialog::OnFileOK](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ifiledialogevents-onfileok).

Aby uzyskać więcej informacji `CFileDialog` na temat używania klasy w systemie Windows Vista lub [nowszym, zobacz CFileDialog Class](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Przykład

W tym `CFileDialog` przykładzie aktualizuje przed wyświetleniem go. Przed zaktualizowaniem `m_ofn` zmiennej elementu członkowskiego musimy zsynchronizować ją z bieżącym stanem okna dialogowego.

[!code-cpp[NVC_MFC_CFileDialog#1](../../mfc/reference/codesnippet/cpp/cfiledialog-class_7.cpp)]

## <a name="see-also"></a>Zobacz też

[Klasa CCommonDialog](../../mfc/reference/ccommondialog-class.md)<br/>
[Wykres hierarchii](../../mfc/hierarchy-chart.md)
