---
title: C26446
ms.date: 03/22/2018
ms.topic: reference
f1_keywords:
- C26446
helpviewer_keywords:
- C26446
ms.openlocfilehash: eff94d61f6c792a6ad720a24b049a25d9d354f91
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/27/2020
ms.locfileid: "87215078"
---
# <a name="c26446-use_gsl_at"></a>C26446 USE_GSL_AT

Wolisz używać `gsl::at()` zamiast niesprawdzonego operatora indeksu.

Podstawowe wytyczne dotyczące języka C++: [bounds. 4: nie używaj funkcji i typów, które nie są powiązane z biblioteką standardową](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#probounds-bounds-safety-profile).

Profil ograniczenia podstawowe wytyczne dotyczące języka C++ próbuje wyeliminować niebezpieczne manipulacje pamięci poprzez uniknięcie użycia nieprzetworzonych wskaźników i niesprawdzonych operacji. Jednym ze sposobów przeprowadzenia jednolitego dostępu sprawdzonego zakres do buforów jest użycie `gsl::at()` narzędzia z biblioteki pomocy technicznej. Dobrym sposobem jest również skorzystanie z standardowych implementacji `at()` dostępnych w kontenerach STL.

Ta reguła ułatwia znalezienie miejsc, w których możliwe jest niesprawdzony dostęp za pośrednictwem wywołań operatora \[ ] (). W większości przypadków takie wywołania mogą być łatwo zastąpione przez `gsl::at()` .

- Dostęp do tablic o znanym rozmiarze jest oflagowany, gdy nie jest używany indeks niestały w operatorze indeksu dolnego. Stałe indeksy są obsługiwane przez [C26483 STATIC_INDEX_OUT_OF_RANGE](c26483.md).
- Logika na potrzeby wywołań przeciążonego operatora [] jest bardziej złożona:
  - Jeśli indeks jest niecałkowity, wywołanie jest ignorowane. Obsługuje to również indeksowanie w standardowych mapach, ponieważ parametry w takich operatorach są przesyłane przez odwołanie.
  - Jeśli operator jest oznaczony jako niezgłaszający (przy użyciu **`noexcept`** , **throw ()** lub **`__declspec(nothrow)`** ), wywołanie jest oflagowane. Przyjęto założenie, że jeśli operator indeksu dolnego nigdy nie wyrzuca wyjątków, nie przeprowadza sprawdzenia zakresu lub te testy są ukrywane.
  - Jeśli operator nie zostanie oznaczony jako niezgłaszający, może być oflagowany, jeśli pochodzi z kontenera STL, który definiuje również tradycyjną `at()` funkcję członkowską (takie funkcje są wykrywane przez proste dopasowanie nazw).
  - Reguła nie ostrzega o wywołaniach funkcji standardowych `at()` . Te funkcje są bezpieczne i zastępują je za pomocą tej samej `gsl::at()` wartości.
- Indeksowanie do `std::basic_string_view<>` nie jest bezpieczne, dlatego zostanie wygenerowane ostrzeżenie. Standardowy widok ciągu może zostać zastąpiony przez `gsl::basic_string_span<>` , który jest zawsze powiązany — zaznaczone.
- Implementacja nie uwzględnia sprawdzania zakresu, że kod użytkownika może znajdować się w pętlach lub gałęziach. Dokładność jest dostępna w tym miejscu pod kątem wydajności. Ogólnie rzecz biorąc, jawne sprawdzenia zakresu mogą często być zastępowane bardziej niezawodnymi iteratorami lub bardziej zwięzłymi pętlami for.
