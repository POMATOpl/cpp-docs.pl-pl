---
title: Funkcje CRT nie są obsługiwane w aplikacjach platformy uniwersalnej systemu Windows
description: Przewodnik po funkcjach CRT nie jest obsługiwany w aplikacjach platformy uniwersalnej systemu Windows.
ms.date: 04/16/2020
ms.assetid: cbfc957d-6c60-48f4-97e3-1ed8526743b4
ms.openlocfilehash: a93da415d36e5eccd8cad745fd72e1914ad23ed1
ms.sourcegitcommit: 9266fc76ac2e872e35a208b4249660dfdfc87cba
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/16/2020
ms.locfileid: "81480802"
---
# <a name="crt-functions-not-supported-in-universal-windows-platform-apps"></a>Funkcje CRT nie są obsługiwane w aplikacjach platformy uniwersalnej systemu Windows

Wiele funkcji środowiska wykonawczego C (CRT) nie jest dostępnych podczas tworzenia aplikacji platformy uniwersalnej systemu Windows (UWP). Czasami dostępne są obejścia — na przykład można użyć interfejsów API środowiska wykonawczego systemu Windows lub systemu Win32. W innych przypadkach funkcje CRT zostały zablokowane, ponieważ odpowiednie funkcje lub obsługujące interfejsy API nie mają zastosowania do aplikacji platformy uniwersalnej systemu Windows. Aby wyszukać alternatywną metodę obsługiwaną dla środowiska wykonawczego systemu Windows, zobacz [Alternatywy dla interfejsów API systemu Windows w aplikacjach platformy uniwersalnej systemu Windows](/uwp/win32-and-com/alternatives-to-windows-apis-uwp).

W poniższej tabeli wymieniono funkcje CRT, które są niedostępne podczas tworzenia aplikacji platformy uniwersalnej systemu Windows. Wskazuje wszelkie obejścia, które mają zastosowanie.

## <a name="unsupported-crt-functions"></a>Nieobsługiwały funkcje CRT

||||
|-|-|-|
|_beep _sleep _seterrormode|Funkcje te były przestarzałe w poprzednich wersjach CRT. Ponadto odpowiednie interfejsy API systemu Win32 nie są dostępne dla aplikacji platformy uniwersalnej systemu Windows.|Brak obejścia.|
|chdir _chdrive getcwd|Te funkcje są przestarzałe lub nie są bezpieczne dla wątków.|Użyj funkcji _chdir, _getcwd i pokrewnych.|
|_cgets _cgets_s _cgets _cgetws_s _cgetws_s _cprintf _cprintf_l _cprintf_p _cgets _cprintf_p_l _cputs _cprintf_s _cputs _cprintf_s_l _cputs _cputs _cscanf _cputws _cscanf_l _cgetws _cscanf_s _cscanf_s_l _cwait _cwprintf_l _cwprintf _cwprintf_l _cwprintf_p _cwprintf_p_l _cwprintf_s _cwprintf_p_l _cwprintf_s_l _cwscanf _cwscanf _cwscanf _cwscanf_l _cwscanf_s _cwscanf_s_l _vcprintf _vcprintf_l _vcprintf_p _vcprintf_l _vcprintf_p_l _vcprintf_s _vcprintf_s_l _vcwprintf _vcwprintf_l _vcwprintf_p _vcwprintf_p_l _vcwprintf_s _getch _vcwprintf_s_l _getch_nolock _ getche _getche_nolock _getwch _getwch_nolock _getwche _getwche_nolock _putch _putch_nolock _putwch _putwch _putwch_nolock _ungetch _ungetwch _ungetch_nolock _ungetwch_nolock _kbhit kbhit putch cgets cprintf cputs cscanf cwait getch getche ungetch|Funkcje te są używane do odczytu i zapisu bezpośrednio z i do konsoli. Aplikacje platformy uniwersalnej systemu Windows są tylko w interfejsie graficznym; nie obsługują konsoli.|Brak obejścia.|
|getpid _getpid | Te funkcje są przestarzałe.|Użyj interfejsu API `GetCurrentProcessId`systemu Win32 .|
|_getdiskfree|Niedostępne.|Użyj interfejsu API `GetDiskFreeSpaceExW`systemu Win32 .|
|_getdrive _getdrives|Odpowiedni interfejs API nie jest dostępny dla aplikacji platformy uniwersalnej systemu Windows.|Brak obejścia.|
|_inp _inpd _inpw _outp _outpd _outpw inpd inpw outpd outpd outpd outpd outpd outpd outpd outpd outpd outpd outpd outpd|We/Wy portu nie jest obsługiwany w aplikacjach platformy uniwersalnej systemu Windows.|Brak obejścia.|
|_ismbcalnum _ismbcalnum_l _ismbcalpha _ismbcalpha_l _ismbcdigit _ismbcdigit _ismbcdigit_l _ismbcgraph _ismbcgraph _ismbcgraph_l _ismbchira _ismbchira_l _ismbckata _ismbckata_l _ismbcl0 _ismbcl0 _ismbcl0_l _ismbcl1 _ismbcl1_l _ismbcupper _ismbcl2 _ismbcl2_l _ismbcl2 _ismbclegal _ismbclegal _ismbclower _ismbclegal_l _ismbclower_l _ismbcprint _ismbcpunct _ismbcpunct _ismbcprint_l _ismbcpunct _ismbcspace _ismbcpunct_l _ismbcspace_l _ismbcsymbol_l _ismbcsymbol _ismbcupper _ismbcupper_l _ismbcpunct _ismbcpunct _mbbtombc _mbbtombc_l _mbbtombc _mbbtype _mbbtype_l _mbccpy _mbccpy _mbccpy_l _mbccpy_s _mbccpy_s_l _mbcjistojms _mbcjistojms_l _mbcjmstojis _mbcjmstojis _mb cjmstojis_l _mbclen _mbclen_l _mbctohira _mbctohira_l _mbctokata _mbctokata_l _mbctolower _mbctolower_l _ _mbctombb_l _mbctoupper _mbctoupper_l _mbsbtype _mbsbtype_l _mbscat_l _mbscat _mbscat_l _mbscat_s _mbscat_s_l _mbscat_s_l _mbscmp _mbschr_l _mbschr _mbscat_s_l _mbscmp_l _mbscmp_l _mbscmp_l _mbscoll _mbscoll_l _mbscpy _mbscpy_l _mbscpy_s_l _mbscpy_s _mbscspn _mbscspn _mbscspn _mbscspn _mbsdec _mbscspn_l _mbscspn _mbsdec_l _mbsicmp _mbsicmp_l _mbsicmp_l _mbsicoll_l _mbsicoll_l _mbscspn _mbscspn _mbscspn _mbscspn _mbscspn _mbscspn _mbsicoll _mbsicoll_l _mbsicoll_l _mbscspn _mbsicoll_l _mbscspn _mbsinc _mbsinc_l _mbslen _mbslen_l _mbslwr _mbslwr_l _mbslwr_s _mbslwr_s_l _mbsnbcat _mbsnbcat_l _mbsnbcat_s _mbsnbcat_s_l _mbsnbcmp _mbsnbcmp_l _mbsnbcnt _mbsnbcnt_l _mbsnbcoll _mbsnbcoll_l _mbsnbcpy _mbsnbcpy_l _ mbsnbcpy_s _mbsnbcpy_s_l _mbsnbcpy_s_l _mbsnbicmp_l _mbsnbicmp _mbsnbicoll _mbsnbicoll _mbsnbicoll_l _mbsnbset_s _mbsnbset _mbsnbset_s _mbsnbset_s _mbsnbset_s_l _mbsncat _mbsncat_l _mbsncat_l _mbsncat_s _mbsnccnt _mbsncat_s_l _mbsnccnt_l _mbsnccnt_l _mbsnccnt_l _mbsncoll _mbsnccnt_l _mbsncmp _mbsncmp_l _mbsncmp_l _mbsncpy_s_l _mbsncoll_l _mbsncpy_s _mbsncpy_l _mbsncpy _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsnextc _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsncmp_l _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsncpy_s_l _mbsnextc_l _mbsncmp_l _mbsncmp_l _mbsncmp_l _mbsncmp_l _mbsnbset_l _mbsnicmp _mbsnicmp_l _mbsnicoll _mbsnicoll_l _mbsnicoll_l _mbsninc _mbsninc_l _mbsnlen _mbsnlen_l _mbsnset _mbsnset_l _mbsnset_s _mbsnset_s_l _mbspbrk _mbspbrk_l _mbsrchr _mbsrchr_l _mbsrev _mbsrev _mbsrev_l _mbsset _mbsset_l _mbsset_ _mbsset_s_l _mbsspn _mbsspn_l _mbsspnp _mbsspnp_l _mbsstr _mbsstr_l _mbstok _mbstok _mbstok_l _mbstok_s _mbstok_s_l _mbstok_s _mbsupr _mbsupr_l _mbsupr_s _mbsupr_s_l is_wctype _mbsupr_l|Ciągi wielo bajtów nie są obsługiwane w aplikacjach platformy uniwersalnej systemu Windows.|Zamiast tego użyj ciągów Unicode.|
|_pclose _pipe _popen _wpopen|Funkcja potoku nie jest dostępna dla aplikacji platformy uniwersalnej systemu Windows.|Brak obejścia.|
|_resetstkoflw|Obsługa interfejsów API systemu Win32 nie jest dostępna dla aplikacji platformy uniwersalnej systemu Windows.|Brak obejścia.|
|_setsystime _getsystime|Były to przestarzałe interfejsy API w poprzednich wersjach CRT. Ponadto użytkownik nie może ustawić czasu systemowego w aplikacji platformy uniwersalnej systemu z powodu braku uprawnień.|Aby uzyskać tylko czas systemowy, użyj `GetSystemTime`interfejsu API Usługi Win32 . Nie można ustawić czasu systemowego.|
|_environ _putenv _putenv_s _putenv _searchenv _searchenv_s _searchenv_s _dupenv_s _wputenv _wputenv_s _wsearchenv getenv_s getenv _wdupenv_s getenv_s _wenviron _wgetenv _wgetenv_s _wsearchenv_s tzset|Zmienne środowiskowe nie są dostępne dla aplikacji platformy uniwersalnej systemu Windows.|Brak obejścia. Aby ustawić strefę czasową, użyj _tzset.|
|_loaddll _getdllprocaddr _unloaddll|Były to przestarzałe funkcje w poprzednich wersjach CRT. Ponadto użytkownik nie może załadować bibliotek DLL z wyjątkiem tych w tym samym pakiecie aplikacji.|Użyj interfejsów `LoadPackagedLibrary` `GetProcAddress`API systemu Win32 oraz `FreeLibrary` do ładowania i używania spakowanych bibliotek DLL.|
|_wexecl _wexecle _wexeclp _wexeclpe _wexeclpe _wexeclpe _wexecv _wexecve _wexeclpe _execl _wexecvp _wexecvpe _execl _spawnle _spawnl _execvpe _execve _execv _execlpe _execlp _execle _execl _execl _execvp _execvp _spawnlp _spawnlpe _spawnlpe _spawnvp _execvp _execl _spawnv _execl _spawnve _execvp _spawnvpe _wspawnl _wspawnle _wspawnlp _wspawnlpe _wspawnv _wspawnve _wspawnvp _wspawnvpe _wsystem _wspawnvpe execl execl execlp execlpe execv execvve execvp execvpe execvpe spawnl spawnl spawnlp spawnlpe spawnv spawnv spawnve spawnvp spawnvpe system spawnvpe|Funkcja nie jest dostępna w aplikacjach platformy uniwersalnej systemu Windows. Aplikacja platformy uniwersalnej systemu Windows nie może wywołać innej aplikacji platformy uniwersalnej systemu Windows ani aplikacji klasycznej.|Brak obejścia.|
|_heapwalk _heapadd _heapchk _heapset _heapused|Te funkcje są zazwyczaj używane do pracy ze stertą. Jednak odpowiednie interfejsy API systemu Win32 nie są obsługiwane w aplikacjach platformy uniwersalnej systemu Windows. Aplikacje nie mogą już tworzyć ani używać prywatnych stert.|Brak obejścia. Jednak `_heapwalk` jest dostępny w DEBUG CRT, tylko do celów debugowania. Tych funkcji nie można używać w aplikacjach, które są przekazywane do sklepu Microsoft Store.|

Następujące funkcje są dostępne w aplikacji CRT dla platformy uniwersalnej systemu Windows. Jednak należy ich używać tylko wtedy, gdy nie można użyć odpowiednich interfejsów API środowiska wykonawczego systemu Win32 lub systemu Windows, na przykład podczas przenoszenia dużych baz kodu:

|||
|-|-|
|Funkcje ciągu jedno bajtowego `strcat` `strcpy`— `strlwr`na przykład , , i tak dalej.|Upewnij się, że aplikacje platformy uniwersalnej systemu Windows ściśle Unicode, ponieważ wszystkie interfejsy API systemu Win32 i środowiska wykonawczego systemu Windows, które są uwidaczniane używać tylko zestawów znaków Unicode.  Funkcje jedno bajtowe zostały pozostawione do przenoszenia dużych baz kodu, ale w przeciwnym razie należy unikać. Odpowiednie szerokie funkcje char powinny być używane zamiast, gdy jest to możliwe.|
|Przesyłanie strumieniowe we/wy i funkcje `fopen` `open`we/wy pliku niskiego poziomu — na przykład , itd.|Te funkcje są synchroniczne, co nie jest zalecane dla aplikacji platformy uniwersalnej systemu Windows. W aplikacjach platformy uniwersalnej systemu Windows użyj asynchronicznych interfejsów API, aby otwierać, odczytywać i zapisywać pliki do plików, aby zapobiec blokowaniu wątku interfejsu użytkownika. Przykładami takich interfejsów API są `Windows::Storage::FileIO` te w klasie.|

## <a name="windows-8x-store-apps-and-windows-phone-8x-apps"></a>Aplikacje ze Sklepu Windows 8.x i aplikacje dla systemu Windows Phone 8.x

Zarówno wcześniej wymienione interfejsy API, jak i następujące interfejsy API są niedostępne w aplikacjach ze Sklepu Windows 8.x i aplikacjach systemu Windows Phone 8.x.

||||
|-|-|-|
|_beginthread _beginthreadex _endthreadex _endthread|Interfejsy API usługi Win32 w wątkach nie są dostępne w aplikacjach ze Sklepu Windows 8.x.|Użyj `Windows Runtime Windows::System::Threading::ThreadPool` lub `concurrency::task` zamiast tego.|
|_chdir _wchdir _getcwd _getdcwd _getdcwd _wgetcwd _wgetdcwd|Pojęcie działającego katalogu nie ma zastosowania do aplikacji ze Sklepu Windows 8.x.|Zamiast tego użyj pełnych ścieżek.|
|_ismbbalnum_l _ismbbalnum _isleadbyte_l, _ismbbalpha _ismbbkalnum_l _ismbbkprint _ismbbalpha _ismbbalpha_l _ismbbgraph _ismbbalpha_l _ismbbgraph_l _ismbbkalnum _ismbbkalnum_l _ismbbkana_l _ismbbkana _ismbbkprint _ismbbkprint_l _ismbbkprint _ismbbkprint _ismbbkprint _ismbbtrail_l _ismbbtrail _ismbbpunct_l _ismbbpunct _ismbbprint_l _ismbbprint _ismbblead_l _ismbblead _ismbbkpunct_l _ismbbkpunct _ismbbkprint _ismbslead _ismbslead _ismbstrail _ismbslead_l _ismbstrail_l _ismbstrail_l _ismbstrail_l _mbsdup _mbsdup _mbsdup _ismbslead _mbsdup|Ciągi wielo bajtowe nie są obsługiwane w aplikacjach ze Sklepu Windows 8.x.|Zamiast tego użyj ciągów Unicode.|
|_tzset|Zmienne środowiskowe nie są dostępne dla aplikacji ze Sklepu Windows 8.x.|Brak obejścia.|
|_get_heap_handle, _heapmin|Odpowiednie interfejsy API systemu Win32 nie są obsługiwane w aplikacjach ze Sklepu Windows 8.x. Aplikacje nie mogą już tworzyć prywatnych stert.|Brak obejścia. Jednak `_get_heap_handle` jest dostępny w DEBUG CRT, tylko do celów debugowania.|
